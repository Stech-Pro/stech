/* 오버레이: 화면 전체를 덮는 배경 */
.magicPencilOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  z-index: 10000;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

/* 닫기 버튼: 오버레이 우측 상단 */
.mpCloseBtn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #ff4444;
  color: white;
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  z-index: 10001;
}

/* 컨테이너: 도구 모음과 캔버스를 가로로 배치 */
.magicPencilContainer {
  display: flex;
  flex-direction: row;
  gap: 20px;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
}

/* 도구 모음: 왼쪽 세로 바 */
.magicPencilTools {
  background: rgba(255, 255, 255, 0.95);
  padding-top: 10px;
  padding-bottom: 10px;
  border-radius: 12px;
  display: flex;
  flex-direction: column; /* 그룹들을 세로로 쌓음 */
  align-items: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  width: 130px; /* 고정 너비 */
  height: fit-content;
  max-height: 95%; /* 툴바가 너무 길어지지 않도록 */
  overflow-y: auto; /* 내용이 길어지면 스크롤 */
}

/* 캔버스: 오른쪽 영역 */
.magicPencilCanvas {
  display: block;
  cursor: crosshair;
  border-radius: 8px;
  max-width: calc(100% - 100px); /* 툴바 너비를 고려한 최대 너비 */
  max-height: 100%;
  object-fit: contain;
}

/* ▼▼▼ MODIFIED: 모든 그룹을 세로로 배치하고 구분선 추가 ▼▼▼ */

/* 각 도구 그룹의 공통 스타일 */
.mpToolGroup,
.mpColorGroup,
.mpSizeGroup,
.mpEraserSize,
.mpActionGroup {
  display: flex;
  flex-direction: column; /* 모든 아이템을 세로로 쌓음 */
  align-items: center;   /* 가운데 정렬 */
  gap: 8px;              /* 아이템 간 세로 간격 */
  width: 100%;
  padding: 15px 0;
  border-top: 1px solid #e0e0e0; /* 그룹 사이에 구분선 */
}

/* 첫 번째 그룹의 상단 구분선과 패딩 제거 */
.magicPencilTools > div:first-child {
  border-top: none;
  padding-top: 0;
}

/* 마지막 그룹의 하단 패딩 제거 */
.magicPencilTools > div:last-child {
  padding-bottom: 0;
}

/* ▲▲▲ END OF MODIFICATION ▲▲▲ */


.mpTool,
.mpActionGroup button {
  background: white;
  border: 2px solid #ddd;
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  width: 44px; /* 버튼 너비 고정 */
  height: 44px; /* 버튼 높이 고정 */
  display: flex;
  align-items: center;
  justify-content: center;
}

.mpTool.active,
.mpTool:hover {
  background: #0066ff;
  color: white;
  border-color: #0066ff;
}

.mpColor {
  width: 28px;
  height: 28px;
  border: 2px solid transparent;
  border-radius: 50%;
  cursor: pointer;
}

.mpColor.active {
  border-color: #333;
  box-shadow: 0 0 0 2px white, 0 0 0 4px #333;
}

.mpSizeGroup input {
  width: 100px;
}

.mpEraserSize-buttons button {
  padding: 6px 12px;
  background: white;
  border: 2px solid #ddd;
  border-radius: 6px;
  cursor: pointer;
}

.mpEraserSize-buttons button.active {
  background: #0066ff;
  color: white;
  border-color: #0066ff;
}

.mpSaveBtn {
  background: #00c851 !important;
  color: white !important;
  border-color: #00c851 !important;
}