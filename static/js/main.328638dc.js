/*! For license information please see main.328638dc.js.LICENSE.txt */
(()=>{var e={446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,s="millisecond",i="second",a="minute",r="hour",o="day",l="week",c="month",d="quarter",h="year",u="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(s,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var s=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(s,c),a=n-i<0,r=t.clone().add(s+(a?-1:1),c);return+(-(s+(n-i)/(a?i-r:r-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:h,w:l,d:o,D:u,h:r,m:a,s:i,ms:s,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=f;var w="$isDayjsObject",_=function(e){return e instanceof A||!(!e||!e[w])},S=function e(t,n,s){var i;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(i=a),n&&(b[a]=n,i=a);var r=t.split("-");if(!i&&r.length>1)return e(r[0])}else{var o=t.name;b[o]=t,i=o}return!s&&i&&(x=i),i||!s&&x},k=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},C=y;C.l=S,C.i=_,C.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function f(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(m);if(s){var i=s[2]-1||0,a=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,a)):new Date(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,s=!!C.u(t)||t,d=C.p(e),p=function(e,t){var i=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return s?i:i.endOf(o)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,f=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case h:return s?p(1,0):p(31,11);case c:return s?p(1,f):p(0,f+1);case l:var x=this.$locale().weekStart||0,b=(g<x?g+7:g)-x;return p(s?v-b:v+(6-b),f);case o:case u:return m(y+"Hours",0);case r:return m(y+"Minutes",1);case a:return m(y+"Seconds",2);case i:return m(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=C.p(e),d="set"+(this.$u?"UTC":""),p=(n={},n[o]=d+"Date",n[u]=d+"Date",n[c]=d+"Month",n[h]=d+"FullYear",n[r]=d+"Hours",n[a]=d+"Minutes",n[i]=d+"Seconds",n[s]=d+"Milliseconds",n)[l],m=l===o?this.$D+(t-this.$W):t;if(l===c||l===h){var g=this.clone().set(u,1);g.$d[p](m),g.init(),this.$d=g.set(u,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(s,d){var u,p=this;s=Number(s);var m=C.p(d),g=function(e){var t=k(p);return C.w(t.date(t.date()+Math.round(e*s)),p)};if(m===c)return this.set(c,this.$M+s);if(m===h)return this.set(h,this.$y+s);if(m===o)return g(1);if(m===l)return g(7);var f=(u={},u[a]=t,u[r]=n,u[i]=e,u)[m]||1,v=this.$d.getTime()+s*f;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var s=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$H,r=this.$m,o=this.$M,l=n.weekdays,c=n.months,d=n.meridiem,h=function(e,n,i,a){return e&&(e[n]||e(t,s))||i[n].slice(0,a)},u=function(e){return C.s(a%12||12,e,"0")},m=d||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s};return s.replace(g,function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return o+1;case"MM":return C.s(o+1,2,"0");case"MMM":return h(n.monthsShort,o,c,3);case"MMMM":return h(c,o);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return m(a,r,!0);case"A":return m(a,r,!1);case"m":return String(r);case"mm":return C.s(r,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(s,u,p){var m,g=this,f=C.p(u),v=k(s),y=(v.utcOffset()-this.utcOffset())*t,x=this-v,b=function(){return C.m(g,v)};switch(f){case h:m=b()/12;break;case c:m=b();break;case d:m=b()/3;break;case l:m=(x-y)/6048e5;break;case o:m=(x-y)/864e5;break;case r:m=x/n;break;case a:m=x/t;break;case i:m=x/e;break;default:m=x}return p?m:C.a(m)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=S(e,t,!0);return s&&(n.$L=s),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),j=A.prototype;return k.prototype=j,[["$ms",s],["$s",i],["$m",a],["$H",r],["$W",o],["$M",c],["$y",h],["$D",u]].forEach(function(e){j[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),k.extend=function(e,t){return e.$i||(e(t,A,k),e.$i=!0),k},k.locale=S,k.isDayjs=_,k.unix=function(e){return k(1e3*e)},k.en=b[x],k.Ls=b,k.p={},k}()},579:(e,t,n)=>{"use strict";e.exports=n(1153)},1153:(e,t,n)=>{"use strict";var s=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,a={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},2730:(e,t,n)=>{"use strict";var s=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,s,i,a,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=r}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,s){var i=f.hasOwnProperty(t)?f[t]:null;(null!==i?0!==i.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,s)&&(n=null),s||null===i?function(e){return!!h.call(m,e)||!h.call(p,e)&&(u.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,s=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);f[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);f[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);f[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),j=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,F=Object.assign;function I(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=s.stack.split("\n"),r=i.length-1,o=a.length-1;1<=r&&0<=o&&i[r]!==a[o];)o--;for(;1<=r&&0<=o;r--,o--)if(i[r]!==a[o]){if(1!==r||1!==o)do{if(r--,0>--o||i[r]!==a[o]){var l="\n"+i[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function U(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Y(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(s&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),s=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=ge(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ce(e){if(e=xi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ae(e){Se?ke?ke.push(e):ke=[e]:Se=e}function je(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ee(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Se||null!==ke)&&(Ee(),je())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var s=wi(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Oe=!1}function Le(e,t,n,s,i,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Fe=null,Ie=!1,Be=null,We={onError:function(e){Re=!0,Fe=e}};function Ue(e,t,n,s,i,a,r,o,l){Re=!1,Fe=null,Le.apply(We,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(s=i.return)){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return He(i),e;if(r===s)return He(i),t;r=r.sibling}throw Error(a(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,st=i.unstable_IdlePriority,it=null,at=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~i;0!==o?s=ht(o):0!==(a&=r)&&(s=ht(a))}else 0!==(r=n&~i)?s=ht(r):0!==a&&(s=ht(a));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)i=1<<(n=31-rt(t)),s|=e[n],t&=~i;return s}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-rt(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,kt,Ct,At=!1,jt=[],Tt=null,Et=null,Nt=null,Pt=new Map,Mt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Rt(e,t,n,s,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&_t(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&_t(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);be=s,n.target.dispatchEvent(s),be=null,t.shift()}return!0}function Bt(e,t,n){It(e)&&n.delete(t)}function Wt(){At=!1,null!==Tt&&It(Tt)&&(Tt=null),null!==Et&&It(Et)&&(Et=null),null!==Nt&&It(Nt)&&(Nt=null),Pt.forEach(Bt),Mt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function zt(e){function t(t){return Ut(t,e)}if(0<jt.length){Ut(jt[0],e);for(var n=1;n<jt.length;n++){var s=jt[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Et&&Ut(Et,e),null!==Nt&&Ut(Nt,e),Pt.forEach(t),Mt.forEach(t),n=0;n<Ot.length;n++)(s=Ot[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Gt=b.ReactCurrentBatchConfig,Ht=!0;function Yt(e,t,n,s){var i=xt,a=Gt.transition;Gt.transition=null;try{xt=1,qt(e,t,n,s)}finally{xt=i,Gt.transition=a}}function Vt(e,t,n,s){var i=xt,a=Gt.transition;Gt.transition=null;try{xt=4,qt(e,t,n,s)}finally{xt=i,Gt.transition=a}}function qt(e,t,n,s){if(Ht){var i=Xt(e,t,n,s);if(null===i)Hs(e,t,s,Kt,n),Lt(e,s);else if(function(e,t,n,s,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,s,i),!0;case"dragenter":return Et=Rt(Et,e,t,n,s,i),!0;case"mouseover":return Nt=Rt(Nt,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Rt(Pt.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Rt(Mt.get(a)||null,e,t,n,s,i)),!0}return!1}(i,e,t,n,s))s.stopPropagation();else if(Lt(e,s),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,s))&&Hs(e,t,s,Kt,n),a===i)break;i=a}null!==i&&s.stopPropagation()}else Hs(e,t,s,null,n)}}var Kt=null;function Xt(e,t,n,s){if(Kt=null,null!==(e=yi(e=we(s))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,s=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<s&&n[e]===i[e];e++);var r=s-e;for(t=1;t<=r&&n[s-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function an(e){function t(t,n,s,i,a){for(var r in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(i):i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),hn=F({},cn,{view:0,detail:0}),un=an(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(pn),gn=an(F({},pn,{dataTransfer:0})),fn=an(F({},hn,{relatedTarget:0})),vn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(yn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var An=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(An),Tn=an(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Pn),On=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Rn=d&&"TextEvent"in window&&!Ln,Fn=d&&(!Dn||Ln&&8<Ln&&11>=Ln),In=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Yn(e,t,n,s){Ae(s),0<(t=Vs(t,"onChange")).length&&(n=new dn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Vn=null,qn=null;function Kn(e){Is(e,0)}function Xn(e){if(q(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Zn;if(d){var $n="oninput"in document;if(!$n){var es=document.createElement("div");es.setAttribute("oninput","return;"),$n="function"===typeof es.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function ts(){Vn&&(Vn.detachEvent("onpropertychange",ns),qn=Vn=null)}function ns(e){if("value"===e.propertyName&&Xn(qn)){var t=[];Yn(t,qn,e,we(e)),Pe(Kn,t)}}function ss(e,t,n){"focusin"===e?(ts(),qn=n,(Vn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function is(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(qn)}function as(e,t){if("click"===e)return Xn(t)}function rs(e,t){if("input"===e||"change"===e)return Xn(t)}var os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!h.call(t,i)||!os(e[i],t[i]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function hs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function us(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ms(e){var t=us(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hs(n.ownerDocument.documentElement,n)){if(null!==s&&ps(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=void 0===s.end?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=ds(n,a);var r=ds(n,s);i&&r&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gs=d&&"documentMode"in document&&11>=document.documentMode,fs=null,vs=null,ys=null,xs=!1;function bs(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xs||null==fs||fs!==K(s)||("selectionStart"in(s=fs)&&ps(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=Vs(vs,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=fs)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _s={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Ss={},ks={};function Cs(e){if(Ss[e])return Ss[e];if(!_s[e])return e;var t,n=_s[e];for(t in n)if(n.hasOwnProperty(t)&&t in ks)return Ss[e]=n[t];return e}d&&(ks=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);var As=Cs("animationend"),js=Cs("animationiteration"),Ts=Cs("animationstart"),Es=Cs("transitionend"),Ns=new Map,Ps="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){Ns.set(e,t),l(t,[e])}for(var Os=0;Os<Ps.length;Os++){var Ds=Ps[Os];Ms(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Ms(As,"onAnimationEnd"),Ms(js,"onAnimationIteration"),Ms(Ts,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(Es,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Fs(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,i,r,o,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var d=Fe;Re=!1,Fe=null,Ie||(Ie=!0,Be=d)}}(s,t,void 0,e),e.currentTarget=null}function Is(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var r=s.length-1;0<=r;r--){var o=s[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Fs(i,o,c),a=l}else for(r=0;r<s.length;r++){if(l=(o=s[r]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Fs(i,o,c),a=l}}}if(Ie)throw e=Be,Ie=!1,Be=null,e}function Bs(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var s=e+"__bubble";n.has(s)||(Gs(t,e,2,!1),n.add(s))}function Ws(e,t,n){var s=0;t&&(s|=4),Gs(n,e,s,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Us]){e[Us]=!0,r.forEach(function(t){"selectionchange"!==t&&(Rs.has(t)||Ws(t,!1,e),Ws(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Us]||(t[Us]=!0,Ws("selectionchange",!1,t))}}function Gs(e,t,n,s){switch(Qt(t)){case 1:var i=Yt;break;case 4:i=Vt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),s?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hs(e,t,n,s,i){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var r=s.tag;if(3===r||4===r){var o=s.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===r)for(r=s.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;r=r.return}for(;null!==o;){if(null===(r=yi(o)))return;if(5===(l=r.tag)||6===l){s=a=r;continue e}o=o.parentNode}}s=s.return}Pe(function(){var s=a,i=we(n),r=[];e:{var o=Ns.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=fn;break;case"focusout":c="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case As:case js:case Ts:l=vn;break;case Es:l=Nn;break;case"scroll":l=un;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),h=!d&&"scroll"===e,u=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=s;null!==m;){var g=(p=m).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==u&&(null!=(g=Me(m,u))&&d.push(Ys(m,g,p)))),h)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(d=mn,g="onMouseLeave",u="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,g="onPointerLeave",u="onPointerEnter",m="pointer"),h=null==l?o:bi(l),p=null==c?o:bi(c),(o=new d(g,m+"leave",l,n,i)).target=h,o.relatedTarget=p,g=null,yi(i)===s&&((d=new d(u,m+"enter",c,n,i)).target=p,d.relatedTarget=h,g=d),h=g,l&&c)e:{for(u=c,m=0,p=d=l;p;p=qs(p))m++;for(p=0,g=u;g;g=qs(g))p++;for(;0<m-p;)d=qs(d),m--;for(;0<p-m;)u=qs(u),p--;for(;m--;){if(d===u||null!==u&&d===u.alternate)break e;d=qs(d),u=qs(u)}d=null}else d=null;null!==l&&Ks(r,o,l,d,!1),null!==c&&null!==h&&Ks(r,h,c,d,!0)}if("select"===(l=(o=s?bi(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=Qn;else if(Hn(o))if(Jn)f=rs;else{f=is;var v=ss}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=as);switch(f&&(f=f(e,s))?Yn(r,f,n,i):(v&&v(e,o,s),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=s?bi(s):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(fs=v,vs=s,ys=null);break;case"focusout":ys=vs=fs=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,bs(r,n,i);break;case"selectionchange":if(gs)break;case"keydown":case"keyup":bs(r,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Wn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Vs(s,x)).length&&(x=new bn(x,e,null,n,i),r.push({event:x,listeners:v}),y?x.data=y:null!==(y=Un(n))&&(x.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,In);case"textInput":return(e=t.data)===In&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Wn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=Vs(s,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),r.push({event:i,listeners:s}),i.data=y))}Is(r,t)})}function Ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",s=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&s.unshift(Ys(e,a,i)),null!=(a=Me(e,t))&&s.push(Ys(e,a,i))),e=e.return}return s}function qs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ks(e,t,n,s,i){for(var a=t._reactName,r=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Me(n,a))&&r.unshift(Ys(n,l,o)):i||null!=(l=Me(n,a))&&r.push(Ys(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Xs=/\r\n?/g,Qs=/\u0000|\uFFFD/g;function Js(e){return("string"===typeof e?e:""+e).replace(Xs,"\n").replace(Qs,"")}function Zs(e,t,n){if(t=Js(t),Js(e)!==t&&n)throw Error(a(425))}function $s(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:si;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===s)return e.removeChild(i),void zt(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),ui="__reactFiber$"+hi,pi="__reactProps$"+hi,mi="__reactContainer$"+hi,gi="__reactEvents$"+hi,fi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[ui])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[ui]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var _i=[],Si=-1;function ki(e){return{current:e}}function Ci(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ai(e,t){Si++,_i[Si]=e.current,e.current=t}var ji={},Ti=ki(ji),Ei=ki(!1),Ni=ji;function Pi(e,t){var n=e.type.contextTypes;if(!n)return ji;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(Ei),Ci(Ti)}function Di(e,t,n){if(Ti.current!==ji)throw Error(a(168));Ai(Ti,t),Ai(Ei,n)}function Li(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var i in s=s.getChildContext())if(!(i in t))throw Error(a(108,G(e)||"Unknown",i));return F({},n,s)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ni=Ti.current,Ai(Ti,e),Ai(Ei,Ei.current),!0}function Fi(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Li(e,t,Ni),s.__reactInternalMemoizedMergedChildContext=e,Ci(Ei),Ci(Ti),Ai(Ti,e)):Ci(Ei),Ai(Ei,n)}var Ii=null,Bi=!1,Wi=!1;function Ui(e){null===Ii?Ii=[e]:Ii.push(e)}function zi(){if(!Wi&&null!==Ii){Wi=!0;var e=0,t=xt;try{var n=Ii;for(xt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Ii=null,Bi=!1}catch(i){throw null!==Ii&&(Ii=Ii.slice(e+1)),qe($e,zi),i}finally{xt=t,Wi=!1}}return null}var Gi=[],Hi=0,Yi=null,Vi=0,qi=[],Ki=0,Xi=null,Qi=1,Ji="";function Zi(e,t){Gi[Hi++]=Vi,Gi[Hi++]=Yi,Yi=e,Vi=t}function $i(e,t,n){qi[Ki++]=Qi,qi[Ki++]=Ji,qi[Ki++]=Xi,Xi=e;var s=Qi;e=Ji;var i=32-rt(s)-1;s&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var r=i-i%5;a=(s&(1<<r)-1).toString(32),s>>=r,i-=r,Qi=1<<32-rt(t)+i|n<<i|s,Ji=a+e}else Qi=1<<a|n<<i|s,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Yi;)Yi=Gi[--Hi],Gi[Hi]=null,Vi=Gi[--Hi],Gi[Hi]=null;for(;e===Xi;)Xi=qi[--Ki],qi[Ki]=null,Ji=qi[--Ki],qi[Ki]=null,Qi=qi[--Ki],qi[Ki]=null}var na=null,sa=null,ia=!1,aa=null;function ra(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,sa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,sa=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=sa;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var s=na;t&&oa(e,t)?ra(s,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=sa)){if(la(e))throw ua(),Error(a(418));for(;t;)ra(e,t),t=ci(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){sa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}sa=null}}else sa=na?ci(e.stateNode.nextSibling):null;return!0}function ua(){for(var e=sa;e;)e=ci(e.nextSibling)}function pa(){sa=na=null,ia=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var ga=b.ReactCurrentBatchConfig;function fa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var i=s,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function r(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Fc(n,e.mode,s)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===S?h(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&ya(a)===t.type)?((s=i(t,n.props)).ref=fa(e,t,n),s.return=e,s):((s=Dc(n.type,n.key,n.props,null,e.mode,s)).ref=fa(e,t,n),s.return=e,s)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,s)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,s,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,s,a)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=fa(e,null,t),n.return=e,n;case _:return(t=Ic(t,e.mode,n)).return=e,t;case M:return u(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,s){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,s):null;case _:return n.key===i?d(e,t,n,s):null;case M:return p(e,t,(i=n._init)(n._payload),s)}if(te(n)||L(n))return null!==i?null:h(e,t,n,s,null);va(e,n)}return null}function m(e,t,n,s,i){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(n)||null,""+s,i);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return c(t,e=e.get(null===s.key?n:s.key)||null,s,i);case _:return d(t,e=e.get(null===s.key?n:s.key)||null,s,i);case M:return m(e,t,n,(0,s._init)(s._payload),i)}if(te(s)||L(s))return h(t,e=e.get(n)||null,s,i,null);va(t,s)}return null}function g(i,a,o,l){for(var c=null,d=null,h=a,g=a=0,f=null;null!==h&&g<o.length;g++){h.index>g?(f=h,h=null):f=h.sibling;var v=p(i,h,o[g],l);if(null===v){null===h&&(h=f);break}e&&h&&null===v.alternate&&t(i,h),a=r(v,a,g),null===d?c=v:d.sibling=v,d=v,h=f}if(g===o.length)return n(i,h),ia&&Zi(i,g),c;if(null===h){for(;g<o.length;g++)null!==(h=u(i,o[g],l))&&(a=r(h,a,g),null===d?c=h:d.sibling=h,d=h);return ia&&Zi(i,g),c}for(h=s(i,h);g<o.length;g++)null!==(f=m(h,i,g,o[g],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?g:f.key),a=r(f,a,g),null===d?c=f:d.sibling=f,d=f);return e&&h.forEach(function(e){return t(i,e)}),ia&&Zi(i,g),c}function f(i,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var h=d=null,g=o,f=o=0,v=null,y=l.next();null!==g&&!y.done;f++,y=l.next()){g.index>f?(v=g,g=null):v=g.sibling;var x=p(i,g,y.value,c);if(null===x){null===g&&(g=v);break}e&&g&&null===x.alternate&&t(i,g),o=r(x,o,f),null===h?d=x:h.sibling=x,h=x,g=v}if(y.done)return n(i,g),ia&&Zi(i,f),d;if(null===g){for(;!y.done;f++,y=l.next())null!==(y=u(i,y.value,c))&&(o=r(y,o,f),null===h?d=y:h.sibling=y,h=y);return ia&&Zi(i,f),d}for(g=s(i,g);!y.done;f++,y=l.next())null!==(y=m(g,i,f,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?f:y.key),o=r(y,o,f),null===h?d=y:h.sibling=y,h=y);return e&&g.forEach(function(e){return t(i,e)}),ia&&Zi(i,f),d}return function e(s,a,r,l){if("object"===typeof r&&null!==r&&r.type===S&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case w:e:{for(var c=r.key,d=a;null!==d;){if(d.key===c){if((c=r.type)===S){if(7===d.tag){n(s,d.sibling),(a=i(d,r.props.children)).return=s,s=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&ya(c)===d.type){n(s,d.sibling),(a=i(d,r.props)).ref=fa(s,d,r),a.return=s,s=a;break e}n(s,d);break}t(s,d),d=d.sibling}r.type===S?((a=Lc(r.props.children,s.mode,l,r.key)).return=s,s=a):((l=Dc(r.type,r.key,r.props,null,s.mode,l)).ref=fa(s,a,r),l.return=s,s=l)}return o(s);case _:e:{for(d=r.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===r.containerInfo&&a.stateNode.implementation===r.implementation){n(s,a.sibling),(a=i(a,r.children||[])).return=s,s=a;break e}n(s,a);break}t(s,a),a=a.sibling}(a=Ic(r,s.mode,l)).return=s,s=a}return o(s);case M:return e(s,a,(d=r._init)(r._payload),l)}if(te(r))return g(s,a,r,l);if(L(r))return f(s,a,r,l);va(s,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==a&&6===a.tag?(n(s,a.sibling),(a=i(a,r)).return=s,s=a):(n(s,a),(a=Fc(r,s.mode,l)).return=s,s=a),o(s)):n(s,a)}}var ba=xa(!0),wa=xa(!1),_a=ki(null),Sa=null,ka=null,Ca=null;function Aa(){Ca=ka=Sa=null}function ja(e){var t=_a.current;Ci(_a),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){Sa=e,Ca=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Sa)throw Error(a(308));ka=e,Sa.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Pa=null;function Ma(e){null===Pa?Pa=[e]:Pa.push(e)}function Oa(e,t,n,s){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,s)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Tl)){var i=s.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Da(e,n)}return null===(i=s.interleaved)?(t.next=t,Ma(s)):(t.next=i.next,i.next=t),s.interleaved=t,Da(e,n)}function Wa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=r:a=a.next=r,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,s){var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?a=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(r=0,d=c=l=null,o=a;;){var u=o.lane,p=o.eventTime;if((s&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(u=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(p,h,u);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(u="function"===typeof(m=g.payload)?m.call(p,h,u):m)||void 0===u)break e;h=F({},h,u);break e;case 2:La=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(u=i.effects)?i.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,r|=u;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(u=o).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{r|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=r,e.lanes=r,e.memoizedState=h}}function Ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!==typeof i)throw Error(a(191,i));i.call(s)}}}var Ha={},Ya=ki(Ha),Va=ki(Ha),qa=ki(Ha);function Ka(e){if(e===Ha)throw Error(a(174));return e}function Xa(e,t){switch(Ai(qa,t),Ai(Va,e),Ai(Ya,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ya),Ai(Ya,t)}function Qa(){Ci(Ya),Ci(Va),Ci(qa)}function Ja(e){Ka(qa.current);var t=Ka(Ya.current),n=le(t,e.type);t!==n&&(Ai(Va,e),Ai(Ya,n))}function Za(e){Va.current===e&&(Ci(Ya),Ci(Va))}var $a=ki(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var sr=b.ReactCurrentDispatcher,ir=b.ReactCurrentBatchConfig,ar=0,rr=null,or=null,lr=null,cr=!1,dr=!1,hr=0,ur=0;function pr(){throw Error(a(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function gr(e,t,n,s,i,r){if(ar=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sr.current=null===e||null===e.memoizedState?Zr:$r,e=n(s,i),dr){r=0;do{if(dr=!1,hr=0,25<=r)throw Error(a(301));r+=1,lr=or=null,t.updateQueue=null,sr.current=eo,e=n(s,i)}while(dr)}if(sr.current=Jr,t=null!==or&&null!==or.next,ar=0,lr=or=rr=null,cr=!1,t)throw Error(a(300));return e}function fr(){var e=0!==hr;return hr=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function yr(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(a(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function xr(e,t){return"function"===typeof t?t(e):t}function br(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=or,i=s.baseQueue,r=n.pending;if(null!==r){if(null!==i){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(null!==i){r=i.next,s=s.baseState;var l=o=null,c=null,d=r;do{var h=d.lane;if((ar&h)===h)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=u,o=s):c=c.next=u,rr.lanes|=h,Rl|=h}d=d.next}while(null!==d&&d!==r);null===c?o=s:c.next=l,os(s,t.memoizedState)||(xo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){i=e;do{r=i.lane,rr.lanes|=r,Rl|=r,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wr(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{r=e(r,o.action),o=o.next}while(o!==i);os(r,t.memoizedState)||(xo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function _r(){}function Sr(e,t){var n=rr,s=yr(),i=t(),r=!os(s.memoizedState,i);if(r&&(s.memoizedState=i,xo=!0),s=s.queue,Lr(Ar.bind(null,n,s,e),[e]),s.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Nr(9,Cr.bind(null,n,s,i,t),void 0,null),null===El)throw Error(a(349));0!==(30&ar)||kr(n,t,i)}return i}function kr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cr(e,t,n,s){t.value=n,t.getSnapshot=s,jr(t)&&Tr(e)}function Ar(e,t,n){return n(function(){jr(t)&&Tr(e)})}function jr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(s){return!0}}function Tr(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function Er(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},t.queue=e,e=e.dispatch=qr.bind(null,rr,e),[t.memoizedState,e]}function Nr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Pr(){return yr().memoizedState}function Mr(e,t,n,s){var i=vr();rr.flags|=e,i.memoizedState=Nr(1|t,n,void 0,void 0===s?null:s)}function Or(e,t,n,s){var i=yr();s=void 0===s?null:s;var a=void 0;if(null!==or){var r=or.memoizedState;if(a=r.destroy,null!==s&&mr(s,r.deps))return void(i.memoizedState=Nr(t,n,a,s))}rr.flags|=e,i.memoizedState=Nr(1|t,n,a,s)}function Dr(e,t){return Mr(8390656,8,e,t)}function Lr(e,t){return Or(2048,8,e,t)}function Rr(e,t){return Or(4,2,e,t)}function Fr(e,t){return Or(4,4,e,t)}function Ir(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Br(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Or(4,4,Ir.bind(null,t,e),n)}function Wr(){}function Ur(e,t){var n=yr();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function zr(e,t){var n=yr();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Gr(e,t,n){return 0===(21&ar)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(os(n,t)||(n=gt(),rr.lanes|=n,Rl|=n,e.baseState=!0),t)}function Hr(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var s=ir.transition;ir.transition={};try{e(!1),t()}finally{xt=n,ir.transition=s}}function Yr(){return yr().memoizedState}function Vr(e,t,n){var s=tc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Kr(e))Xr(t,n);else if(null!==(n=Oa(e,t,n,s))){nc(n,e,s,ec()),Qr(n,t,s)}}function qr(e,t,n){var s=tc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Xr(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=a(r,n);if(i.hasEagerState=!0,i.eagerState=o,os(o,r)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oa(e,t,i,s))&&(nc(n,e,s,i=ec()),Qr(n,t,s))}}function Kr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Xr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qr(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jr={readContext:Na,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Zr={readContext:Na,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:Dr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mr(4194308,4,Ir.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=vr();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Vr.bind(null,rr,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Er,useDebugValue:Wr,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Er(!1),t=e[0];return e=Hr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=rr,i=vr();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===El)throw Error(a(349));0!==(30&ar)||kr(s,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Dr(Ar.bind(null,s,r,e),[e]),s.flags|=2048,Nr(9,Cr.bind(null,s,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=El.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-rt(Qi)-1)).toString(32)+n),0<(n=hr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ur++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$r={readContext:Na,useCallback:Ur,useContext:Na,useEffect:Lr,useImperativeHandle:Br,useInsertionEffect:Rr,useLayoutEffect:Fr,useMemo:zr,useReducer:br,useRef:Pr,useState:function(){return br(xr)},useDebugValue:Wr,useDeferredValue:function(e){return Gr(yr(),or.memoizedState,e)},useTransition:function(){return[br(xr)[0],yr().memoizedState]},useMutableSource:_r,useSyncExternalStore:Sr,useId:Yr,unstable_isNewReconciler:!1},eo={readContext:Na,useCallback:Ur,useContext:Na,useEffect:Lr,useImperativeHandle:Br,useInsertionEffect:Rr,useLayoutEffect:Fr,useMemo:zr,useReducer:wr,useRef:Pr,useState:function(){return wr(xr)},useDebugValue:Wr,useDeferredValue:function(e){var t=yr();return null===or?t.memoizedState=e:Gr(t,or.memoizedState,e)},useTransition:function(){return[wr(xr)[0],yr().memoizedState]},useMutableSource:_r,useSyncExternalStore:Sr,useId:Yr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),a=Ia(s,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,i))&&(nc(t,e,i,s),Wa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),a=Ia(s,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,i))&&(nc(t,e,i,s),Wa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),s=tc(e),i=Ia(n,s);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ba(e,i,s))&&(nc(t,e,s,n),Wa(t,e,s))}};function io(e,t,n,s,i,a,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,r):!t.prototype||!t.prototype.isPureReactComponent||(!ls(n,s)||!ls(i,a))}function ao(e,t,n){var s=!1,i=ji,a=t.contextType;return"object"===typeof a&&null!==a?a=Na(a):(i=Mi(t)?Ni:Ti.current,a=(s=null!==(s=t.contextTypes)&&void 0!==s)?Pi(e,i):ji),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ro(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Na(a):(a=Mi(t)?Ni:Ti.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&so.enqueueReplaceState(i,i.state,null),za(e,n,i,s),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",s=t;do{n+=U(s),s=s.return}while(s);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Hl||(Hl=!0,Yl=s),ho(0,t)},n}function mo(e,t,n){(n=Ia(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof s&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new uo;var i=new Set;s.set(t,i)}else void 0===(i=s.get(t))&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function fo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,s,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,s){t.child=null===e?wa(t,null,n,s):ba(t,e.child,n,s)}function wo(e,t,n,s,i){n=n.render;var a=t.ref;return Ea(t,i),s=gr(e,t,n,s,a,i),n=fr(),null===e||xo?(ia&&n&&ea(t),t.flags|=1,bo(e,t,s,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,s,i){if(null===e){var a=n.type;return"function"!==typeof a||Mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,s,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,So(e,t,a,s,i))}if(a=e.child,0===(e.lanes&i)){var r=a.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(r,s)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Oc(a,s)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,s,i){if(null!==e){var a=e.memoizedProps;if(ls(a,s)&&e.ref===t.ref){if(xo=!1,t.pendingProps=s=a,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(xo=!0)}}return Ao(e,t,n,s,i)}function ko(e,t,n){var s=t.pendingProps,i=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ol,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ol,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:n,Ai(Ol,Ml),Ml|=s}else null!==a?(s=a.baseLanes|n,t.memoizedState=null):s=n,Ai(Ol,Ml),Ml|=s;return bo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,s,i){var a=Mi(n)?Ni:Ti.current;return a=Pi(t,a),Ea(t,i),n=gr(e,t,n,s,a,i),s=fr(),null===e||xo?(ia&&s&&ea(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function jo(e,t,n,s,i){if(Mi(n)){var a=!0;Ri(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Go(e,t),ao(t,n,s),oo(t,n,s,i),s=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Na(c):c=Pi(t,c=Mi(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;h||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==s||l!==c)&&ro(t,r,s,c),La=!1;var u=t.memoizedState;r.state=u,za(t,s,r,i),l=t.memoizedState,o!==s||u!==l||Ei.current||La?("function"===typeof d&&(no(t,n,d,s),l=t.memoizedState),(o=La||io(t,n,o,s,u,l,c))?(h||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),r.props=s,r.state=l,r.context=c,s=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Fa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,h=t.pendingProps,u=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Na(l):l=Pi(t,l=Mi(n)?Ni:Ti.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==h||u!==l)&&ro(t,r,s,l),La=!1,u=t.memoizedState,r.state=u,za(t,s,r,i);var m=t.memoizedState;o!==h||u!==m||Ei.current||La?("function"===typeof p&&(no(t,n,p,s),m=t.memoizedState),(c=La||io(t,n,c,s,u,m,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(s,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),r.props=s,r.state=m,r.context=l,s=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return To(e,t,n,s,a,i)}function To(e,t,n,s,i,a){Co(e,t);var r=0!==(128&t.flags);if(!s&&!r)return i&&Fi(t,n,!1),Ho(e,t,a);s=t.stateNode,yo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&r?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=s.state,i&&Fi(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xa(e,t.containerInfo)}function No(e,t,n,s,i){return pa(),ma(i),t.flags|=256,bo(e,t,n,s),t.child}var Po,Mo,Oo,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var s,i=t.pendingProps,r=$a.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&r)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Ai($a,1&r),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Lo,e):Io(t,l));if(null!==(r=e.memoizedState)&&null!==(s=r.dehydrated))return function(e,t,n,s,i,r,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,s=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=s.fallback,i=t.mode,s=Rc({mode:"visible",children:s.children},i,0,null),(r=Lc(r,i,o,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Lo,r);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(s=i.nextSibling&&i.nextSibling.dataset)var l=s.dgst;return s=l,Bo(e,t,o,s=co(r=Error(a(419)),s,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(s=El)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(s.suspendedLanes|o))?0:i)&&i!==r.retryLane&&(r.retryLane=i,Da(e,i),nc(s,e,i,-1))}return gc(),Bo(e,t,o,s=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,sa=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Ki++]=Qi,qi[Ki++]=Ji,qi[Ki++]=Xi,Qi=e.id,Ji=e.overflow,Xi=t),t=Io(t,s.children),t.flags|=4096,t)}(e,t,l,i,s,r,n);if(o){o=i.fallback,l=t.mode,s=(r=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==r?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==s?o=Oc(s,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Io(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,s){return null!==s&&ma(s),ba(t,e.child,null,n),(e=Io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Ta(e.return,t,n)}function Uo(e,t,n,s,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function zo(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(bo(e,t,s.children,n),0!==(2&(s=$a.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ai($a,s),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===er(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=14680064&i.subtreeFlags,s|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function qo(e,t,n){var s=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Mi(t.type)&&Oi(),Vo(t),null;case 3:return s=t.stateNode,Qa(),Ci(Ei),Ci(Ti),nr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(rc(aa),aa=null))),Mo(e,t),Vo(t),null;case 5:Za(t);var i=Ka(qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(a(166));return Vo(t),null}if(e=Ka(Ya.current),ha(t)){s=t.stateNode,n=t.type;var r=t.memoizedProps;switch(s[ui]=t,s[pi]=r,e=0!==(1&t.mode),n){case"dialog":Bs("cancel",s),Bs("close",s);break;case"iframe":case"object":case"embed":Bs("load",s);break;case"video":case"audio":for(i=0;i<Ls.length;i++)Bs(Ls[i],s);break;case"source":Bs("error",s);break;case"img":case"image":case"link":Bs("error",s),Bs("load",s);break;case"details":Bs("toggle",s);break;case"input":Q(s,r),Bs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Bs("invalid",s);break;case"textarea":ie(s,r),Bs("invalid",s)}for(var l in ye(n,r),i=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==r.suppressHydrationWarning&&Zs(s.textContent,c,e),i=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Zs(s.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bs("scroll",s)}switch(n){case"input":V(s),$(s,r,!0);break;case"textarea":V(s),re(s);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(s.onclick=$s)}s=i,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),"select"===n&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[ui]=t,e[pi]=s,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,s),n){case"dialog":Bs("cancel",e),Bs("close",e),i=s;break;case"iframe":case"object":case"embed":Bs("load",e),i=s;break;case"video":case"audio":for(i=0;i<Ls.length;i++)Bs(Ls[i],e);i=s;break;case"source":Bs("error",e),i=s;break;case"img":case"image":case"link":Bs("error",e),Bs("load",e),i=s;break;case"details":Bs("toggle",e),i=s;break;case"input":Q(e,s),i=X(e,s),Bs("invalid",e);break;case"option":default:i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=F({},s,{value:void 0}),Bs("invalid",e);break;case"textarea":ie(e,s),i=se(e,s),Bs("invalid",e)}for(r in ye(n,i),c=i)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?fe(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&he(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Bs("scroll",e):null!=d&&x(e,r,d,l))}switch(n){case"input":V(e),$(e,s,!1);break;case"textarea":V(e),re(e);break;case"option":null!=s.value&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,null!=(r=s.value)?ne(e,!!s.multiple,r,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(n=Ka(qa.current),Ka(Ya.current),ha(t)){if(s=t.stateNode,n=t.memoizedProps,s[ui]=t,(r=s.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zs(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zs(s.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[ui]=t,t.stateNode=s}return Vo(t),null;case 13:if(Ci($a),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==sa&&0!==(1&t.mode)&&0===(128&t.flags))ua(),pa(),t.flags|=98560,r=!1;else if(r=ha(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ui]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),r=!1}else null!==aa&&(rc(aa),aa=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Qa(),Mo(e,t),null===e&&zs(t.stateNode.containerInfo),Vo(t),null;case 10:return ja(t.type._context),Vo(t),null;case 19:if(Ci($a),null===(r=t.memoizedState))return Vo(t),null;if(s=0!==(128&t.flags),null===(l=r.rendering))if(s)Yo(r,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Yo(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai($a,1&$a.current|2),t.child}e=e.sibling}null!==r.tail&&Je()>zl&&(t.flags|=128,s=!0,Yo(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=er(l))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ia)return Vo(t),null}else 2*Je()-r.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,s=!0,Yo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Je(),t.sibling=null,n=$a.current,Ai($a,s?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return hc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ci(Ei),Ci(Ti),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Ci($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci($a),null;case 4:return Qa(),null;case 10:return ja(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Oo=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Ka(Ya.current);var a,r=null;switch(n){case"input":i=X(e,i),s=X(e,s),r=[];break;case"select":i=F({},i,{value:void 0}),s=F({},s,{value:void 0}),r=[];break;case"textarea":i=se(e,i),s=se(e,s),r=[];break;default:"function"!==typeof i.onClick&&"function"===typeof s.onClick&&(e.onclick=$s)}for(d in ye(n,s),n=null,i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in s){var c=s[d];if(l=null!=i?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bs("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,n,s){n!==s&&(t.flags|=4)};var Xo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){kc(e,t,s)}else n.current=null}function el(e,t,n){try{n()}catch(s){kc(e,t,s)}}var tl=!1;function nl(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[pi],delete t[gi],delete t[fi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$s));else if(4!==s&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function ul(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||$o(n,t);case 6:var s=dl,i=hl;dl=null,ul(e,t,n),hl=i,null!==(dl=s)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:s=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,ul(e,t,n),dl=s,hl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){i=s=s.next;do{var a=i,r=a.destroy;a=a.tag,void 0!==r&&(0!==(2&a)||0!==(4&a))&&el(n,t,r),i=i.next}while(i!==s)}ul(e,t,n);break;case 1:if(!Qo&&($o(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){kc(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Qo=(s=Qo)||null!==n.memoizedState,ul(e,t,n),Qo=s):ul(e,t,n);break;default:ul(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var s=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var i=n[s];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(r,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){kc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&s){try{nl(3,e,e.return),sl(3,e)}catch(f){kc(e,e.return,f)}try{nl(5,e,e.return)}catch(f){kc(e,e.return,f)}}break;case 1:gl(t,e),vl(e),512&s&&null!==n&&$o(n,n.return);break;case 5:if(gl(t,e),vl(e),512&s&&null!==n&&$o(n,n.return),32&e.flags){var i=e.stateNode;try{ue(i,"")}catch(f){kc(e,e.return,f)}}if(4&s&&null!=(i=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&J(i,r),xe(l,o);var d=xe(l,r);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];"style"===h?fe(i,u):"dangerouslySetInnerHTML"===h?he(i,u):"children"===h?ue(i,u):x(i,h,u,d)}switch(l){case"input":Z(i,r);break;case"textarea":ae(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(i,!!r.multiple,m,!1):p!==!!r.multiple&&(null!=r.defaultValue?ne(i,!!r.multiple,r.defaultValue,!0):ne(i,!!r.multiple,r.multiple?[]:"",!1))}i[pi]=r}catch(f){kc(e,e.return,f)}}break;case 6:if(gl(t,e),vl(e),4&s){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(f){kc(e,e.return,f)}}break;case 3:if(gl(t,e),vl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(f){kc(e,e.return,f)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(r=null!==i.memoizedState,i.stateNode.isHidden=r,!r||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Je())),4&s&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(d=Qo)||h,gl(t,e),Qo=d):gl(t,e),vl(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(u=Zo=h;null!==Zo;){switch(m=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$o(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){s=p,n=p.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){kc(s,n,f)}}break;case 5:$o(p,p.return);break;case 22:if(null!==p.memoizedState){wl(u);continue}}null!==m?(m.return=p,Zo=m):wl(u)}h=h.sibling}e:for(h=null,u=e;;){if(5===u.tag){if(null===h){h=u;try{i=u.stateNode,d?"function"===typeof(r=i.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=u.stateNode,o=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(f){kc(e,e.return,f)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(f){kc(e,e.return,f)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:gl(t,e),vl(e),4&s&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var i=s.stateNode;32&s.flags&&(ue(i,""),s.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var r=s.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,xl(e,t,n)}function xl(e,t,n){for(var s=0!==(1&e.mode);null!==Zo;){var i=Zo,a=i.child;if(22===i.tag&&s){var r=null!==i.memoizedState||Xo;if(!r){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=r,(Qo=l)&&!c)for(Zo=i;null!==Zo;)l=(r=Zo).child,22===r.tag&&null!==r.memoizedState?_l(i):null!==l?(l.return=r,Zo=l):_l(i);for(;null!==a;)Zo=a,xl(a,t,n),a=a.sibling;Zo=i,Xo=o,Qo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zo=a):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Qo)if(null===n)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ga(t,r,s);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ga(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var h=d.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&zt(u)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&il(t)}catch(p){kc(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){kc(t,n,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var i=t.return;try{s.componentDidMount()}catch(l){kc(t,i,l)}}var a=t.return;try{il(t)}catch(l){kc(t,a,l)}break;case 5:var r=t.return;try{il(t)}catch(l){kc(t,r,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Al=b.ReactCurrentOwner,jl=b.ReactCurrentBatchConfig,Tl=0,El=null,Nl=null,Pl=0,Ml=0,Ol=ki(0),Dl=0,Ll=null,Rl=0,Fl=0,Il=0,Bl=null,Wl=null,Ul=0,zl=1/0,Gl=null,Hl=!1,Yl=null,Vl=null,ql=!1,Kl=null,Xl=0,Ql=0,Jl=null,Zl=-1,$l=0;function ec(){return 0!==(6&Tl)?Je():-1!==Zl?Zl:Zl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Pl?Pl&-Pl:null!==ga.transition?(0===$l&&($l=gt()),$l):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,s){if(50<Ql)throw Ql=0,Jl=null,Error(a(185));vt(e,n,s),0!==(2&Tl)&&e===El||(e===El&&(0===(2&Tl)&&(Fl|=n),4===Dl&&oc(e,Pl)),sc(e,s),1===n&&0===Tl&&0===(1&t.mode)&&(zl=Je()+500,Bi&&zi()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var r=31-rt(a),o=1<<r,l=i[r];-1===l?0!==(o&n)&&0===(o&s)||(i[r]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var s=ut(e,e===El?Pl:0);if(0===s)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),ri(function(){0===(6&Tl)&&zi()}),n=null;else{switch(bt(s)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Ec(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,$l=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var s=ut(e,e===El?Pl:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=fc(e,s);else{t=s;var i=Tl;Tl|=2;var r=mc();for(El===e&&Pl===t||(Gl=null,zl=Je()+500,uc(e,t));;)try{yc();break}catch(l){pc(e,l)}Aa(),Cl.current=r,Tl=i,null!==Nl?t=0:(El=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(s=i,t=ac(e,i))),1===t)throw n=Ll,uc(e,0),oc(e,s),sc(e,Je()),n;if(6===t)oc(e,s);else{if(i=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!os(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=fc(e,s))&&(0!==(r=mt(e))&&(s=r,t=ac(e,r))),1===t))throw n=Ll,uc(e,0),oc(e,s),sc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Wl,Gl);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=Ul+500-Je())){if(0!==ut(e,0))break;if(((i=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=si(wc.bind(null,e,Wl,Gl),t);break}wc(e,Wl,Gl);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-rt(s);r=1<<o,(o=t[o])>i&&(i=o),s&=~r}if(s=i,10<(s=(120>(s=Je()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kl(s/1960))-s)){e.timeoutHandle=si(wc.bind(null,e,Wl,Gl),s);break}wc(e,Wl,Gl);break;default:throw Error(a(329))}}}return sc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Wl,Wl=n,null!==t&&rc(t)),e}function rc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function oc(e,t){for(t&=~Il,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),s=1<<n;e[n]=-1,t&=~s}}function lc(e){if(0!==(6&Tl))throw Error(a(327));_c();var t=ut(e,0);if(0===(1&t))return sc(e,Je()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var s=mt(e);0!==s&&(t=s,n=ac(e,s))}if(1===n)throw n=Ll,uc(e,0),oc(e,t),sc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Gl),sc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(zl=Je()+500,Bi&&zi())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=jl.transition,s=xt;try{if(jl.transition=null,xt=1,e)return e()}finally{xt=s,jl.transition=n,0===(6&(Tl=t))&&zi()}}function hc(){Ml=Ol.current,Ci(Ol)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var s=n;switch(ta(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Oi();break;case 3:Qa(),Ci(Ei),Ci(Ti),nr();break;case 5:Za(s);break;case 4:Qa();break;case 13:case 19:Ci($a);break;case 10:ja(s.type._context);break;case 22:case 23:hc()}n=n.return}if(El=e,Nl=e=Oc(e.current,null),Pl=Ml=t,Dl=0,Ll=null,Il=Fl=Rl=0,Wl=Bl=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(s=(n=Pa[t]).interleaved)){n.interleaved=null;var i=s.next,a=n.pending;if(null!==a){var r=a.next;a.next=i,s.next=r}n.pending=s}Pa=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(Aa(),sr.current=Jr,cr){for(var s=rr.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}cr=!1}if(ar=0,lr=or=rr=null,dr=!1,hr=0,Al.current=null,null===n||null===n.return){Dl=1,Ll=t,Nl=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,h=l,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=fo(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&go(r,d,t),c=d;var g=(t=m).updateQueue;if(null===g){var f=new Set;f.add(c),t.updateQueue=f}else g.add(c);break e}if(0===(1&t)){go(r,d,t),gc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=fo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ma(lo(c,l));break e}}r=c=lo(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[r]:Bl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ua(r,po(0,c,t));break e;case 1:l=c;var y=r.type,x=r.stateNode;if(0===(128&r.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Vl||!Vl.has(x)))){r.flags|=65536,t&=-t,r.lanes|=t,Ua(r,mo(r,l,t));break e}}r=r.return}while(null!==r)}bc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=Jr,null===e?Jr:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Rl)&&0===(268435455&Fl)||oc(El,Pl)}function fc(e,t){var n=Tl;Tl|=2;var s=mc();for(El===e&&Pl===t||(Gl=null,uc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Aa(),Tl=n,Cl.current=s,null!==Nl)throw Error(a(261));return El=null,Pl=0,Dl}function vc(){for(;null!==Nl;)xc(Nl)}function yc(){for(;null!==Nl&&!Xe();)xc(Nl)}function xc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,Al.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Ml)))return void(Nl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var s=xt,i=jl.transition;try{jl.transition=null,xt=1,function(e,t,n,s){do{_c()}while(null!==Kl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}(e,r),e===El&&(Nl=El=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ec(tt,function(){return _c(),null})),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=jl.transition,jl.transition=null;var o=xt;xt=1;var l=Tl;Tl|=4,Al.current=null,function(e,t){if(ei=Ht,ps(e=us())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,p=null;t:for(;;){for(var m;u!==n||0!==i&&3!==u.nodeType||(l=o+i),u!==r||0!==s&&3!==u.nodeType||(c=o+s),3===u.nodeType&&(o+=u.nodeValue.length),null!==(m=u.firstChild);)p=u,u=m;for(;;){if(u===e)break t;if(p===n&&++d===i&&(l=o),p===r&&++h===s&&(c=o),null!==(m=u.nextSibling))break;p=(u=p).parentNode}u=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,v=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:to(t.type,f),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=tl,tl=!1}(e,n),fl(n,e),ms(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,xt=o,jl.transition=r}else e.current=n;if(ql&&(ql=!1,Kl=e,Xl=i),r=e.pendingLanes,0===r&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Je()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Yl,Yl=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),r=e.pendingLanes,0!==(1&r)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,zi()}(e,t,n,s)}finally{jl.transition=i,xt=s}return null}function _c(){if(null!==Kl){var e=bt(Xl),t=jl.transition,n=xt;try{if(jl.transition=null,xt=16>e?16:e,null===Kl)var s=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Tl))throw Error(a(331));var i=Tl;for(Tl|=4,Zo=e.current;null!==Zo;){var r=Zo,o=r.child;if(0!==(16&Zo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,r)}var u=h.child;if(null!==u)u.return=h,Zo=u;else for(;null!==Zo;){var p=(h=Zo).sibling,m=h.return;if(al(h),h===d){Zo=null;break}if(null!==p){p.return=m,Zo=p;break}Zo=m}}}var g=r.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(null!==f)}}Zo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(r=Zo).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var y=r.sibling;if(null!==y){y.return=r.return,Zo=y;break e}Zo=r.return}}var x=e.current;for(Zo=x;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=x;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(_){kc(l,l.return,_)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Tl=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}s=!0}return s}finally{xt=n,jl.transition=t}}return!1}function Sc(e,t,n){e=Ba(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),sc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Vl||!Vl.has(s))){t=Ba(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Cc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-Ul?uc(e,0):Il|=n),sc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Da(e,t))&&(vt(e,t,n),sc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(t),Ac(e,n)}function Ec(e,t){return qe(e,t)}function Nc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,s){return new Nc(e,t,n,s)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,s,i,r){var o=2;if(s=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Lc(n.children,i,r,t);case k:o=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=r,e;case E:return(e=Pc(13,n,t,i)).elementType=E,e.lanes=r,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=r,e;case O:return Rc(n,i,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case j:o=9;break e;case T:o=11;break e;case P:o=14;break e;case M:o=16,s=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=s,t.lanes=r,t}function Lc(e,t,n,s){return(e=Pc(7,e,s,t)).lanes=n,e}function Rc(e,t,n,s){return(e=Pc(22,e,s,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,s,i,a,r,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Uc(e){if(!e)return ji;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Li(e,n,t)}return t}function zc(e,t,n,s,i,a,r,o,l){return(e=Wc(n,s,!0,e,0,a,0,o,l)).context=Uc(null),n=e.current,(a=Ia(s=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ba(n,a,i),e.current.lanes=i,vt(e,i,s),sc(e,s),e}function Gc(e,t,n,s){var i=t.current,a=ec(),r=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,r)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Ba(i,t,r))&&(nc(e,i,r,a),Wa(e,i,r)),r}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),pa();break;case 5:Ja(t);break;case 1:Mi(t.type)&&Ri(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Ai(_a,s._currentValue),s._currentValue=i;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Ai($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ai($a,1&$a.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ai($a,1&$a.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai($a,$a.current),s)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ia&&0!==(1048576&t.flags)&&$i(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Go(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);Ea(t,n),i=gr(null,t,s,e,i,n);var r=fr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(s)?(r=!0,Ri(t)):r=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=so,t.stateNode=i,i._reactInternals=t,oo(t,s,e,n),t=To(null,t,s,!0,r,n)):(t.tag=0,ia&&r&&ea(t),bo(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,s=(i=s._init)(s._payload),t.type=s,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(s),e=to(s,e),i){case 0:t=Ao(null,t,s,e,n);break e;case 1:t=jo(null,t,s,e,n);break e;case 11:t=wo(null,t,s,e,n);break e;case 14:t=_o(null,t,s,to(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,Ao(e,t,s,i=t.elementType===s?i:to(s,i),n);case 1:return s=t.type,i=t.pendingProps,jo(e,t,s,i=t.elementType===s?i:to(s,i),n);case 3:e:{if(Eo(t),null===e)throw Error(a(387));s=t.pendingProps,i=(r=t.memoizedState).element,Fa(e,t),za(t,s,null,n);var o=t.memoizedState;if(s=o.element,r.isDehydrated){if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=No(e,t,s,n,i=lo(Error(a(423)),t));break e}if(s!==i){t=No(e,t,s,n,i=lo(Error(a(424)),t));break e}for(sa=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),s===i){t=Ho(e,t,n);break e}bo(e,t,s,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),s=t.type,i=t.pendingProps,r=null!==e?e.memoizedProps:null,o=i.children,ni(s,i)?o=null:null!==r&&ni(s,r)&&(t.flags|=32),Co(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fo(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ba(t,null,s,n):bo(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,wo(e,t,s,i=t.elementType===s?i:to(s,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,Ai(_a,s._currentValue),s._currentValue=o,null!==r)if(os(r.value,o)){if(r.children===i.children&&!Ei.current){t=Ho(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===r.tag){(c=Ia(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var h=(d=d.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Ta(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ea(t,n),s=s(i=Na(i)),t.flags|=1,bo(e,t,s,n),t.child;case 14:return i=to(s=t.type,t.pendingProps),_o(e,t,s,i=to(s.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:to(s,i),Go(e,t),t.tag=1,Mi(s)?(e=!0,Ri(t)):e=!1,Ea(t,n),ao(t,s,i),oo(t,s,i,n),To(null,t,s,!0,e,n);case 19:return zo(e,t,n);case 22:return ko(e,t,n)}throw Error(a(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,s,i){var a=n._reactRootContainer;if(a){var r=a;if("function"===typeof i){var o=i;i=function(){var e=Hc(r);o.call(e)}}Gc(t,r,e,i)}else r=function(e,t,n,s,i){if(i){if("function"===typeof s){var a=s;s=function(){var e=Hc(r);a.call(e)}}var r=zc(t,s,e,0,null,!1,0,"",Zc);return e._reactRootContainer=r,e[mi]=r.current,zs(8===e.nodeType?e.parentNode:e),dc(),r}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof s){var o=s;s=function(){var e=Hc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mi]=l.current,zs(8===e.nodeType?e.parentNode:e),dc(function(){Gc(t,l,n,s)}),l}(n,t,e,i,s);return Hc(r)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Gc(null,e,null,null)}),t[mi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Je()),0===(6&Tl)&&(zl=Je()+500,zi()))}break;case 13:dc(function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},_t=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return xt},Ct=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=wi(s);if(!i)throw Error(a(90));q(s),Z(s,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ae,je,cc]},td={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{it=sd.inject(nd),at=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,s="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,s,i),e[mi]=t.current,zs(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var s=null!=n&&n.hydratedSources||null,i=!1,r="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,r,o),e[mi]=t.current,zs(e),s)for(e=0;e<s.length;e++)i=(i=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function v(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,s){var i,a={},r=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:r,ref:o,props:a,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,i,a,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case s:l=!0}}if(l)return r=r(l=e),e=""===a?"."+T(l,0):a,w(r)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),E(r,t,i,"",function(e){return e})):null!=r&&(A(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,i+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(j,"$&/")+"/")+e)),t.push(r)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+T(o=e[c],c);l+=E(o,t,i,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,i,d=a+T(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var s=[],i=0;return E(e,s,"","",function(e){return t.call(n,e,i++)}),s}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=r,t.PureComponent=x,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:r,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var s=n(7950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},5030:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,s,i){var a,r=function(e,n,s){void 0===s&&(s={});var i=new Date(e),a=function(e,n){void 0===n&&(n={});var s=n.timeZoneName||"short",i=e+"|"+s,a=t[i];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:s}),t[i]=a),a}(n,s);return a.formatToParts(i)},o=function(t,n){for(var s=r(t,n),a=[],o=0;o<s.length;o+=1){var l=s[o],c=l.type,d=l.value,h=e[c];h>=0&&(a[h]=parseInt(d,10))}var u=a[3],p=24===u?0:u,m=a[0]+"-"+a[1]+"-"+a[2]+" "+p+":"+a[4]+":"+a[5]+":000",g=+t;return(i.utc(m).valueOf()-(g-=g%1e3))/6e4},l=s.prototype;l.tz=function(e,t){void 0===e&&(e=a);var n,s=this.utcOffset(),r=this.toDate(),o=r.toLocaleString("en-US",{timeZone:e}),l=Math.round((r-new Date(o))/1e3/60),c=15*-Math.round(r.getTimezoneOffset()/15)-l;if(Number(c)){if(n=i(o,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var d=n.utcOffset();n=n.add(s-d,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},l.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),n=r(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return n&&n.value};var c=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,n){var s=n&&t,r=n||t||a,l=o(+i(),r);if("string"!=typeof e)return i(e).tz(r);var c=function(e,t,n){var s=e-60*t*1e3,i=o(s,n);if(t===i)return[s,t];var a=o(s-=60*(i-t)*1e3,n);return i===a?[s,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}(i.utc(e,s).valueOf(),l,r),d=c[0],h=c[1],u=i(d).utcOffset(h);return u.$x.$timezone=r,u},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){a=e}}}()},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},6440:e=>{"use strict";var t=function(){};e.exports=t},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,i=e[s];if(!(0<a(i,t)))break e;e[s]=t,e[n]=i,n=s}}function s(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,i=e.length,r=i>>>1;s<r;){var o=2*(s+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[s]=d,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<i&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,p=3,m=!1,g=!1,f=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=s(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function w(e){if(f=!1,b(e),!g)if(null!==s(c))g=!0,O(_);else{var t=s(d);null!==t&&D(w,t.startTime-e)}}function _(e,n){g=!1,f&&(f=!1,y(A),A=-1),m=!0;var a=p;try{for(b(n),u=s(c);null!==u&&(!(u.expirationTime>n)||e&&!E());){var r=u.callback;if("function"===typeof r){u.callback=null,p=u.priorityLevel;var o=r(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?u.callback=o:u===s(c)&&i(c),b(n)}else i(c);u=s(c)}if(null!==u)var l=!0;else{var h=s(d);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{u=null,p=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,A=-1,j=5,T=-1;function E(){return!(t.unstable_now()-T<j)}function N(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"===typeof x)S=function(){x(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=N,S=function(){M.postMessage(null)}}else S=function(){v(N,0)};function O(e){C=e,k||(k=!0,S())}function D(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var r=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?r+a:r:a=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>r?(e.sortIndex=a,n(d,e),null===s(c)&&e===s(d)&&(f?(y(A),A=-1):f=!0,D(w,a-r))):(e.sortIndex=o,n(c,e),g||m||(g=!0,O(_))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8259:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,i,a){var r=i.prototype;a.utc=function(e){return new i({date:e,utc:!0,args:arguments})},r.utc=function(t){var n=a(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},r.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var l=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=r.utcOffset;r.utcOffset=function(s,i){var a=this.$utils().u;if(a(s))return this.$u?0:a(this.$offset)?c.call(this):this.$offset;if("string"==typeof s&&(s=function(e){void 0===e&&(e="");var s=e.match(t);if(!s)return null;var i=(""+s[0]).match(n)||["-",0,0],a=i[0],r=60*+i[1]+ +i[2];return 0===r?0:"+"===a?r:-r}(s),null===s))return this;var r=Math.abs(s)<=16?60*s:s;if(0===r)return this.utc(i);var o=this.clone();if(i)return o.$offset=r,o.$u=!1,o;var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(o=this.local().add(r+l,e)).$offset=r,o.$x.$localOffset=l,o};var d=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var h=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var u=r.diff;r.diff=function(e,t,n){if(e&&this.$u===e.$u)return u.call(this,e,t,n);var s=this.local(),i=a(e).local();return u.call(s,i,t,n)}}}()},8456:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),s={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e+"\uc77c"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return n.default.locale(s,null,!0),s}(n(446))},8853:(e,t,n)=>{"use strict";e.exports=n(7234)}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{dU:()=>Ay,ng:()=>jy,EA:()=>Ty,Tm:()=>Ey,D6:()=>Ny,YE:()=>Py,rE:()=>My});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>kR,hasStandardBrowserEnv:()=>AR,hasStandardBrowserWebWorkerEnv:()=>jR,navigator:()=>CR,origin:()=>TR});var s=n(5043),i=n(4391);function a(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],u=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return C(function(e,t){let{pathname:n,search:s,hash:i}=e.location;return _("",{pathname:n,search:s,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Cw){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||s||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function C(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=s,r=i.history,o="POP",l=null,c=h();function h(){return(r.state||{idx:null}).idx}function u(){o="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function p(e){return A(e)}null==c&&(c=0,r.replaceState(d(d({},r.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(i,r)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,u),l=e,()=>{i.removeEventListener(v,u),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let s=_(m.location,e,t);n&&n(s,e),c=h()+1;let d=w(s,c),u=m.createHref(s);try{r.pushState(d,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(u)}a&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let s=_(m.location,e,t);n&&n(s,e),c=h();let i=w(s,c),d=m.createHref(s);r.replaceState(i,"",d),a&&l&&l({action:o,location:m.location,delta:0})},go:e=>r.go(e)};return m}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let s="string"===typeof e?e:S(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}new WeakMap;function j(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,s){let i=G(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let a=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let r=null;for(let o=0;null==r&&o<a.length;++o){let e=z(i);r=B(a[o],e,s)}return r}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(s)&&r)return;x(l.relativePath.startsWith(s),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(s.length)}let c=K([s,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),E(e.children,t,d,c,r)),(null!=e.path||e.index)&&t.push({path:c,score:I(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let s of N(e.path))a(e,t,!0,s);else a(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===s.length)return i?[a,""]:[a];let r=N(s.join("/")),o=[];return o.push(...r.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...r),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,M=3,O=2,D=1,L=10,R=-2,F=e=>"*"===e;function I(e,t){let n=e.split("/"),s=n.length;return n.some(F)&&(s+=R),t&&(s+=O),n.filter(e=>!F(e)).reduce((e,t)=>e+(P.test(t)?M:""===t?D:L),s)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:s}=e,i={},a="/",r=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!d&&l&&n&&!s[s.length-1].route.index&&(d=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),r.push({params:i,pathname:K([a,d.pathname]),pathnameBase:X(K([a,d.pathnameBase])),route:h}),"/"!==d.pathnameBase&&(a=K([a,d.pathnameBase]))}return r}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=U(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:i}=t;if("*"===s){let e=o[n]||"";r=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:r,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function H(e,t,n,s){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Y(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=Y(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function q(e,t,n){let s,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?s=k(e):(s=d({},e),x(!s.pathname||!s.pathname.includes("?"),H("?","pathname","search",s)),x(!s.pathname||!s.pathname.includes("#"),H("#","pathname","hash",s)),x(!s.search||!s.search.includes("#"),H("#","search","hash",s)));let a,r=""===e||""===s.pathname,o=r?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:s="",hash:i=""}="string"===typeof e?k(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Q(s),hash:J(i)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),h=(r||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],ee=(new Set($),["GET",...$]);new Set(ee),Symbol("ResetLoaderData");var te=s.createContext(null);te.displayName="DataRouter";var ne=s.createContext(null);ne.displayName="DataRouterState";var se=s.createContext(!1);var ie=s.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var ae=s.createContext(new Map);ae.displayName="Fetchers";var re=s.createContext(null);re.displayName="Await";var oe=s.createContext(null);oe.displayName="Navigation";var le=s.createContext(null);le.displayName="Location";var ce=s.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var de=s.createContext(null);de.displayName="RouteError";function he(){return null!=s.useContext(le)}function ue(){return x(he(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(le).location}function pe(e){x(he(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=ue();return s.useMemo(()=>W(e,z(t)),[t,e])}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){s.useContext(oe).static||s.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=s.useContext(ce);return e?function(){let{router:e}=je("useNavigate"),t=Ee("useNavigate"),n=s.useRef(!1);ge(()=>{n.current=!0});let i=s.useCallback(async function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(n.current,me),n.current&&("number"===typeof s?e.navigate(s):await e.navigate(s,d({fromRouteId:t},i)))},[e,t]);return i}():function(){x(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(te),{basename:t,navigator:n}=s.useContext(oe),{matches:i}=s.useContext(ce),{pathname:a}=ue(),r=JSON.stringify(V(i)),o=s.useRef(!1);ge(()=>{o.current=!0});let l=s.useCallback(function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,me),!o.current)return;if("number"===typeof s)return void n.go(s);let l=q(s,JSON.parse(r),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:K([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,r,a,e]);return l}()}var ve=s.createContext(null);function ye(){let{matches:e}=s.useContext(ce),t=e[e.length-1];return t?t.params:{}}function xe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=s.useContext(ce),{pathname:i}=ue(),a=JSON.stringify(V(n));return s.useMemo(()=>q(e,JSON.parse(a),i,"path"===t),[e,a,i,t])}function be(e,t,n,i,a){x(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=s.useContext(oe),{matches:o}=s.useContext(ce),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",u=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Me(h,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,g=ue();if(t){var f;let e="string"===typeof t?k(t):t;x("/"===u||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=g;let v=m.pathname||"/",y=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=j(e,{pathname:y});b(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let _=Ce(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:K([u,r.encodeLocation?r.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:K([u,r.encodeLocation?r.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,i,a);return t&&_?s.createElement(le.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},_):_}function we(){let e=Ne(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:r},"ErrorBoundary")," or"," ",s.createElement("code",{style:r},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,o)}var _e=s.createElement(we,null),Se=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?s.createElement(ce.Provider,{value:this.props.routeContext},s.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ke(e){let{routeContext:t,match:n,children:i}=e,a=s.useContext(te);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(ce.Provider,{value:t},i)}function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,r=null===n||void 0===n?void 0:n.errors;if(null!=r){let e=a.findIndex(e=>e.route.id&&void 0!==(null===r||void 0===r?void 0:r[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(r).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let s=0;s<a.length;s++){let e=a[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=s),e.route.id){let{loaderData:t,errors:s}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,c,d)=>{let h,u=!1,p=null,m=null;n&&(h=r&&c.route.id?r[c.route.id]:void 0,p=c.route.errorElement||_e,o&&(l<0&&0===d?(Me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,m=null):l===d&&(u=!0,m=c.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),f=()=>{let t;return t=h?p:u?m:c.route.Component?s.createElement(c.route.Component,null):c.route.element?c.route.element:e,s.createElement(ke,{match:c,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?s.createElement(Se,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:i}):f()},null)}function Ae(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function je(e){let t=s.useContext(te);return x(t,Ae(e)),t}function Te(e){let t=s.useContext(ne);return x(t,Ae(e)),t}function Ee(e){let t=function(e){let t=s.useContext(ce);return x(t,Ae(e)),t}(e),n=t.matches[t.matches.length-1];return x(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ne(){var e;let t=s.useContext(de),n=Te("useRouteError"),i=Ee("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Pe={};function Me(e,t,n){t||Pe[e]||(Pe[e]=!0,b(!1,n))}var Oe={};function De(e,t){e||Oe[t]||(Oe[t]=!0,console.warn(t))}s.memo(function(e){let{routes:t,future:n,state:s,unstable_onError:i}=e;return be(t,void 0,s,i,n)});function Le(e){return function(e){let t=s.useContext(ce).outlet;return s.useMemo(()=>t&&s.createElement(ve.Provider,{value:e},t),[t,e])}(e.context)}function Re(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fe(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:r,static:o=!1}=e;x(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=s.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);"string"===typeof i&&(i=k(i));let{pathname:d="/",search:h="",hash:u="",state:p=null,key:m="default"}=i,g=s.useMemo(()=>{let e=G(d,l);return null==e?null:{location:{pathname:e,search:h,hash:u,state:p,key:m},navigationType:a}},[l,d,h,u,p,m,a]);return b(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(h).concat(u,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:s.createElement(oe.Provider,{value:c},s.createElement(le.Provider,{children:n,value:g}))}function Ie(e){let{children:t,location:n}=e;return be(Be(t),n)}s.Component;function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return s.Children.forEach(e,(e,i)=>{if(!s.isValidElement(e))return;let a=[...t,i];if(e.type===s.Fragment)return void n.push.apply(n,Be(e.props.children,a));x(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let r={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=Be(e.props.children,a)),n.push(r)}),n}var We="get",Ue="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Ge=null;var He=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ye(e){return null==e||He.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Ve(e,t){let n,s,i,a,r;if(ze(o=e)&&"form"===o.tagName.toLowerCase()){let r=e.getAttribute("action");s=r?G(r,t):null,n=e.getAttribute("method")||We,i=Ye(e.getAttribute("enctype"))||Ue,a=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let r=e.form;if(null==r)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||r.getAttribute("action");if(s=o?G(o,t):null,n=e.getAttribute("formmethod")||r.getAttribute("method")||We,i=Ye(e.getAttribute("formenctype"))||Ye(r.getAttribute("enctype"))||Ue,a=new FormData(r,e),!function(){if(null===Ge)try{new FormData(document.createElement("form"),0),Ge=!1}catch(Cw){Ge=!0}return Ge}()){let{name:t,type:n,value:s}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,s)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=We,s=null,i=Ue,r=e}var o;return a&&"text/plain"===i&&(r=a,a=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let s="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===s.pathname?s.pathname="_root.".concat(n):t&&"/"===G(s.pathname,t)?s.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):s.pathname="".concat(s.pathname.replace(/\/$/,""),".").concat(n),s}async function Xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qe(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,n,s,i,a){let r=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var s;return n[t].pathname!==e.pathname||(null===(s=n[t].route.path)||void 0===s?void 0:s.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>r(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=s.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(r(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let s=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof s)return s}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=e.map(e=>{let s=t.routes[e.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1),[...new Set(s)];var s}function et(e,t){let n=new Set,s=new Set(t);return e.reduce((e,i)=>{if(t&&!Qe(i)&&"script"===i.as&&i.href&&s.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=s.useContext(te);return qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function st(){let e=s.useContext(ne);return qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=s.createContext(void 0);function at(){let e=s.useContext(it);return qe(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function lt(e){let{page:t}=e,n=a(e,u),{router:i}=nt(),r=s.useMemo(()=>j(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?s.createElement(dt,d({page:t,matches:r},n)):null}function ct(e){let{manifest:t,routeModules:n}=at(),[i,a]=s.useState([]);return s.useEffect(()=>{let s=!1;return async function(e,t,n){return et((await Promise.all(e.map(async e=>{let s=t.routes[e.route.id];if(s){let e=await Xe(s,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{s||a(e)}),()=>{s=!0}},[e,t,n]),i}function dt(e){let{page:t,matches:n}=e,i=a(e,p),r=ue(),{manifest:o,routeModules:l}=at(),{basename:c}=nt(),{loaderData:h,matches:u}=st(),m=s.useMemo(()=>Ze(t,n,u,o,r,"data"),[t,n,u,o,r]),g=s.useMemo(()=>Ze(t,n,u,o,r,"assets"),[t,n,u,o,r]),f=s.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let e=new Set,s=!1;if(n.forEach(t=>{var n;let i=o.routes[t.route.id];i&&i.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?s=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ke(t,c,"data");return s&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,h,r,o,m,n,t,l]),v=s.useMemo(()=>$e(g,o),[g,o]),y=ct(g);return s.createElement(s.Fragment,null,f.map(e=>s.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>s.createElement("link",d({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return s.createElement("link",d({key:t,nonce:i.nonce},n))}))}var ht=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:r,routeDiscovery:o,ssr:l}=at(),{router:c,static:u,staticContext:p}=nt(),{matches:m}=st(),g=s.useContext(se),f=tt(o,l);r&&(r.didRenderScripts=!0);let v=ot(m,null,i);s.useEffect(()=>{0},[]);let y=s.useMemo(()=>{var i;if(g)return null;let r=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==t.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let s="route".concat(n),i=t.routes[e.route.id];qe(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:r,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,d=[...a?[{module:a,varName:"".concat(s,"_clientAction")}]:[],...r?[{module:r,varName:"".concat(s,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(s,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(s,"_HydrateFallback")}]:[],{module:c,varName:"".concat(s,"_main")}];return 1===d.length?"import * as ".concat(s," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(s," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,s=a(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),r=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(r.pop();r.length>0;)o.push("/".concat(r.join("/"))),r.pop();o.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:s.routes[t]}),{});return d(d({},s),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return s.createElement(s.Fragment,null,s.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:r},type:void 0})),s.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),x=ht||g?[]:(t.entry.imports.concat($e(v,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return De(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ht||g?null:s.createElement(s.Fragment,null,"object"===typeof t.sri?s.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,f?null:s.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),s.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),x.map(t=>s.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}s.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return s.createElement(gt,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return s.createElement(gt,{title:"Application Error!",isOutsideRemixApp:n},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function gt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:r}=e,{routeModules:o}=at();return null!==o.root&&void 0!==t&&t.Layout&&!a?r:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,n)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,i?s.createElement(ut,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.9.2")}catch(Cw){}function vt(e){let{basename:t,children:n,window:i}=e,a=s.useRef();null==a.current&&(a.current=y({window:i,v5Compat:!0}));let r=a.current,[o,l]=s.useState({action:r.action,location:r.location}),c=s.useCallback(e=>{s.startTransition(()=>l(e))},[l]);return s.useLayoutEffect(()=>r.listen(c),[r,c]),s.createElement(Fe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:r})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=s.forwardRef(function(e,t){let n,{onClick:i,discover:r="render",prefetch:o="none",relative:l,reloadDocument:c,replace:h,state:u,target:p,to:g,preventScrollReset:f,viewTransition:v}=e,y=a(e,m),{basename:w}=s.useContext(oe),_="string"===typeof g&&yt.test(g),k=!1;if("string"===typeof g&&_&&(n=g,ft))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=G(t.pathname,w);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:k=!0}catch(Cw){b(!1,'<Link to="'.concat(g,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=s.useContext(oe),{hash:a,pathname:r,search:o}=xe(e,{relative:t}),l=r;return"/"!==n&&(l="/"===r?n:K([n,r])),i.createHref({pathname:l,search:o,hash:a})}(g,{relative:l}),[A,j,T]=function(e,t){let n=s.useContext(it),[i,a]=s.useState(!1),[r,o]=s.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:u}=t,p=s.useRef(null);s.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),s.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let m=()=>{a(!0)},g=()=>{a(!1),o(!1)};return n?"intent"!==e?[r,p,{}]:[r,p,{onFocus:rt(l,m),onBlur:rt(c,g),onMouseEnter:rt(d,m),onMouseLeave:rt(h,g),onTouchStart:rt(u,m)}]:[!1,p,{}]}(o,y),E=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:r,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),d=xe(e,{relative:r});return s.useCallback(s=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(s,t)){s.preventDefault();let t=void 0!==n?n:S(c)===S(d);l(e,{replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:o})}},[c,l,d,n,i,t,e,a,r,o])}(g,{replace:h,state:u,target:p,preventScrollReset:f,relative:l,viewTransition:v});let N=s.createElement("a",d(d(d({},y),T),{},{href:n||C,onClick:k||c?i:function(e){i&&i(e),e.defaultPrevented||E(e)},ref:pt(t,j),target:p,"data-discover":_||"render"!==r?void 0:"true"}));return A&&!_?s.createElement(s.Fragment,null,N,s.createElement(lt,{page:C})):N});xt.displayName="Link";var bt=s.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:h,children:u}=e,p=a(e,g),m=xe(c,{relative:p.relative}),f=ue(),v=s.useContext(ne),{navigator:y,basename:b}=s.useContext(oe),w=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.useContext(ie);x(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=St("useViewTransitionState"),a=xe(e,{relative:t});if(!n.isTransitioning)return!1;let r=G(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=G(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=W(a.pathname,o)||null!=W(a.pathname,r)}(m)&&!0===h,_=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=f.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&b&&(k=G(k,b)||k);const C="/"!==_&&_.endsWith("/")?_.length-1:_.length;let A,j=S===_||!o&&S.startsWith(_)&&"/"===S.charAt(C),T=null!=k&&(k===_||!o&&k.startsWith(_)&&"/"===k.charAt(_.length)),E={isActive:j,isPending:T,isTransitioning:w},N=j?n:void 0;A="function"===typeof r?r(E):[r,j?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(E):l;return s.createElement(xt,d(d({},p),{},{"aria-current":N,className:A,ref:t,style:P,to:c,viewTransition:h}),"function"===typeof u?u(E):u)});bt.displayName="NavLink";var wt=s.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:r,reloadDocument:o,replace:l,state:c,method:h=We,action:u,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v}=e,y=a(e,f),b=At(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=s.useContext(oe),i=s.useContext(ce);x(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r=d({},xe(e||".",{relative:t})),o=ue();if(null==e){r.search=o.search;let e=new URLSearchParams(r.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();r.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(r.pathname="/"===r.pathname?n:K([n,r.pathname]));return S(r)}(u,{relative:m}),_="get"===h.toLowerCase()?"get":"post",k="string"===typeof u&&yt.test(u);return s.createElement("form",d(d({ref:t,method:_,action:w,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;b(t||e.currentTarget,{fetcherKey:i,method:n,navigate:r,replace:l,state:c,relative:m,preventScrollReset:g,viewTransition:v})}},y),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function _t(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function St(e){let t=s.useContext(te);return x(t,_t(e)),t}wt.displayName="Form";var kt=0,Ct=()=>"__".concat(String(++kt),"__");function At(){let{router:e}=St("useSubmit"),{basename:t}=s.useContext(oe),n=Ee("useRouteId");return s.useCallback(async function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:r,encType:o,formData:l,body:c}=Ve(s,t);if(!1===i.navigate){let t=i.fetcherKey||Ct();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||r,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||r,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const jt="https://api.stechpro.ai/api",Tt=2e4,Et={CHECK_USER_EXISTS:"/auth/check-user-exists",CHECK_USERNAME:"/auth/check-username",CREATE_PROFILE:"/auth/create-profile",FIND_EMAIL:"/auth/find-email",LOGIN:"/auth/login",LOGOUT:"/auth/logout",PROFILE:"/auth/profile",REFRESH_TOKEN:"/auth/refresh-token",RESET_PASSWORD:"/auth/reset-password",SEND_RESET_CODE:"/auth/send-reset-code",SIGNUP:"/auth/signup",VERIFY_PASSWORD:"/auth/verify-password",VERIFY_TEAM_CODE:"/auth/verify-team-code",VERIFY_TOKEN:"/auth/verify-token",UPLOAD_VIDEO:"/video/upload",JSON_EX:"/player/analyze-game-data",DELETE_VIDEOS:"/videoupload",GET_GAMES_BY_TEAM:"/game/team",GET_CLIPS_BY_TEAM:"/game/clips",GET_PLAYER_HIGHLIGHTS:"/game/highlights/player",GET_COACH_HIGHLIGHTS:"/game/highlights/coach",GET_GAME_BY_KEY:"/game",DELETE_GAMES:"/game",REQUEST_EDIT:"/game/request-edit",GET_TEAM_TOTAL_STATS:"/team/total-stats",GET_TEAM_STATS_BY_KEY:"/team/stats",GET_PLAYER_RANKINGS:"/player/rankings",PREPARE_MATCH_UPLOAD:"/game/prepare-match-upload",COMPLETE_MATCH_UPLOAD:"/game/complete-match-upload",NOTI_LIST:"/notifications",NOTI_READ_ALL:"/notifications/read-all",NOTI_UNREAD_COUNT:"/notifications/unread-count",MEMOS:"/memos"};class Nt extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="APIError",this.status=t,this.data=n}}const Pt=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}};function Mt(e){if(e instanceof Nt){if(e.message)return e.message;switch(e.status){case 400:return"\uc798\ubabb\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.";case 401:return"\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.";case 403:return"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.";case 404:return"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";case 409:return"\uc911\ubcf5\ub41c \uc694\uccad\uc785\ub2c8\ub2e4.";case 429:return"\uc694\uccad\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";case 500:return"\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";default:return"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}}return(null===e||void 0===e?void 0:e.message)||"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}async function Ot(e){const t=await fetch("".concat(jt).concat(Et.CHECK_USERNAME),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(200===t.status)return{available:!0};if(409===t.status)return{available:!1};const n=await Pt(t);throw new Nt("object"===typeof n&&n.message||"\uc544\uc774\ub514 \ud655\uc778 \uc2e4\ud328",t.status,n)}async function Dt(e){const t=await fetch("".concat(jt).concat(Et.VERIFY_TEAM_CODE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authCode:e})});if(200===t.status)return{valid:!0};if(400===t.status)return{valid:!1};const n=await Pt(t);throw new Nt("object"===typeof n&&n.message||"\uc778\uc99d\ucf54\ub4dc \ud655\uc778 \uc2e4\ud328",t.status,n)}async function Lt(e){const t=await fetch("".concat(jt).concat(Et.SIGNUP),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await Pt(t);if(t.ok||201===t.status)return n;throw new Nt("object"===typeof n&&n.message||"\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328",t.status,n)}async function Rt(e){const t=await fetch("".concat(jt).concat(Et.VERIFY_TOKEN),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),n=await Pt(t);if(t.ok)return n;throw new Nt("object"===typeof n&&n.message||"\ud1a0\ud070 \uac80\uc99d \uc2e4\ud328",t.status,n)}async function Ft(e){const t=await fetch("".concat(jt).concat(Et.SEND_RESET_CODE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),n=await Pt(t);if(t.ok)return n;throw new Nt("object"===typeof n&&n.message||"\uc778\uc99d\ucf54\ub4dc \uc804\uc1a1 \uc2e4\ud328",t.status,n)}const It="token",Bt="user",Wt=e=>localStorage.setItem(It,e),Ut=()=>localStorage.getItem(It),zt=()=>localStorage.removeItem(It),Gt=e=>localStorage.setItem(Bt,JSON.stringify(e)),Ht=()=>{try{const e=localStorage.getItem(Bt);return e?JSON.parse(e):null}catch(e){return null}},Yt=()=>{zt(),localStorage.removeItem(Bt)},Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut();if(!e)return!0;const{exp:t}=(e=>{try{const[,t]=e.split(".");return JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/")))}catch(t){return{}}})(e);return!t||Date.now()>=1e3*t};var qt=n(579);const Kt=(0,s.createContext)(null),Xt=e=>{let{children:t}=e;const[n,i]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{const t=Ut();if(!t||Vt(t))h();else{const n=Ht();n&&i(n);try{const e=await Rt(t);null!==e&&void 0!==e&&e.user&&(i(e.user),Gt(e.user))}catch(e){h()}}}catch(t){h()}finally{r(!1),d(!0)}})()},[]);const h=()=>{Yt(),i(null),l(null)},u=e=>e?"string"===typeof e?e:e.message?e.message:"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.":"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.",p={user:n,loading:a,error:o,isInitialized:c,isAuthenticated:!!n,token:Ut(),login:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,n,s,a,o,c;r(!0),l(null);const u=e.username||e.email||e.id,p=e.password;if(!u||!p)throw new Error("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");const m=await async function(e,t){const n=await fetch("".concat(jt).concat(Et.LOGIN),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),s=await Pt(n);if(n.ok)return s&&"object"===typeof s&&"data"in s?s.data:s;const i="object"===typeof s?s.message||(401===n.status?"\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.":"\ub85c\uadf8\uc778 \uc2e4\ud328"):"\ub85c\uadf8\uc778 \uc2e4\ud328";throw new Nt(i,n.status,s)}(u,p),g=(e=>null!==e&&void 0!==e&&e.token?(Wt(e.token),e.user&&Gt(e.user),{success:!0}):{success:!1,error:"Token missing"})(m);if(null===g||void 0===g||!g.success)throw new Error((null===g||void 0===g?void 0:g.error)||"\ub85c\uadf8\uc778 \ucc98\ub9ac \uc2e4\ud328");let f=m.user||null;if(!f)try{var d;const e=await Rt(Ut());f=null!==(d=null===e||void 0===e?void 0:e.user)&&void 0!==d?d:null,f&&Gt(f)}catch(h){}i(f),console.log("User object structure:",f),console.log("User object keys:",Object.keys(f)),console.log("User object full:",JSON.stringify(f,null,2));const v=!!(null!==(t=f)&&void 0!==t&&t.playerID||null!==(n=f)&&void 0!==n&&n.email||null!==(s=f)&&void 0!==s&&s.bio);return console.log("User object structure:",f),console.log("playerID:",null===(a=f)||void 0===a?void 0:a.playerID),console.log("email:",null===(o=f)||void 0===o?void 0:o.email),console.log("bio:",null===(c=f)||void 0===c?void 0:c.bio),console.log("Profile complete result:",v),{success:!0,user:f,profileComplete:v}}catch(Cw){const t=u(Cw);return l(t),{success:!1,error:t,profileComplete:!1}}finally{r(!1)}},signup:async e=>{try{if(r(!0),l(null),null===e||void 0===e||!e.username||null===e||void 0===e||!e.password||null===e||void 0===e||!e.authCode)throw new Error("\ud544\uc218 \ud56d\ubaa9(\uc544\uc774\ub514/\ube44\ubc00\ubc88\ud638/\uc778\uc99d\ucf54\ub4dc)\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");return{success:!0,data:await Lt(e),message:"\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}}catch(Cw){const t=u(Cw);return l(t),{success:!1,error:t}}finally{r(!1)}},logout:async()=>{try{r(!0),l(null);try{await async function(){const e=await fetch("".concat(jt).concat(Et.LOGOUT),{method:"POST",headers:{"Content-Type":"application/json"}}),t=await Pt(e);if(e.ok)return t;throw new Nt("object"===typeof t&&t.message||"\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328",e.status,t)}()}catch(e){}}finally{h(),r(!1)}},checkUsername:async e=>{try{if(!e)return{available:!1,error:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694."};return{available:!!(await Ot(e)).available}}catch(Cw){return{available:!1,error:u(Cw)}}},verifyTeamCode:async e=>{try{if(!e)return{valid:!1,error:"\uc778\uc99d\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694."};return{valid:!!(await Dt(e)).valid}}catch(Cw){return{valid:!1,error:u(Cw)}}},clearError:()=>l(null),updateUserData:e=>{i(e),Gt(e)},Token:e=>{localStorage.setItem("token",e)}};return(0,qt.jsx)(Kt.Provider,{value:p,children:t})},Qt=()=>{const e=(0,s.useContext)(Kt);if(!e)throw new Error("useAuth\ub294 AuthProvider \ub0b4\ubd80\uc5d0\uc11c\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.");return e},Jt=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})})}),Zt=n.p+"static/media/headimg.08a64629290141cfd3f2.png",$t=n.p+"static/media/stech.2a8ec34a60cb99b15cce.png",en=()=>(0,qt.jsxs)("div",{className:"headerBox",children:[(0,qt.jsx)("div",{className:"logoBox",children:(0,qt.jsx)(xt,{to:"/",children:(0,qt.jsx)("img",{src:$t,alt:"Logo",className:"logoImg"})})}),(0,qt.jsxs)("div",{className:"menu",children:[(0,qt.jsx)("div",{className:"homeButton",children:(0,qt.jsx)(bt,{to:"/",className:e=>{let{isActive:t}=e;return t?"homeActive":"home"},end:!0,children:"Home"})}),(0,qt.jsx)("div",{className:"docsButton",children:(0,qt.jsx)("div",{className:"docs",onClick:()=>window.open("https://stech-2.gitbook.io/stech-docs","_blank"),children:"Docs"})}),(0,qt.jsx)("div",{className:"teamButton",children:(0,qt.jsx)(bt,{to:"/Team",className:e=>{let{isActive:t}=e;return t?"teamActive":"team"},children:"Team"})}),(0,qt.jsx)("div",{className:"deckButton",children:(0,qt.jsx)(bt,{to:"/Deck",className:e=>{let{isActive:t}=e;return t?"deckActive":"deck"},children:"Deck"})}),(0,qt.jsx)("div",{className:"contactButton",children:(0,qt.jsx)(bt,{to:"/Contact",className:e=>{let{isActive:t}=e;return t?"contactActive":"contact"},children:"Contact"})}),(0,qt.jsx)("button",{className:"toService",children:(0,qt.jsx)(xt,{to:"/service",className:"serviceButton",style:{color:"#4f46e5",textDecoration:"none"},children:"Go to Service"})})]})]}),tn=n.p+"static/media/Google_for_Startups_logo.ebc2919b667b87769256.jpg",nn=n.p+"static/media/kafa_intro.27f7a39239c4122a4d57.jpg",sn=()=>(0,qt.jsxs)("footer",{className:"footer",children:[(0,qt.jsxs)("div",{className:"menu2",children:[(0,qt.jsx)("div",{className:"homeButton2",children:(0,qt.jsx)(bt,{to:"/",className:e=>{let{isActive:t}=e;return t?"homeActive2":"home2"},end:!0,children:"Home"})}),(0,qt.jsx)("div",{className:"docsButton2",children:(0,qt.jsx)("div",{className:"docs2",onClick:()=>window.open("https://stech-2.gitbook.io/stech-docs","_blank"),style:{cursor:"pointer"},children:"Docs"})}),(0,qt.jsx)("div",{className:"teamButton2",children:(0,qt.jsx)(bt,{to:"/Team",className:e=>{let{isActive:t}=e;return t?"teamActive2":"team3"},children:"Team"})}),(0,qt.jsx)("div",{className:"deckButton2",children:(0,qt.jsx)(bt,{to:"/Deck",className:e=>{let{isActive:t}=e;return t?"deckActive2":"deck2"},children:"Deck"})}),(0,qt.jsx)("div",{className:"contactButton2",children:(0,qt.jsx)(bt,{to:"/Contact",className:e=>{let{isActive:t}=e;return t?"contactActive2":"contact2"},children:"Contact"})}),(0,qt.jsx)("div",{className:"serviceButton2",children:(0,qt.jsx)(bt,{to:"/Service",children:"Service"})})]}),(0,qt.jsxs)("div",{className:"information",children:["\ub300\ud45c\uc774\uc0ac: \uc774\uc0c1\uc6d0",(0,qt.jsx)("br",{}),"\uc0ac\uc5c5\uc7a5: \uc11c\uc6b8\uc2dc \uc1a1\ud30c\uad6c \uc1a1\ud30c\ub300\ub85c 345",(0,qt.jsx)("br",{}),"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638: 506-47-01142",(0,qt.jsx)("br",{}),"\uc774\uba54\uc77c: ethos614@stechpro.ai"]}),(0,qt.jsxs)("div",{className:"footer-socials",children:[(0,qt.jsx)("a",{href:"https://www.instagram.com/stechpro.ai/",target:"_blank",rel:"noopener noreferrer",children:(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA2CAYAAABjhwHjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAROSURBVHgB3ZqxUttAEIbXjFsYamhMBVShgDoOL2AeACaYDgrMAzATU9BQAQV0SDPQJ5Q04NQwAwwNVHYKaMMA/eX+k9YjK7KkO50cOd/MWrKwsX/t3u7e+UpkGSHEnDx8ljbn23jAmI5vr9Ja0u5LpVKLiogUVJW2L+23MAfv/S7tKxUB+UVWpV0J+7SlfZNWoUEjPE+1Rf60IZIGAe6kyMdTaURWKC+E560sY8oG9r0ovPgvCo60cbKBKJYw5lZkFSiKKYwxFyiKLYxxSBfhJY9hoW+SKUUIq8jDlbQKDQ9fotq3kYgXNmm4hAFHRIy/Hs/JF1TJ85oRLy8v9Pj4SG9vb+o8DWNjYzQxMUGjo6O0sLBAGdiR3msGL4TFtcnAa8fHx3R6ekrv7++UBQhcXFykjY0NJVgTzDCmpMBXvtAVJ4WtyoNW9oGYRqNB19fXZBMIcxzHRGCP94LiEI5V0mBtbc26MMZQYI/3VELxM2SVNDg/P89NGMCY3d7eJk2QVFb5CWfLJdIEY8wWJycn9PDwQOvr6z3XcfMMxnGNT1ic1uwXH/j09EQ2QIbkLIlEEsYgOqpcFsr+yZzOu9OmeWS/5eVl9eVnZmbUc9wUlIujo6Nu6cARYyvq/z4/P5MBiES3TJrCAOpYEtPT03R4ePhXQsB1WK1WUwJRRur1Ok1OTiqhYQzLi9IEcVXSJOkD8eWR6eApgNC6vLxU7+MwhGgOQwjsFw1poyTEJzyU+USHJM/BYxDGGS84bpBlIezg4ECFKgTi7zc3N2SRCh6QUOzMan0QbhyKYWEMRKNGcgSsrKyQZSp4sC4O7ROAqLhMB2FnZ2fqPGNPGQlqt3Vx7LU0KZwTCELYoNVKZIQsgy4/eIwja6OdhHVx7A1kzCT4NRBpmBVjgbgOWYTDEeNofn6+7+sQhpxIUCZsI5vnDsT9Iosg1bMXdnd3I8cSrgULPIq5ZdSsAHXujjR7yzgQYpubm93pysXFhfIMN8GobSgXXOC5DbMMNClxHdIErVIc6B/RUrF3UB64RATZ29tLnF0YZtF7PEBcizRJkwlZIMYePMW1DF6CJyEqjcfYw5qodaAyZq2y4LVIo8dMezfx5TEGYaYkRUkflOe4FPwkDXA34zKhTQy6lxYyJU5YnEuaLC1pT961CSYeDVw+UeJ8pS3SAB+cp/eCUyINUAK6URjsUHZIE2RDpHbbZFja+8EhCcKLstrLewAJw0a94mUJdC6GWXIqTlyVMiynI/1jIot1j4+Pj1TLEeyd2dnZVP1oDPHL6UAK3JeHBg0XHSlsKnwxShzmd7f0P/6E5S9F12l42NHeWiU9uCWKj0umyDc3RXGxsqOhiAKzCyuoQFfYEhYQOKjNbHFsUV4Ib2ObKwZPW3gNRv4Ib59lW+QPNtI16V+Qo0glStgeW4YiMR7djEIhyBEWw69ElhHeBm42/IJUoegN3OiE7nzLZQP3H8gZeViSbK6WAAAAAElFTkSuQmCC",alt:"insta",style:{height:"45px"}})}),(0,qt.jsx)("a",{href:"https://www.linkedin.com/company/stechpro/",target:"_blank",rel:"noopener noreferrer",children:(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA2CAYAAABjhwHjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANTSURBVHgB3Zq9TuNAEMfH0bUgroXGVFCAjob6Ai+QFJRIByUVdJQXWioogI5Y4gHueABErqGhADqokiugBSUPMMx/nUVOsgHbWX/+pLGdZYPy9+zOzn44ZBlmXpHbT7GVvs0ETNPp25tYS+zBcZwW5RERVBU7Envl+OC7f8R+UR6QH7Ilds32aYv9FnMpbdj3VJuTpw2RlAZ4k5yMp8KIdCkp2PfWJH3KBva9yH77zwtNsRmyAedLmOaOJxXI+RSmiS+Q8y1M06SosB88isLYIOMYhLlyuxZzqTismdK3iqFig4olDDTZ0P8GPCcVquR7LRS3t7fKQL1ep9nZWcqQA/FeY+xfOUJKdXJywktLSwN2cXHBGYIEY8B7lYCwLQrZHOGts7OzkfLT01Pq9XqUERC2FywI9rnQU43n52djOYRlKA7sBr2nxLEfIath/8Pc3JyxfGpqKut+B2Fb+oP2XJ0isLq6Sjs7OyPl+/v7lANq+kFFS/HcHflLApHQ0XJ6eprW19ez9lqQ7xI535x+G32lcrEt4rxvFMNj4OXlZaQMfQ4Wtg6Cz+XlJXW7XfXZYgtQmuC5htwjTwKXl5dHytAXz8/PQ9XBUIKhw0StVlP9N/iiItISz60hoPyglDk8PBwrDMCbGxsbkwwrLi4QZ2dWGxIEIMlkvqyHJv3ZC/gCF5fUxUUBHozrPYzdmYhDXzo+Pqabmxtl48ZHCLu6uqK4VCgDIAZRUUfOzc1NFURMPD09UVxSF7ewsGAUArEmJslVIa5DKYKxzMTi4iLZRIaCDsT9p/KB3SPluXsqH0pT6s0yJR5wgbgWlQ+1DlTB1IDKJ/DDc+AflQckzR08aHEelQdPPyhxfaUtKj7oYh+tMJihHFDx+aubJBhecUaUqVII9EpzEGQfSK+i1NEgzXp8fBwpx0pbhJn5fFDcAFys3Z1hGsN6TLs8R3LbpWLREY/NDxeaxGF+h6U+l4pDuC2s/qC+TcXhIPLRKvHgHucfj+IiX25wfrFyoiGPAicXllOBHtsSFhCY1mG2z9ijpGD/YJvH6dNmf78+edg/Z9nm5ME+d4OyIEGRShTb7lsxRaI/ehMKhaAmW2x+DlmG/QPc2rCD5JL5ADcyofu+JXKA+x2FxCiW23gCzgAAAABJRU5ErkJggg==",alt:"linkedin",style:{height:"45px"}})}),(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA2CAYAAABjhwHjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARFSURBVHgB3Zo9T9tAGMefIFYQMyzpBExlgLkpDIzpwIhUYIMFNhZQg8QCExNsJAMjUsMHANwVkIANpqQDrEXwAa73P/siY+z4/Nw5dfqTnsRJ7Iv/eV7uJVcixwghpuTTF2lTgY2ETNMO7EWaJ+2+VCp5VESkoIq0A2l/BB9c+1PadyoC8kaWpF0K97Sk/ZBWpl4jfE+1RP60IJJ6AX5JkY+nTESWKS+E7y2bnHKBey8KP/6LQl3aCLlAFEuY5lbYChTFFKbhCxTFFqapU1aEXzz6hcQiU4oRVpZPl9LK1D98jRu+DcScWKP+EgbqIib/3nlOnlAh32tdeXx8pPPzczJhdHSUJicnaWhoSL1+e3ujp6cnenh4MLp+YmKCZmdnTU7dkd6rhd+IimuRgdeazSZtb28nfj49PU3VapXm5uY6oqI8Pz/T9fW1auvm5iaxLbSzu7tLBmCG8UkKfNFvDOoDKWyJLMMRXsKNzMzMGJ2LG4ednZ3R4eGhEmwBwnKD/LRShHPOaqqxuLhIp6enRsKiQCCuRRuWrIdzT4kLKmSFmKytrdHm5mZiCJqAa9HG6uoqWQBhS/qFDstvxATCTG8IxQSFBAUFDA8PK1Fhb6M9nHdyckJMqtIOcKDFsUISeWMiDDe7t7dHFxcX6jjK8fHxB4E4l5mDGICMoLAMBDE6RQzq9fTRD25wYWFBFY04YXHAm4YVMgkVicg5ljAUAXguDW4VhCfRpTBRmhCWFWIAcSagL4sDNz42NqaOkwoRwhMeZ/AZD4P6IAsoBCYlHyOZOK+h7I+Pj6dej9EJco9BGQ8Iy8xzInypCa+vrx/ew49iIgzAo9q7GSnjgSXOJNdcXWv6Q0RB380S10uYnlMMkmOQY8vLy4mfI4fm5+c7rxF6yME8cC4OdCv96OvC/V1aYcJohpsGCMs2ZcS0MzYhLaf0UC0rcoTShrjflJGkvotDmlfQnTBQczqE5R1lHFuixENgXEghhzBWBBgk7+/vv/sc14THo926FXwHM0qgSYlrEwMUhiRx3fIInjKd8zFHJ+AeDwhLjxjgiy1nzl1B2xbi1DrQQLDm4FFG9DQmL7a2tsiCjufAL2KA0LSYVCaCmYRF0fJQKXGgxTWICbxnET4fQFtHR0dkQUMfKHGBUo+YIIRceBBtWIYjUqwTheHVrx2yAB7EjXGKDK5ZWVlxkcNNHZKgM/zCWrscSXtksQqGkIJhIouJZhrIK+RtliWIFN45KNfldPRpUU+i04ZdXV0ZednZcjqQArEstk79RVsK+xR9M04c5ne39D/+hRV06skTsuKxk3lrlfTghig+DeIiL66J4uJkR0MRBdoLK6jAhnAlLCSwV5vZurFBeSH8jW0N0Xtawh9g5I/w91m2RP5gI12N/gU5ilSihOvcYopEPjYshUJQXTgMvxI5RvgbuLXhH6QyxW/gxkjoLrBcNnD/BW5pV6By5Ix1AAAAAElFTkSuQmCC",alt:"facebook",style:{height:"45px"}}),(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA2CAYAAABjhwHjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAR6SURBVHgB3Zo9TxtBEIbHUVoQNdVRQYEUItFAE4eC1pagRIpdQoHdUYAUI1FAB0hAaUdQIgV+AB89SJAKqOwU0AbBD5jsu+c9rY87cx+7zjmPNNi33J329ezOzuxdjgzDzBPi44uwibYNaaZote1Z2KWwX7lc7pKyiBCUF7Yt7A8nB9f+FPaNsoDoSEnYBZunKey7MId6DbuearJ9mhBJvQC/JNvxVBSRDtmCXW+lmVMmMO9Fdsd/VqgLGyITcLaEKW44rUDOpjBFcoGcbWGKOsWF3eDRL4QGmVyAMEd8XAhzqH/4GpS+fQg4sUb9JQzUOWD+dYgTJ+TFRzZyu3g4wqr+xo5hKcQ1KYLXnp6e6OTkpOs5xWKRhoeHKSrn5+d0f3/vHY+NjdHMzAzFABXGiBiez6rho/oihJUo4nBEp6+uruj6+pq6dfb4+Jii8PDwQGtra/T6+urdHz9OTDAs4b2aatCHZazhuLu72+EZfJ+cnJSmOry1tfXufTAKlpeXO4TV6/VYXteovJl77CbEsRHDiMfHx6XNzc3xy8uLbBed9drPzs5Cr398fOTZ2VnvXBjumZKqX1yVE3J4eOh1bHNzU7ZBpOr01NSUFOEH5+AH0YWJecwGuPCLu+EUrK6ueh2EWBDm1aBrYPv7+2yQISVsiFPi99Td3Z1sD/Iq2NvbsykMlJQ4I6kWht709LTsLIQqT+kewrDzC8P8tMC2EldjQ+iegijg96ouLGi4GkLOOywFn8gQCwsL0sDp6SkdHR3RwMCAXDYGBwe9cA8Q6tGO/1vAkX/Z8J4IPDE/P+95J2j+hUVQk0AbPGemZG8DT+zs7EhPgUqlIj0GjxYKBdmGY2QwNmFUN2xpiw6Lt/JUuVyWbVHWP4M4H8gSSHrV/EMeenBwIL2K1ErNPyG6Yx6axpo45Iz60BNrmRSJQLK4uOidEyX/TArEtcgw8AaSYXReB/MPbUFR1TSi9GlB3G8yDLyBqkCh6jKIRmkDlpaWvMwfXtVrOQPImg7ibskg6Ci8oYAIRE81FDE0Id4//1RUNYSrSUSVIhvivdSqVCq9KYWQkvmzGgN46VfqxBnonQxLrcKWAiTV/qoiJQXPh5wyS0F5o+eNEBC2hgWVQmFZTQocXVzi5NlfTXcTpggqhcKqigR4xWquLQ5KmxQThHUsxHrIx6bQ6Ojou9ciaqrAg2iKAINgo+6FNgSiBJTEMvADX7ytvbbifNQ7qAxDD/kbGxte/hjlejEU36yFOisrK956GBEsAZ+xxuFAF5cndxs9Ev6Qj604Fe6j4t/5CgLewx5mRBpCWFkd+DdlY3kvg4worwF/brlO/cu6LgwEPeXBAlih/qIlhI34G4PEoXi9of/xEVb7QUKZ+of12K9WcYpd6B7SoKSwwW0/Cxh5oyGLAtMLy6jABpsSpgns1cts3aiSLdh9jtfg3tNkNz20D7vvWTbZPniRrkb/AosipSg2PbcSisR8bKQUCkF1Njj8cmQYdl/gVoYnSA4Fv8CNTOi2bVZe4P4LSeLV+/12tUoAAAAASUVORK5CYII=",alt:"X",style:{height:"45px"}}),(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAA6CAYAAAA3MlIIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABRSSURBVHgB7V0HeFTV1l0zmfQECCGggAgKfHQLgoXyP1AQpMkniu23K6BgeQJiRfkVfJZPVMD6PyuKgEgRqRaKoKJSQ42RqpBAQkjPzOS+vXY442RMQoBMEnh38d1vbjvn3rl3zT57r71PcEBQp37Dp7xebzc4kAMbNoIMh8MRG+IKm5y6Z+dnLu5IP5jSqdDt/kfjxo3h8Xhgw0awEBISgl27diE0PHIpt5WAIQ6nOz4hIT85OTlMNh2wYSOICA0NhdMJtXROs1MsnxM2bAQZ4uoV27ZJZ6NKYRMwAJZl+RbbHw4+bAIGQCI0LFiwAP3794fL5YKN4MImYAlgpMbFRvBhE7AE0ApysRF82AS0UaWoVCeHjn2eN0OExorlvYVCRITEyFqIbblOMVQqAb1WPu78Ig6xYahQHJQE4tju09Gu3rWwcWqhksM8B2pHuhAVVrHyRqEsoc4I2Dj1EGQCWvrPDLkuZzhSsz2oKfzzWDwKtYYRLhwdOi3Y+O9CUAhIn6yIdA5k5O7B+v3TsDl1vizr8daAXZJ7DkWO+zAO5SQhMXUOftk3D39mpoh1dCDcVURbG/8dqFACWmCeT4hnObB67xTM2/Y0dh5ORYFYvKhQwF0oGejCAjnLjdjweqgX0xKt6vbDta2BlOwt+DxxCFbtXoF6sU4hqQXbIp7+qBAC0uKRdA5HCJbvehnTNjyOw/n54pcBnRtdhn80eQRN4rpKpFoDg6eHIDoMeqxGRBw6NRqMnueOQ93olhjWcTmua5OEV1b3xP7M35EQ7UKhVb3TYQUFBQgLK4qqmLqr6uwJk/1GRKfqQFRnZeCk9ZBCy63DbUp2Iv65MA4frh2JLCFfr6YD8Xb/TNzb8Xu0SuiPSFctJSp9vrjwCHiFs+k56Vic9CbumVsXMxLv1P7io5ri2cuTMajN49id4YHTUb3TYSTfE088gRdeeKFKyFdYWIjU1FTkyzMn4Ui+zz//HJGRkdi3b1+1l6VOioCFllcIEoo5W+7DQwvayp4M2Q7Bi70Sccv5s8Sfi4Hbm41vksfj+RUtcMOMULzRLxMv9c7EpL7pGNl5HupFNxHLCHyX/G+MmB+LHE+6Wr1eTZ/Fc5evxK7DHiF49U6Lvfnmm3j77beL7TPWp6z1krYDUdpxEo+gxatbty5eeuklH9lq1KiBs84662+WsLz3cKx7qkicMAEtIZ/D4cSTS5tg/vYpODPWJftqYUq/LPHtWuk5c7YMx5C5MXjnl8ex49B21AyPVILRqoW7YtGiTh883T0ZQzu+i4x8+ol5GDKnNjLz9yu5G8d1wqt9tmLvEW+1toRRUVG6EH/88Qc2b96s65MnT8asWbOUGByeOVxzfe3atZgyZQqWLVum29zPl56dnY333ntPyZyZmenr//vvv9f2iYmJeP3117FhwwY4nU6kpaXpPoLrmzZt0mrjbt26YeHChTjjjDO0Ha+xcuVKbfvjjz8Wu5+vv/5at+fOnas/pEOHDul2ZZIQYeERX9auXbtALlpolRO57nTr9lmh1oNfOaxRC7nUsryFbj2WU5BmDZ8Xaw2b57D+dyasr7Y9YhV4svXYwKmwRi+qb2UVpMj5XstztE1K9lbrri94zGUN/gyWkFBupujfgazN1h16rOTlrtmwNqfMtSoKixYtsq6++upyny/Wxmrbtq2ujxgxwoqOjrbkeVq1atXSSKpx48a+cwcOHKj7zLELLrjAEmtmCZF0OzY21oqPj9f1LVu2aBsZ5q1GjRr5jvNz1KhRlpCq2D4uL774om9/SkqKtr/ooot0u06dOvp5ySWX6P7ffvtNt88//3xL3AdfH0lJSXpPwYAQX68VERX1GLl3EkOwU34phWLJnMgVUa/7OcN8VmrE/AREhObA47Xw3BU/oHfz5+EKiZQIOB/1a0hgUXgA982rL1ZOLMLRGQDTN92rwUmBx4tGNesiOrRukZWVf59tHCq+46mRYpOXrJZMiID09HTMnz8fO3fuxHfffYc1a9bgiy++wMyZM/XYqlWrUL9+fbU4V1xxBbp3744jR47g4MGDkB8AOnfurH0KWbF//349xuWRRx7R/ps1a6aWitaSlpPrI0eOhNvt1nb0T9966y38/PPPWLdunfqKtIA//PADPv74Y/UTCVpTtuF905IPGzas0nzHEyZghKsGrmk1EodzvTJ0OjBr84siLufrsQEtRyCrwCuEY/rNc1SM/usLOZ1ekWG8eG/tNeozjlyYgM0p3yLE6UK+Nwz/unK/Biwk9Gs/dMHGA8sRKWGzW6u5qzcRSQIGI3fccYcOcYZEfKErVqzQY9dcc40OgWKJ8OWXX2oA8eeffyrJeH6XLl2UrBkZGdqW595yyy0QS6e+n1g/3f/rr7/6imY5BBsY349zLxYvXowmTZrgvPPOU3+xY8eO6jNyyA0PD9fzOPSyX5KPP4jc3FxUFk7KB+zV7FkhSrhGwSEODxZsH6PHejUbj1z5EdaNCcVrq69S8tGn80e0WLQtqV/hga+YQkuHS15Qnjsck/vm6Pkk5nPL2goxV6JOVBj2Z3nRPP5/JO9rId/jKEbo6gTrqO9EYtACGYLQyvAYPwl/C2PaXHbZZbj77rsxePBgvPLKK2rVDEzQ4Q9/X620CNxYN3/wXOto1TeRlZXluy+eW5nR/AkTkJofLdRDl36uQUKcKM3TN05EnidDNL5IiXBnYW+GW4bnTEzdMFgJ5Q9xN1ULjHAVIDXHK0FMW0yWAIaBTa7nMO7/qoaQLhFxkaEiZhdIVD1BgpXvMKlPGlokdJFrio20irItpwL4kmndaBXnzJmjVkp8PNx2222IiIjQYZbbt956K4YPH66EM9aThPjoo490+CVRXn75Zd3fqlUrX//Jycm+dTPxh589evTA3r17sX79er0mh2MGSn379kVeXh6qGictw7RI6IPOZ18uQ7Fbot8QjP22uR5rU3cg+re4TVJuFr5Nno4P1g3QXHCmpEXyvQ4hmUMIBhzJD8fwi9/FmK7rtN3aP6diyOw4hIfkyPmQFJ0HE3qsRrcmY1RzjHDVxNAOyzDxqu2Ii2ggw3zVZ0s4/NG/Ig4cOFBsLolZl4AAF198sRKC/h19xdatW2PJkiVqib755huNdiWAQb169XD99dfjjTfe0LYkY0JCAmrWrAkJbjBhwgTceeedKrVwmB0wYABeffVVtYjcbyLynJwc3HPPPTr8SqCh/Xbo0EGHfhLdEJA/Dv/vQh+0snBStpZWjZrd0A5LMWpRPSHDIWTnpWDSj12FVMxqvKeSzFtrRmPZ73OxYmcohnV4A9sOLpQgIx5tzxiEZvE91JLuz9qE//95IHakJaFhzTDsOVKAlgmt8a+ePyI0JEotJs/jJ5ErueQcd1aV2z+SZ+PGjUoEEmX8+PF44IEHfH4YiUbrc+655yoZ6ZP98ssvGhQ0bNgQV155pQ57Eg1rYDJv3jzdZlAika/2QUt2ww034KGHHtLj7du3VyKZoXX27Nl6DRKH12G/lGRIWl6T16Lks23bNiV9p06dtE/+IQLee9OmTX3fhRIPfUOuV0YgolegDBMTHdVTNCAXTmBMK9IEQ1RIdjhyxUfzSvajEx64dKUeF8kFs0UTnLt1Bj65NlcsW1HpVJ4MtSTjgh3PIDFlq4jSDtEDxU9CKO67eCranXGtWlkOy9AH4pQ2R/DvX/tj9Z5laBAbovnnNPGZ/3nZXCFsP1QESBJaH0asx/7uf72o8rw0ktT4W/5tSmpr9sXFxWmEzAxHea4buF3aNU/2u5wISHy6HK6wsMfzcnLGV4i3SfKRhK/3ycS4b1tjV8ZmJKWtwoMLamFUp6/RoEZ73HzedNzUrhA3zwwRqxgFd6FXU3b8jqyA4ePxWtHi6/0fupz9oEbOtK5G2knLTcasLcPEki6RoMQh5HMcLX6oPijPC/Mngn+bktqafbRQxkoFHiupbeB2adcs7XplnVPRqLBwp4iEHjzVLRFLksbio/XjUDMiA48tuQhN45vhymaj0bJOXyGUA4fzcvSzTnSMkKmh+JE90L7+rWgoRPX1J//yJY336x8fY1HSBCSn7UN8NERHLKobrC51MrQuHDqN42/8NQYOFVGcwGGWkoxZ51B/OqFC422Hw6WBQo+mz6BTo/vFYg0VizUTyek7MHHV3TiUAyy4xX20wsWhQYk/vNI2NXub6H4zsGbvNPEHt4s2CNSOcPqIV91KtOjrtWjRQlNY/rj55ps1cvWvTjkR+BPudCMfUeGCD4sTSJLIsNoy7M7ADe08kgdejE0HZok1WyBR7QbRAOMl45Ej/t5eIdx27M5YLST9CfuO7JSo2K0VM9EibtMnLLJ1hajOYNTJCJOZDUaeH3zwAR599FG0bNkSjz2mGadiPhWFXmYhLL9yKUPUwE8Do9sZPTGwL1peM52UbbmYMjHCWGNjRc0nz2OfVVU1E6RpmX8JxSJRo0Wd3hjU+l2M77EPI75sL8FKY4xa3ArPL++JD9cNl4DiE6Tl7EBMmAf1YyFZEvot1ilVGc2XS5nkzDPPxJgxY/STmY/du3fjnHPOUbklJiYGQ4cOVcIwqmW0SRJceumlSjZmRPg5aNAgddRJjE8++USLChjBMlNCvZBRNK/FSJl9MXPC67Ntr1699JPku/DCC/H++++rXsjrUIox0S+Pn3322b5CiKpC0OcFF/2yisjIXHBtkahqSwqylgTCMeFFAQgtpruQUbElC457YdbFW+hGVcLf2tAaUfejZaRF/P3331VuoV7HPCs1uGnTpik5GHFTHG7evLkScsiQIRrtUmymRb399ttVW6SloxVjeo4STNeuXTUnTAtLH5FyCvtatGgRHn74Yb0PyjJszwjaSDUkLNvzx0FBmv0EBimViUqtcaKM0rXxQBGZY1GRyHYfEmI3QVWCWYzevXurNVm+fLlaGpKIL5lgUcJVV12l5Pzwww/xzDPP4MYbb9RjzAfTctEasXyLQvX999+vx1avXq26nz+efPJJjBs3zpfpoPZIAZnkorWkoE3QElJfnDRpkm5T/2PGZMaMGbpNK8yccFWicgko/1ioGixUlnhaEnhdWjCmy5h9ePrpp3W45BBMkAi8Pw6zBLMT5n7j4+N1H8nJihRmTAw4TAaiT58++kmCLV26VIlNn47RN6/vL9lwnwEtKIduA7ap6r+BU6m2N9hFpVVZfs5ImMMcU2oTJ070vWhzT/mqeTrUV+PC4dUcMyTlforOU6dO9fXLzEcg/KtVevbsqWk7kpnDPn1P/8IF/7SgFfAn56rS9zMIugUsr1Uqr1xRlupfVjYhmOAL98+nEuaaRh80L5vBACteOIeEeV+WRtEv5PBIArJ+r1+/fho4MIrmkOz/Xfz7JOhnMs3GKuuxY8dq7SFJaM7zJxyHeP/KGP4oAitlKhvHRUBqXXSYTSEjwS/JOQiMsEggJrhpBfhgOLS0bdtWzzOFk8Y/YekRqzT4q2V/TJDTkeY1jFPMh0efhg66kRD4yeJOgsMLc5umf750HmN7Plxem/JIsNGuXTstEigJtGgsGmBUa74Ty/H5vV577TX9TqyIYekVCcIqlZ9++kmDCxKbz4Tfg+34nBjB+l+LNYH0A/k86dPR+nIfwWGetYAGjIr96wb5ziiiVznKW5I/c+ZMX9l2SYs413qeEFG35dderL34Rr5zxWJoGTvXRZ7Q4/KASu1bHG09R4jl2ye+kq9vlpBL0r1YG7EEvmPHg+MpyZcfnG+d9+YP+XEWuz9zH0K6v/XDUnUeP3z4sDVy5Ejf/qeeekq/i0gwf+ubS2nfjc/X/x79743r/ttCfKuyEFiSf1wEXLhwoT4MEszMXZBfuO6TX6fvQYkO5iPB9u3bfQ+pQYMGuk+GF90WCUC3uZ8QXctHXJEtfHMZuM1PiST1YYk10W2xFsXuTyyBj9BOComyvmfPnmJEKA+Od05IRcL/GcsoouskIRGseRqViQqZE8Jhlz4HdSaadIb5xjFmXdqIESN853766ac6NFKO4DxVgj5PWeDQzVld1LfYxszsYjlSSeko+V56fYq9BOc8MAIlOGe3KnWu4wGHXOqFdFUozXDuCGUTSjYcqqv7HN8TwQm/GZP7JBnvvfdenxDLOjTOKyAB+MA4+YVghGjAkvOy4O+4s6+bbrpJ1w2BS6r+MPNy6SPSLzTXoOBLAlvVIOI7FkyajRkT6oLUFenDcd/pmAcmTto0MPAgAThhhjDkIWmIHTt2KAHeeecd3aZG5a9NlQVDNBZ1EmX91XpGlYTJAlCcJRiMlKeur7qgrLKs0xEVNjYZCcU8LEoNxupwSDSTtTnf4Vjwl1UIWjHuM6XmgdaMVtdkHBhVc6hmQSnPZ7vRo0dX/mRrG+VChemAgS+XEgCtIvUxygRGb7ruuuuO2RfliK1btyppme9kEp4EYtK9pGtyLqypIDElUDyfPhX3UxvjUlJWwUbV4rgsoL9oGTgcmm2mkgyYfCdJzOQXEoAiqSGOOdccZ+KeYMKdIiznzyYlJek+amDMYZKc5locXkkyJuBJOpKV98h+2DczDMYloFU8nYeyUxXHZQFJIKZ+6CwHCrxMoJM4FJQJkowRKGeL0YcTfUtnbBGGCGzDPo2PxwwACWpEW0NUVm9w6PZvR7CSg1EiLSzP5VBLsD23KQDfddddPkJaVZgrtlEGyqMDlqRBlSasUqsrTXsz5waKnyKjWGXBiK6B/frfl7/Y63+t0rZLQ1XqgKc7AnXAclvAsqKzwHkPZUkG5tzAc4zVKw0l/UWBwO3AY4H3Zf/XW9UP9n9UY6NKYROwBDAo8v/7fDaCB5uAJaBNmzaqY9oIPmynKADiJ+skIi4nO6XSxrFhW8AA+AcyNvmCDx8B5cHbeSoblQ7fECxZBeeaNWuOiHBsK7U2goajk+hrmG0loPg6tbLy81wdO3asCRs2KgEFHo8WbP4Ha2JUZ1jjrIQAAAAASUVORK5CYII=",alt:"Nvidia",style:{height:"45px"}}),(0,qt.jsx)("img",{src:tn,alt:"Google",style:{height:"42.5px"}}),(0,qt.jsx)("img",{src:nn,alt:"KAFA",style:{height:"42.5px"}})]}),(0,qt.jsx)("div",{className:"FinishLine"}),(0,qt.jsx)("div",{className:"copyright",children:"\xa9 Stech Company 2025. All right reserved"})]}),an=n.p+"static/media/Component.6255d5b4d11720e57eb2.png",rn=n.p+"static/media/detail.e04927d03313fa93c765.png",on=n.p+"static/media/screen.be2fc7903e70af964c72.png",ln=n.p+"static/media/mobilescreen.c9ccad0c4d3b506d41fd.png",cn=n.p+"static/media/Gameimage.20ed702c5d1930d5ed0b.png",dn=n.p+"static/media/BF.e00dc3eeae4e35931d3a.png",hn=n.p+"static/media/BG.82d5c329204f6b9b44f0.png",un=n.p+"static/media/BK.3f71582742015d26d653.png",pn=n.p+"static/media/BS.1050637c6a7043aea36a.png",mn=n.p+"static/media/BT.d2b88416947fdbfbe7a9.png",gn=n.p+"static/media/CA.d6b94e132069afc0d59c.png",fn=n.p+"static/media/DA.ae865ad90c703b81d31c.png",vn=n.p+"static/media/DC.77075c5ce9f83815d717.png",yn=n.p+"static/media/DD.14d57a8906ab43fcfa62.png",xn=n.p+"static/media/DF.b5ca6e706fdc6dee2f51.png",bn=n.p+"static/media/DH.57487d6d96bc82974e35.png",wn=n.p+"static/media/DK.94b2244a509afbdae3d4.png",_n=n.p+"static/media/DS.72b1888caad3a42e6e93.png",Sn=n.p+"static/media/DT.0ed3d928a87d9e73cb0e.png",kn=n.p+"static/media/DU.6422b14a5bd8c652a243.png",Cn=n.p+"static/media/DW.396463aae2bbdaf327da.png",An=n.p+"static/media/GE.ec8d7acfe213a2acc38e.png",jn=n.p+"static/media/GP.eb65807754db6dd7ac94.png",Tn=n.p+"static/media/GS.9ddd9a17b155446a50b0.png",En=n.p+"static/media/HD.6849a9fc423dc19d6350.png",Nn=n.p+"static/media/HF.66b83fd018ad714309b9.png",Pn=n.p+"static/media/HH.724798f82a3f1f6e5f48.png",Mn=n.p+"static/media/HI.c94ff13918931938159c.png",On=n.p+"static/media/HL.7667ec6875e10c2379ae.png",Dn=n.p+"static/media/HY.28d6ee70a3fe90300858.png",Ln=n.p+"static/media/KA.aefb5122a88f7f11043a.png",Rn=n.p+"static/media/IH.31cf9985409f3c09ead4.png",Fn=n.p+"static/media/KH.88a056d5039cc90d3eef.png",In=n.p+"static/media/HS.ffbaace83818deed6a7c.png",Bn=n.p+"static/media/KI.6c9055c6db2a60c46173.png",Wn=n.p+"static/media/KK.d0e0262019f10b4026cf.png",Un=n.p+"static/media/KM.8c1723874a1b5c23c8fe.png",zn=n.p+"static/media/RH.d9229cb9c5f4d02a5032.png",Gn=n.p+"static/media/KO.8fbdeb6010cb82ff3910.png",Hn=n.p+"static/media/KP.233c672969e5dcc3fdcc.png",Yn=n.p+"static/media/KU.e30b5e3db62c5f47bd7a.png",Vn=n.p+"static/media/KS.6e1af9f64d10744492da.png",qn=n.p+"static/media/KW.420855aa2b621573322b.png",Kn=n.p+"static/media/SG.eadb45605bb6b4c05f3d.png",Xn=n.p+"static/media/SK.fa4d57ea9ba7b72c614a.png",Qn=n.p+"static/media/SL.c4b33b6cbb256f40c47f.png",Jn=n.p+"static/media/SN.78efd2037ee910b2b526.png",Zn=n.p+"static/media/UD.e00fc59373369d794005.png",$n=n.p+"static/media/SS.86eefedb6c147d90f17b.png",es=n.p+"static/media/US.ff3cec46b1c28ba2b535.png",ts=n.p+"static/media/VI.f301b8de3fb33213798e.png",ns=n.p+"static/media/YI.be6edbbaef8a2c8f9c48.png",ss=n.p+"static/media/YN.19ed733d1d541abe9c47.png",is=n.p+"static/media/YS.89f584cc89bcf966b901.png",as=()=>{var e;return e="Stech",(0,s.useEffect)(()=>{document.title=e},[e]),(0,qt.jsxs)("div",{className:"landing-page-container",style:{width:"100%"},children:[(0,qt.jsxs)("section",{className:"section hero-section",children:[(0,qt.jsx)(en,{style:{zIndex:"2"}}),(0,qt.jsxs)("div",{className:"hero-container",children:[(0,qt.jsxs)("div",{className:"hero-content",children:[(0,qt.jsxs)("div",{className:"hero-text",children:[(0,qt.jsx)("div",{className:"h1-header",children:"\ub370\uc774\ud130\uc640 \uacbd\uae30\uac00"}),(0,qt.jsx)("div",{className:"h1-header2",children:"\ud558\ub098\uac00 \ub418\ub294 \uc21c\uac04"})]}),(0,qt.jsxs)("p",{children:["\ucf54\uce58\uc640 \ubd84\uc11d\uac00\ub4e4\uc740 \ub354 \uc774\uc0c1 \uc218\uc791\uc5c5\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),"Stech\uc740 \uacbd\uae30 \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc\ud558\ub294 \uac83\ub9cc\uc73c\ub85c \uc120\uc218\uc758 \uc6c0\uc9c1\uc784\uacfc \uc804\uc220 \ud750\ub984\uc744 \uc778\uc2dd\ud558\uace0,",(0,qt.jsx)("br",{}),"\ud6a8\uc728\uc801\uc774\uace0 \uc815\ud655\ud55c \ubd84\uc11d \uacb0\uacfc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ub370\uc774\ud130 \uae30\ubc18\uc758 \uc758\uc0ac\uacb0\uc815\uc744 \uac00\ub2a5\ud558\uac8c ",(0,qt.jsx)("br",{}),"\ud558\ub294 Stech. \uc2a4\ud3ec\uce20 \ud604\uc7a5\uc5d0\uc11c \uc804\ub7b5\uacfc \ud37c\ud3ec\uba3c\uc2a4\uc758 \ucc28\uc774\ub97c \ub9cc\ub4dc\uc138\uc694.",(0,qt.jsx)("br",{})]}),(0,qt.jsx)("div",{className:"link",children:(0,qt.jsx)("button",{className:"toServiceButton",children:(0,qt.jsx)(xt,{to:"/service",className:"serviceButton",style:{color:"#ffffff",textDecoration:"none"},children:"STECH PRO \uc11c\ube44\uc2a4 \uc774\uc6a9\ud558\uae30"})})})]}),(0,qt.jsxs)("div",{className:"hero-wrap",children:[(0,qt.jsx)("div",{className:"hero-bg",style:{backgroundImage:"url(".concat(Zt,")")}}),(0,qt.jsx)("img",{src:Zt,alt:"Hero-Image"})]})]}),(0,qt.jsx)("div",{className:"slider-container",children:(0,qt.jsxs)("div",{className:"slider-track",children:[(0,qt.jsx)("img",{src:is,alt:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Jn,alt:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Dn,alt:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Un,alt:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:es,alt:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Nn,alt:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",width:"80px"}),(0,qt.jsx)("img",{src:Wn,alt:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Mn,alt:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Yn,alt:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Sn,alt:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:$n,alt:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:gn,alt:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Fn,alt:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Kn,alt:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Xn,alt:"\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:qn,alt:"\uac15\uc6d0\ub300 \uce74\ud504\ub77c\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:wn,alt:"\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:ns,alt:"\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Rn,alt:"\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:On,alt:"\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:In,alt:"\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Ln,alt:"\uce74\uc774\uc2a4\ud2b8 \ub9e4\ubc84\ub9ad\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Hn,alt:"\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Bn,alt:"\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Vn,alt:"\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Gn,alt:"\uae08\uc624\uacf5\ub300 \ub808\uc774\ube10\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:vn,alt:"\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:yn,alt:"\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:bn,alt:"\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Cn,alt:"\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20",width:"80px"}),(0,qt.jsx)("img",{src:ss,alt:"\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:En,alt:"\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Tn,alt:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:pn,alt:"\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Pn,alt:"\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:Qn,alt:"\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:un,alt:"\ubd80\uacbd\ub300 \ub9e4\ub4dc\ubaa8\ube44\ub515\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:kn,alt:"\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:fn,alt:"\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988",width:"80px"}),(0,qt.jsx)("img",{src:_n,alt:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:dn,alt:"\ubd80\uc0b0\uc678\ub300 \ud1a0\ub124\uc774\ub3c4",width:"80px"}),(0,qt.jsx)("img",{src:Zn,alt:"\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:jn,alt:"\uad70\uc704 \ud53c\ub2c9\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:hn,alt:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",width:"80px"}),(0,qt.jsx)("img",{src:mn,alt:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",width:"80px"}),(0,qt.jsx)("img",{src:An,alt:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:xn,alt:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:ts,alt:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",width:"80px"}),(0,qt.jsx)("img",{src:zn,alt:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",width:"80px"})]})})]}),(0,qt.jsxs)("section",{className:"section analyze-section",children:[(0,qt.jsxs)("div",{style:{margin:"80px auto 40px auto",textAlign:"center"},children:[(0,qt.jsx)("span",{className:"gradient-text-default",children:"AI \uae30\ubc18\uc758 \uc815\ubc00\ud55c \ubd84\uc11d\uc73c\ub85c"}),(0,qt.jsx)("br",{}),(0,qt.jsx)("span",{className:"gradient-text-default",children:"\uacbd\uae30 \uc601\uc0c1\uc744"}),(0,qt.jsx)("span",{className:"gradient-text-precision",children:"\xa0\ud30c\ud5e4\uce58\ub2e4"})," "]}),(0,qt.jsxs)("div",{className:"gradient-text",children:["Stech\uacfc \ud568\uaed8\ub77c\uba74 \ubaa8\ub4e0 \uacbd\uae30\uac00 \ub370\uc774\ud130\uac00 \ub418\uace0, ",(0,qt.jsx)("br",{}),"\ubaa8\ub4e0 \ud50c\ub808\uc774\uac00 \uc131\uc7a5\uc758 \uae30\ud68c\uac00 \ub429\ub2c8\ub2e4."]}),(0,qt.jsx)("div",{className:"dashboard-image",children:(0,qt.jsx)("img",{src:an,alt:"Component",style:{margin:"0 auto"}})})]}),(0,qt.jsxs)("section",{className:"section value-section",children:[(0,qt.jsxs)("span",{className:"gradient-text-default",children:["\ubd84\uc11d\uc758 \ubaa8\ub4e0 \ub2e8\uacc4\uc5d0\uc11c",(0,qt.jsx)("br",{})," \uac00\uce58\ub97c \uc804\ub2ec\ud558\ub2e4"]}),(0,qt.jsxs)("div",{className:"value-content-container",children:[(0,qt.jsx)("div",{className:"value-image",children:(0,qt.jsx)("img",{src:rn,alt:"Component",style:{margin:"0 auto",width:"700px"}})}),(0,qt.jsxs)("div",{className:"value-content",children:[(0,qt.jsx)("h2",{children:"\ubd84\uc11d\uc758 \uacfc\uc815"}),(0,qt.jsx)("p",{children:"\ud2b9\uc218 \uce74\uba54\ub77c\ub3c4, \ubcf5\uc7a1\ud55c \uc124\uce58\ub3c4 \ud544\uc694 \uc5c6\uc2b5\ub2c8\ub2e4. \uc2a4\ub9c8\ud2b8\ud3f0, \ucea0\ucf54\ub354, \uc911\uacc4 \uc601\uc0c1 \ub4f1 \uc5b4\ub5a4 \uc0ac\uc774\ub4dc\ub77c\uc778 \uc601\uc0c1\uc774\ub4e0 Stech\uc5d0 \uc5c5\ub85c\ub4dc\ud558\uc138\uc694. SAMURAI 2.0\uc73c\ub85c \uad6c\ub3d9\ub418\ub294 Stech\uc758 AI\uac00 \uc790\ub3d9\uc73c\ub85c \uc601\uc0c1\uc744 \ubd84\uc11d\ud574 \uc120\uc218 \ud55c \uba85 \ud55c \uba85\uc744 \ucd94\uc801\ud558\uace0, \uc6c0\uc9c1\uc784\uc744 \uae30\ub85d\ud558\uba70, \uc2a4\ub0c5\ubd80\ud130 \ud718\uc2ac\uae4c\uc9c0 \ud575\uc2ec \ud50c\ub808\uc774\ub97c \uc2dd\ubcc4\ud569\ub2c8\ub2e4. \uc218 \uc2dc\uac04 \uac78\ub9ac\ub358 \ud544\ub984 \ubd84\uc11d\uc744 \ub2e8 \uba87 \ubd84\uc73c\ub85c \uc904\uc774\uace0, \uc774\uc81c \ucf54\uce6d\uc5d0 \ub354 \ub9ce\uc740 \uc2dc\uac04\uc744 \uc9d1\uc911\ud558\uc138\uc694."})]})]})]}),(0,qt.jsxs)("section",{className:"section key-features-section",children:[(0,qt.jsx)("span",{className:"gradient-text-default",children:"\ud575\uc2ec \uae30\ub2a5"}),(0,qt.jsxs)("div",{className:"key-features-description",children:["\uc9c0\uc5ed \ub77c\uc774\ubc8c\uc804\uc774\ub4e0, \ud50c\ub808\uc774\uc624\ud504 \uc9c4\ucd9c\uc774\ub4e0 \u2015 Stech\uc740 \uccab \uc2a4\ub0c5 \uc804\uc5d0 \uc774\ubbf8",(0,qt.jsx)("br",{}),"\ub2f9\uc2e0\uc774 \uc774\uae30\uace0, \ub300\uc751\ud558\uace0, \uc774\ub04c \uc218 \uc788\ub3c4\ub85d \uc804\ub7b5\uc801 \uc778\uc0ac\uc774\ud2b8\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),(0,qt.jsxs)("div",{className:"features-content",children:[(0,qt.jsx)("div",{className:"features-main-image",children:(0,qt.jsx)("img",{src:on,alt:"Component",style:{margin:"0 auto"}})}),(0,qt.jsxs)("div",{className:"features-list",children:[(0,qt.jsx)("div",{className:"feature-item",children:"\uc790\ub3d9 \ud0dc\uae45 \ubc0f \ubd81\ub9c8\ud06c \uae30\ub2a5"}),(0,qt.jsx)("div",{className:"feature-item",children:"\uc8fc\uc694 \uc774\ubca4\ud2b8\uc758 \uc989\uac01 \ud0c0\uc784\uc2a4\ud0ec\ud504 \uc0dd\uc131"}),(0,qt.jsx)("div",{className:"feature-item",children:"\uc120\uc218 \uac1c\ubcc4 \ub370\uc774\ud130 \uad00\ub9ac"})]})]}),(0,qt.jsx)("div",{className:"features-mobile-image",children:(0,qt.jsx)("img",{src:ln,alt:"Component",style:{margin:"0 auto"}})})]}),(0,qt.jsxs)("section",{className:"section ai-reports-section",children:[(0,qt.jsxs)("span",{className:"gradient-text-default",children:["\uacbd\uae30 \uc804 \uc804\ub7b5 \uc900\ube44\ub97c \uc704\ud55c",(0,qt.jsx)("br",{}),"AI \uae30\ubc18 \uac8c\uc784 \ub9ac\ud3ec\ud2b8"]}),(0,qt.jsxs)("div",{className:"ai-reports-description",children:["\uccab \ud718\uc2ac\uc774 \uc6b8\ub9ac\uae30 \uc804,",(0,qt.jsx)("br",{}),"\ub2f9\uc2e0\uc758 \ud300\uc5d0 \uc804\ub7b5\uc801 \uc6b0\uc704\ub97c \uc81c\uacf5\ud558\ub294 \ub9ac\ud3ec\ud2b8"]}),(0,qt.jsxs)("div",{className:"report-content",children:[(0,qt.jsxs)("div",{className:"feature-item",style:{width:"440px",height:"120px"},children:["\uc120\uc218 \ubc0f \ud3ec\uc9c0\uc158 \uc720\ub2db\uc744 \uc704\ud55c",(0,qt.jsx)("br",{}),"\uc2e4\ud589 \uac00\ub2a5\ud55c \uc778\uc0ac\uc774\ud2b8 \uc81c\uacf5"]}),(0,qt.jsx)("div",{className:"report-main-image",children:(0,qt.jsx)("img",{src:cn,alt:"Component",style:{margin:"0 auto",width:"500px"}})}),(0,qt.jsxs)("div",{className:"report-features",children:[(0,qt.jsxs)("div",{className:"feature-item",style:{width:"440px",height:"120px"},children:["\ubd84\uc11d\ub41c \uc601\uc0c1\uc744 \uae30\ubc18\uc73c\ub85c \ud55c",(0,qt.jsx)("br",{}),"\uc885\ud569 \ub9ac\ud3ec\ud2b8 \uc81c\uacf5"]}),(0,qt.jsxs)("div",{className:"feature-item",style:{width:"440px",height:"120px"},children:["\uc0c1\ub300\ud300 \ud504\ub85c\ud30c\uc77c\ub9c1 \ubc0f",(0,qt.jsx)("br",{}),"\uc0c1\ud669\ubcc4 \uc804\ub7b5 \uc778\ud154\ub9ac\uc804\uc2a4 \uc81c\uacf5"]})]})]})]}),(0,qt.jsx)(sn,{})]})},rs=()=>(0,qt.jsxs)("div",{className:"MainheaderBox",children:[(0,qt.jsx)("div",{className:"logoBox",children:(0,qt.jsx)(xt,{to:"/",children:(0,qt.jsx)("img",{src:$t,alt:"Logo",className:"logoImg"})})}),(0,qt.jsxs)("div",{className:"menu",children:[(0,qt.jsx)("div",{className:"homeButton",children:(0,qt.jsx)(bt,{to:"/",className:e=>{let{isActive:t}=e;return t?"homeActive":"home"},end:!0,children:"Home"})}),(0,qt.jsx)("div",{className:"docsButton",children:(0,qt.jsx)("div",{className:"docs",onClick:()=>window.open("https://stech-2.gitbook.io/stech-docs","_blank"),children:"Docs"})}),(0,qt.jsx)("div",{className:"teamButton",children:(0,qt.jsx)(bt,{to:"/Team",className:e=>{let{isActive:t}=e;return t?"teamActive":"team"},children:"Team"})}),(0,qt.jsx)("div",{className:"deckButton",children:(0,qt.jsx)(bt,{to:"/Deck",className:e=>{let{isActive:t}=e;return t?"deckActive":"deck"},children:"Deck"})}),(0,qt.jsx)("div",{className:"contactButton",children:(0,qt.jsx)(bt,{to:"/Contact",className:e=>{let{isActive:t}=e;return t?"contactActive":"contact"},children:"Contact"})}),(0,qt.jsx)("button",{className:"toService",children:(0,qt.jsx)(xt,{to:"/service",className:"serviceButton",style:{color:"#4f46e5",textDecoration:"none"},children:"Go to Service"})})]})]}),os=n.p+"static/media/teamLogo.1cbc0faa7edd66f0a77c.png",ls=n.p+"static/media/TP1.c36e4c0f34f04476b3bb.png",cs=n.p+"static/media/TP2.b8ddf622ba956debcb43.png",ds=n.p+"static/media/TP3.230dbd55813f9fa2ac68.png",hs=n.p+"static/media/TP4.dafc0703eeadf171082b.png",us=()=>(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("div",{className:"mainContainer",children:[(0,qt.jsx)(rs,{style:{zIndex:"2"}}),(0,qt.jsx)("div",{className:"toparea"}),(0,qt.jsx)("div",{className:"overviewContainer",children:(0,qt.jsxs)("div",{className:"overview",children:[(0,qt.jsxs)("div",{className:"teamOverview",children:[(0,qt.jsxs)("div",{className:"team1",children:[(0,qt.jsx)("div",{children:"TEAM"}),(0,qt.jsx)("div",{children:(0,qt.jsx)("img",{src:os,alt:"teamLogo"})})]}),(0,qt.jsx)("div",{className:"team2",children:(0,qt.jsx)("span",{children:"\ubbf8\uc2dd\ucd95\uad6c \uc120\uc218\ub4e4\uc774 \uad6c\uc131\ud55c \ud300"})})]}),(0,qt.jsxs)("div",{className:"teamIntro",children:[(0,qt.jsx)("div",{className:"intro1",children:"Stech\uc740 \uacbd\uae30\uc7a5\uc5d0\uc11c \ub204\uad6c\ubcf4\ub2e4 \uac00\uae4c\uc774\uc5d0\uc11c \ub6f0\uba70 \ubbf8\uc2dd\ucd95\uad6c\ub97c \uacbd\ud5d8\ud55c \ud55c\uad6d \ub300\ud559 \uc120\uc218\ub4e4\uc5d0 \uc758\ud574 \uc124\ub9bd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,qt.jsx)("div",{className:"intro2",children:"\uc800\ud76c\ub294 \ud544\ub4dc\uc5d0\uc11c \uc5bb\uc740 \uc0dd\uc0dd\ud55c \uacbd\ud5d8\uacfc AI \uac1d\uccb4 \uc778\uc2dd \uae30\uc220\uc744 \uacb0\ud569\ud574 \uacbd\uae30 \ubd84\uc11d\uc744 \uc790\ub3d9\ud654\ud558\uace0 \uc804\ub7b5\uc5d0 \ubc14\ub85c \ud65c\uc6a9\ud560 \uc218 \uc788\ub294 \uc778\uc0ac\uc774\ud2b8\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc2a4\ud3ec\uce20\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574\uc640 \uae30\uc220\uc801 \uc804\ubb38\uc131, \uadf8\ub9ac\uace0 \ud601\uc2e0\uc5d0 \ub300\ud55c \ub04a\uc784\uc5c6\ub294 \ub3c4\uc804\uc744 \ud1b5\ud574, \uc120\uc218\uc640 \ucf54\uce58\ub97c \uc9c4\uc815\uc73c\ub85c \uc704\ud55c \ub3c4\uad6c\ub97c \ub9cc\ub4e4\uc5b4\uac00\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8 \uc774\uc720\ub294, \uc6b0\ub9ac \uc790\uc2e0\uc774 \ubc14\ub85c \uadf8 \uc120\uc218\ub4e4\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."})]})]})}),(0,qt.jsxs)("div",{className:"historyContainer",children:[(0,qt.jsxs)("div",{className:"firstColumn",children:[(0,qt.jsx)("img",{src:ls,alt:"tp1"}),(0,qt.jsx)("img",{src:cs,alt:"tp2"}),(0,qt.jsx)("img",{src:ds,alt:"tp3"}),(0,qt.jsx)("img",{src:hs,alt:"tp4"})]}),(0,qt.jsxs)("div",{className:"secondColumn",children:[(0,qt.jsx)("tt",{children:"25.08"}),(0,qt.jsx)("td",{children:"\u2022 2025 Next Challenge \ub85c\uceec \uccad\ub144 IR & Networking Camp \uc218\ub8cc"}),(0,qt.jsx)("tt",{children:"25.07"}),(0,qt.jsx)("td",{children:"\u2022 2025 \ud55c\uc591\ub300\ud559\uad50 \uae00\ub85c\ubc8c \ucc4c\ub9b0\uc800 \uc778 \uc2e4\ub9ac\ucf58\ubc38\ub9ac \ud504\ub85c\uadf8\ub7a8 \uc218\ub8cc"}),(0,qt.jsx)("tt",{children:"25.06"}),(0,qt.jsxs)("td",{children:["\u2022 NVIDIA Inception Program \ucc38\uc5ec",(0,qt.jsx)("br",{}),"\u2022 Google for Startups \ud504\ub85c\uadf8\ub7a8 \ucc38\uc5ec"]}),(0,qt.jsx)("tt",{children:"25.05"}),(0,qt.jsx)("td",{children:"\u2022 \uc911\uc18c\ubca4\ucc98\uae30\uc5c5\ubd80, \ud55c\uc591\ub300\ud559\uad50 \ucc3d\uc5c5\uc9c0\uc6d0\ub2e8 \uc8fc\ucd5c \ucc3d\uc5c5\uc911\uc2ec\ub300\ud559 \uc0dd\uc560\ucd5c\ucd08 \uc804\ud615 \uc120\uc815"}),(0,qt.jsx)("tt",{children:"25.03"}),(0,qt.jsx)("td",{children:"\u2022 \uc11c\uc6b8\ubbf8\uc2dd\ucd95\uad6c\ud611\ud68c \uc11c\ud3ec\ud130\uc988 \uc6b4\uc601"}),(0,qt.jsx)("tt",{children:"25.02"}),(0,qt.jsx)("td",{children:"\u2022 Stech \ud300 \uacb0\uc131 \u2022 2025 SKT \uc5d0\uc774\ub2f7 AI \uc11c\ud3ec\ud130\uc988 \uc218\ub8cc"})]})]}),(0,qt.jsx)("div",{className:"memberContainer"})]}),(0,qt.jsx)(sn,{})]});function ps(e,t,n){t||(t=[]);var s=t.length++;return Object.defineProperty({},"_",{set:function(i){t[s]=i,e.apply(n,t)}})}function ms(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gs(e,t){ms(e,t),t.add(e)}function fs(e,t,n){ms(e,t),t.set(e,n)}function vs(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function ys(e,t,n){return n(vs(e,t))}function xs(e,t){return e.get(vs(e,t))}function bs(e,t,n){return e.set(vs(e,t),n),n}var ws,_s,Ss,ks,Cs,As,js,Ts,Es,Ns,Ps,Ms,Os={d:(e,t)=>{for(var n in t)Os.o(t,n)&&!Os.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Ds=globalThis.pdfjsLib={};Os.d(Ds,{AbortException:()=>Vi,AnnotationEditorLayer:()=>dy,AnnotationEditorParamsType:()=>Xs,AnnotationEditorType:()=>Ks,AnnotationEditorUIManager:()=>co,AnnotationLayer:()=>ym,AnnotationMode:()=>qs,ColorPicker:()=>Kg,DOMSVGFactory:()=>Gu,DrawLayer:()=>_y,FeatureTest:()=>Qi,GlobalWorkerOptions:()=>sd,ImageKind:()=>si,InvalidPDFException:()=>zi,MissingPDFException:()=>Gi,OPS:()=>Ti,OutputScale:()=>Da,PDFDataRangeTransport:()=>tu,PDFDateString:()=>ja,PDFWorker:()=>pu,PasswordResponses:()=>Ei,PermissionFlag:()=>Qs,PixelsPerInch:()=>ga,RenderingCancelledException:()=>ya,TextLayer:()=>Mh,UnexpectedResponseException:()=>Hi,Util:()=>Zi,VerbosityLevel:()=>ji,XfaLayer:()=>Hu,build:()=>Iu,createValidAbsoluteUrl:()=>Fi,fetchData:()=>fa,getDocument:()=>Jh,getFilenameFromUrl:()=>wa,getPdfFilenameFromUrl:()=>_a,getXfaPageViewport:()=>Ea,isDataScheme:()=>xa,isPdfFile:()=>ba,noContextMenu:()=>Ca,normalizeUnicode:()=>sa,setLayerDimensions:()=>Oa,shadow:()=>Ii,version:()=>Fu});const Ls="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Rs=[1,0,0,1,0,0],Fs=[.001,0,0,.001,0,0],Is=1.35,Bs=1,Ws=2,Us=4,zs=16,Gs=32,Hs=64,Ys=128,Vs=256,qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ks={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xs={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Qs={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Js=0,Zs=1,$s=2,ei=3,ti=3,ni=4,si={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ii=1,ai=2,ri=3,oi=4,li=5,ci=6,di=7,hi=8,ui=9,pi=10,mi=11,gi=12,fi=13,vi=14,yi=15,xi=16,bi=17,wi=20,_i=1,Si=2,ki=3,Ci=4,Ai=5,ji={ERRORS:0,WARNINGS:1,INFOS:5},Ti={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Ei={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ni=ji.WARNINGS;function Pi(e){Number.isInteger(e)&&(Ni=e)}function Mi(){return Ni}function Oi(e){Ni>=ji.INFOS&&console.log("Info: ".concat(e))}function Di(e){Ni>=ji.WARNINGS&&console.log("Warning: ".concat(e))}function Li(e){throw new Error(e)}function Ri(e,t){e||Li(t)}function Fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(s){}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(i){}return null}function Ii(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!s,configurable:!0,writable:!1}),n}const Bi=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Wi extends Bi{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ui extends Bi{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class zi extends Bi{constructor(e){super(e,"InvalidPDFException")}}class Gi extends Bi{constructor(e){super(e,"MissingPDFException")}}class Hi extends Bi{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Yi extends Bi{constructor(e){super(e,"FormatError")}}class Vi extends Bi{constructor(e){super(e,"AbortException")}}function qi(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||Li("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const s=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),r=e.subarray(i,a);s.push(String.fromCharCode.apply(null,r))}return s.join("")}function Ki(e){"string"!==typeof e&&Li("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let s=0;s<t;++s)n[s]=255&e.charCodeAt(s);return n}function Xi(e){const t=Object.create(null);for(const[n,s]of e)t[n]=s;return t}class Qi{static get isLittleEndian(){return Ii(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Ii(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return Ii(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var e,t;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?Ii(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&navigator.userAgent.includes("Firefox")}):Ii(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ii(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ji=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Zi{static makeHexColor(e,t,n){return"#".concat(Ji[e]).concat(Ji[t]).concat(Ji[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],i[0],a[0]),Math.min(n[1],s[1],i[1],a[1]),Math.max(n[0],s[0],i[0],a[0]),Math.max(n[1],s[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],r=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-i*s))/2,l=r+o||1,c=r-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,s,a]}static bezierBoundingBox(e,t,n,s,i,a,r,o,l){return l?(l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,r),Math.min(t,o),Math.max(e,r),Math.max(t,o)],vs(Zi,this,ea).call(this,e,n,i,r,t,s,a,o,3*(3*(n-i)-e+r),6*(e-2*n+i),3*(n-e),l),vs(Zi,this,ea).call(this,e,n,i,r,t,s,a,o,3*(3*(s-a)-t+o),6*(t-2*s+a),3*(s-t),l),l}}function $i(e,t,n,s,i,a,r,o,l,c){if(l<=0||l>=1)return;const d=1-l,h=l*l,u=h*l,p=d*(d*(d*e+3*l*t)+3*h*n)+u*s,m=d*(d*(d*i+3*l*a)+3*h*r)+u*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}function ea(e,t,n,s,i,a,r,o,l,c,d,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&vs(ws,this,$i).call(this,e,t,n,s,i,a,r,o,-d/c,h));const u=c**2-4*d*l;if(u<0)return;const p=Math.sqrt(u),m=2*l;vs(ws,this,$i).call(this,e,t,n,s,i,a,r,o,(-c+p)/m,h),vs(ws,this,$i).call(this,e,t,n,s,i,a,r,o,(-c-p)/m,h)}ws=Zi;let ta=null,na=null;function sa(e){return ta||(ta=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,na=new Map([["\ufb05","\u017ft"]])),e.replaceAll(ta,(e,t,n)=>t?t.normalize("NFKC"):na.get(n))}const ia="pdfjs_internal_id_",aa=0,ra=1,oa=2,la=3,ca=4,da=5,ha=6,ua=7,pa=8;const ma="http://www.w3.org/2000/svg";class ga{}async function fa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(ka(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,s)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)s(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)})}_s=ga,l(ga,"CSS",96),l(ga,"PDF",72),l(ga,"PDF_TO_CSS_UNITS",_s.CSS/_s.PDF);class va{constructor(e){let{viewBox:t,scale:n,rotation:s,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}=e;this.viewBox=t,this.scale=n,this.rotation=s,this.offsetX=i,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,h,u,p,m,g,f;switch(s%=360,s<0&&(s+=360),s){case 180:c=-1,d=0,h=0,u=1;break;case 90:c=0,d=1,h=1,u=0;break;case 270:c=0,d=-1,h=-1,u=0;break;case 0:c=1,d=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(h=-h,u=-u),0===c?(p=Math.abs(l-t[1])*n+i,m=Math.abs(o-t[0])*n+a,g=(t[3]-t[1])*n,f=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+i,m=Math.abs(l-t[1])*n+a,g=(t[2]-t[0])*n,f=(t[3]-t[1])*n),this.transform=[c*n,d*n,h*n,u*n,p-c*n*o-h*n*l,m-d*n*o-u*n*l],this.width=g,this.height=f}get rawDims(){const{viewBox:e}=this;return Ii(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new va({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){return Zi.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Zi.applyTransform([e[0],e[1]],this.transform),n=Zi.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Zi.applyInverseTransform([e,t],this.transform)}}class ya extends Bi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function xa(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function ba(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function wa(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function _a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(xa(e))return Di('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(a){}return i||t}class Sa{constructor(){l(this,"started",Object.create(null)),l(this,"times",[])}time(e){e in this.started&&Di("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||Di("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-s,"ms\n"));return e.join("")}}function ka(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}function Ca(e){e.preventDefault()}function Aa(e){console.log("Deprecated API usage: "+e)}class ja{static toDateObject(e){if(!e||"string"!==typeof e)return null;vs(ja,this,Ta)._||(Ta._=vs(ja,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=vs(ja,this,Ta)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let r=parseInt(t[5],10);r=r>=0&&r<=59?r:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,r+=d):"+"===l&&(a-=c,r-=d),new Date(Date.UTC(n,s,i,a,r,o))}}var Ta={_:void 0};function Ea(e,t){let{scale:n=1,rotation:s=0}=t;const{width:i,height:a}=e.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new va({viewBox:r,scale:n,rotation:s})}function Na(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Di('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Pa(e){const{a:t,b:n,c:s,d:i,e:a,f:r}=e.getTransform();return[t,n,s,i,a,r]}function Ma(e){const{a:t,b:n,c:s,d:i,e:a,f:r}=e.getTransform().invertSelf();return[t,n,s,i,a,r]}function Oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof va){const{pageWidth:s,pageHeight:i}=t.rawDims,{style:a}=e,r=Qi.isCSSRoundSupported,o="var(--scale-factor) * ".concat(s,"px"),l="var(--scale-factor) * ".concat(i,"px"),c=r?"round(down, ".concat(o,", var(--scale-round-x, 1px))"):"calc(".concat(o,")"),d=r?"round(down, ".concat(l,", var(--scale-round-y, 1px))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(a.width=d,a.height=c):(a.width=c,a.height=d)}s&&e.setAttribute("data-main-rotation",t.rotation)}class Da{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}var La=new WeakMap,Ra=new WeakMap,Fa=new WeakMap,Ia=new WeakMap,Ba=new WeakMap,Wa=new WeakSet;class Ua{constructor(e){gs(this,Wa),fs(this,La,null),fs(this,Ra,null),fs(this,Fa,void 0),fs(this,Ia,null),fs(this,Ba,null),bs(Fa,this,e),Ka._||(Ka._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=bs(La,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=xs(Fa,this)._uiManager._signal;e.addEventListener("contextmenu",Ca,{signal:t}),e.addEventListener("pointerdown",za,{signal:t});const n=bs(Ia,this,document.createElement("div"));n.className="buttons",e.append(n);const s=xs(Fa,this).toolbarPosition;if(s){const{style:t}=e,n="ltr"===xs(Fa,this)._uiManager.direction?1-s[0]:s[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*s[1],"% + var(--editor-toolbar-vert-offset))")}return vs(Wa,this,Va).call(this),e}get div(){return xs(La,this)}hide(){var e;xs(La,this).classList.add("hidden"),null===(e=xs(Ra,this))||void 0===e||e.hideDropdown()}show(){var e;xs(La,this).classList.remove("hidden"),null===(e=xs(Ba,this))||void 0===e||e.shown()}async addAltText(e){const t=await e.render();vs(Wa,this,Ya).call(this,t),xs(Ia,this).prepend(t,ys(Wa,this,qa)),bs(Ba,this,e)}addColorPicker(e){bs(Ra,this,e);const t=e.renderButton();vs(Wa,this,Ya).call(this,t),xs(Ia,this).prepend(t,ys(Wa,this,qa))}remove(){var e;xs(La,this).remove(),null===(e=xs(Ra,this))||void 0===e||e.destroy(),bs(Ra,this,null)}}function za(e){e.stopPropagation()}function Ga(e){xs(Fa,this)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}function Ha(e){xs(Fa,this)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}function Ya(e){const t=xs(Fa,this)._uiManager._signal;e.addEventListener("focusin",vs(Wa,this,Ga).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",vs(Wa,this,Ha).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ca,{signal:t})}function Va(){const{editorType:e,_uiManager:t}=xs(Fa,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",Ka._[e]),vs(Wa,this,Ya).call(this,n),n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),xs(Ia,this).append(n)}function qa(e){const t=document.createElement("div");return t.className="divider",t}var Ka={_:null},Xa=new WeakMap,Qa=new WeakMap,Ja=new WeakMap,Za=new WeakSet;class $a{constructor(e){gs(this,Za),fs(this,Xa,null),fs(this,Qa,null),fs(this,Ja,void 0),bs(Ja,this,e)}show(e,t,n){const[s,i]=vs(Za,this,tr).call(this,t,n),{style:a}=xs(Qa,this)||bs(Qa,this,vs(Za,this,er).call(this));e.append(xs(Qa,this)),a.insetInlineEnd="".concat(100*s,"%"),a.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){xs(Qa,this).remove()}}function er(){const e=bs(Qa,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ca,{signal:xs(Ja,this)._signal});const t=bs(Xa,this,document.createElement("div"));return t.className="buttons",e.append(t),vs(Za,this,nr).call(this),e}function tr(e,t){let n=0,s=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const a=i.x+(t?i.width:0);e>n?(s=a,n=e):t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,n]}function nr(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=xs(Ja,this)._signal;e.addEventListener("contextmenu",Ca,{signal:n}),e.addEventListener("click",()=>{xs(Ja,this).highlightSelection("floating_button")},{signal:n}),xs(Xa,this).append(e)}function sr(e,t,n){for(const s of n)t.addEventListener(s,e[s].bind(e))}var ir=new WeakMap;class ar{constructor(){fs(this,ir,0)}get id(){var e,t;return"".concat("pdfjs_internal_editor_").concat((bs(ir,this,(e=xs(ir,this),t=e++,e)),t))}}var rr=new WeakMap,or=new WeakMap,lr=new WeakMap,cr=new WeakSet;class dr{constructor(){gs(this,cr),fs(this,rr,function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let s=0;s<32;s++)n[s]=Math.floor(255*Math.random());return qi(n)}()),fs(this,or,0),fs(this,lr,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Ii(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:s,type:i}=e;return vs(cr,this,hr).call(this,"".concat(t,"_").concat(n,"_").concat(s,"_").concat(i),e)}async getFromUrl(e){return vs(cr,this,hr).call(this,e,e)}async getFromBlob(e,t){const n=await t;return vs(cr,this,hr).call(this,e,n)}async getFromId(e){xs(lr,this)||bs(lr,this,new Map);const t=xs(lr,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,s,i;xs(lr,this)||bs(lr,this,new Map);let a=xs(lr,this).get(e);if(null!==(i=a)&&void 0!==i&&i.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),a={bitmap:r.transferToImageBitmap(),id:"image_".concat(xs(rr,this),"_").concat((bs(or,this,(n=xs(or,this),s=n++,n)),s)),refCounter:1,isSvg:!1},xs(lr,this).set(e,a),xs(lr,this).set(a.id,a),a}getSvgUrl(e){const t=xs(lr,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;xs(lr,this)||bs(lr,this,new Map);const n=xs(lr,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:s}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(s.width,s.height);e.getContext("bitmaprenderer").transferFromImageBitmap(s),n.blobPromise=e.convertToBlob()}null===(t=s.close)||void 0===t||t.call(s),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(xs(rr,this),"_"))}}async function hr(e,t){var n;xs(lr,this)||bs(lr,this,new Map);let s=xs(lr,this).get(e);if(null===s)return null;if(null!==(n=s)&&void 0!==n&&n.bitmap)return s.refCounter+=1,s;try{var i,a;let e;if(s||(s={bitmap:null,id:"image_".concat(xs(rr,this),"_").concat((bs(or,this,(i=xs(or,this),a=i++,i)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(s.url=t,e=await fa(t,"blob")):t instanceof File?e=s.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=Ss._isSVGFittingCanvas,n=new FileReader,i=new Image,a=new Promise((e,a)=>{i.onload=()=>{s.bitmap=i,s.isSvg=!0,e()},n.onload=async()=>{const e=s.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=a});n.readAsDataURL(e),await a}else s.bitmap=await createImageBitmap(e);s.refCounter=1}catch(Cw){console.error(Cw),s=null}return xs(lr,this).set(e,s),s&&xs(lr,this).set(s.id,s),s}Ss=dr;var ur=new WeakMap,pr=new WeakMap,mr=new WeakMap,gr=new WeakMap;class fr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;fs(this,ur,[]),fs(this,pr,!1),fs(this,mr,void 0),fs(this,gr,-1),bs(mr,this,e)}add(e){let{cmd:t,undo:n,post:s,mustExec:i,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}=e;if(i&&t(),xs(pr,this))return;const l={cmd:t,undo:n,post:s,type:a};if(-1===xs(gr,this))return xs(ur,this).length>0&&(xs(ur,this).length=0),bs(gr,this,0),void xs(ur,this).push(l);if(r&&xs(ur,this)[xs(gr,this)].type===a)return o&&(l.undo=xs(ur,this)[xs(gr,this)].undo),void(xs(ur,this)[xs(gr,this)]=l);const c=xs(gr,this)+1;c===xs(mr,this)?xs(ur,this).splice(0,1):(bs(gr,this,c),c<xs(ur,this).length&&xs(ur,this).splice(c)),xs(ur,this).push(l)}undo(){if(-1===xs(gr,this))return;bs(pr,this,!0);const{undo:e,post:t}=xs(ur,this)[xs(gr,this)];e(),null===t||void 0===t||t(),bs(pr,this,!1),bs(gr,this,xs(gr,this)-1)}redo(){if(xs(gr,this)<xs(ur,this).length-1){bs(gr,this,xs(gr,this)+1),bs(pr,this,!0);const{cmd:e,post:t}=xs(ur,this)[xs(gr,this)];e(),null===t||void 0===t||t(),bs(pr,this,!1)}}hasSomethingToUndo(){return-1!==xs(gr,this)}hasSomethingToRedo(){return xs(gr,this)<xs(ur,this).length-1}destroy(){bs(ur,this,null)}}var vr=new WeakSet;class yr{constructor(e){gs(this,vr),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Qi.platform;for(const[n,s,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:s,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:s,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(vs(vr,this,xr).call(this,t));if(!n)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:r=null}}=n;r&&!r(e,t)||(s.bind(e,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}function xr(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class br{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const s=window.getComputedStyle(t).color;e.set(n,Na(s))}t.remove()}(e),Ii(this,"_colors",e)}convert(e){const t=Na(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((e,n)=>e===t[n]))return br._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Zi.makeHexColor(...t):e}}l(br,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var wr=new WeakMap,_r=new WeakMap,Sr=new WeakMap,kr=new WeakMap,Cr=new WeakMap,Ar=new WeakMap,jr=new WeakMap,Tr=new WeakMap,Er=new WeakMap,Nr=new WeakMap,Pr=new WeakMap,Mr=new WeakMap,Or=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Rr=new WeakMap,Fr=new WeakMap,Ir=new WeakMap,Br=new WeakMap,Wr=new WeakMap,Ur=new WeakMap,zr=new WeakMap,Gr=new WeakMap,Hr=new WeakMap,Yr=new WeakMap,Vr=new WeakMap,qr=new WeakMap,Kr=new WeakMap,Xr=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,Zr=new WeakMap,$r=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,so=new WeakMap,io=new WeakMap,ao=new WeakMap,ro=new WeakMap,oo=new WeakMap,lo=new WeakSet;class co{static get _keyboardManager(){const e=co.prototype,t=e=>xs(ao,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Ii(this,"_keyboardManager",new yr([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&xs(ao,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&xs(ao,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,s,i,a,r,o,l,c,d){gs(this,lo),fs(this,wr,new AbortController),fs(this,_r,null),fs(this,Sr,new Map),fs(this,kr,new Map),fs(this,Cr,null),fs(this,Ar,null),fs(this,jr,null),fs(this,Tr,new fr),fs(this,Er,null),fs(this,Nr,0),fs(this,Pr,new Set),fs(this,Mr,null),fs(this,Or,null),fs(this,Dr,new Set),fs(this,Lr,!1),fs(this,Rr,!1),fs(this,Fr,!1),fs(this,Ir,null),fs(this,Br,null),fs(this,Wr,null),fs(this,Ur,null),fs(this,zr,!1),fs(this,Gr,null),fs(this,Hr,new ar),fs(this,Yr,!1),fs(this,Vr,!1),fs(this,qr,null),fs(this,Kr,null),fs(this,Xr,null),fs(this,Qr,null),fs(this,Jr,Ks.NONE),fs(this,Zr,new Set),fs(this,$r,null),fs(this,eo,null),fs(this,to,null),fs(this,no,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),fs(this,so,[0,0]),fs(this,io,null),fs(this,ao,null),fs(this,ro,null),fs(this,oo,null);const h=this._signal=xs(wr,this).signal;bs(ao,this,e),bs(ro,this,t),bs(Cr,this,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:h}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),s._on("setpreference",this.onSetPreference.bind(this),{signal:h}),s._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:h}),vs(lo,this,fo).call(this),vs(lo,this,So).call(this),vs(lo,this,xo).call(this),bs(Ar,this,i.annotationStorage),bs(Ir,this,i.filterFactory),bs(eo,this,a),bs(Ur,this,r||null),bs(Lr,this,o),bs(Rr,this,l),bs(Fr,this,c),bs(Qr,this,d||null),this.viewParameters={realScale:ga.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var e,t,n,s;null===(e=xs(oo,this))||void 0===e||e.resolve(),bs(oo,this,null),null===(t=xs(wr,this))||void 0===t||t.abort(),bs(wr,this,null),this._signal=null;for(const i of xs(kr,this).values())i.destroy();xs(kr,this).clear(),xs(Sr,this).clear(),xs(Dr,this).clear(),bs(_r,this,null),xs(Zr,this).clear(),xs(Tr,this).destroy(),null===(n=xs(Cr,this))||void 0===n||n.destroy(),null===(s=xs(Gr,this))||void 0===s||s.hide(),bs(Gr,this,null),xs(Br,this)&&(clearTimeout(xs(Br,this)),bs(Br,this,null)),xs(io,this)&&(clearTimeout(xs(io,this)),bs(io,this,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return xs(Qr,this)}get useNewAltTextFlow(){return xs(Rr,this)}get useNewAltTextWhenAddingImage(){return xs(Fr,this)}get hcmFilter(){return Ii(this,"hcmFilter",xs(eo,this)?xs(Ir,this).addHCMFilter(xs(eo,this).foreground,xs(eo,this).background):"none")}get direction(){return Ii(this,"direction",getComputedStyle(xs(ao,this)).direction)}get highlightColors(){return Ii(this,"highlightColors",xs(Ur,this)?new Map(xs(Ur,this).split(",").map(e=>e.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ii(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){bs(Xr,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=xs(Cr,this))||void 0===t||t.editAltText(this,e,n)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)bs(Fr,this,n)}onPageChanging(e){let{pageNumber:t}=e;bs(Nr,this,t-1)}focusMainContainer(){xs(ao,this).focus()}findParent(e,t){for(const n of xs(kr,this).values()){const{x:s,y:i,width:a,height:r}=n.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=i&&t<=i+r)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xs(ro,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){xs(Dr,this).add(e)}removeShouldRescale(e){xs(Dr,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*ga.PDF_TO_CSS_UNITS;for(const n of xs(Dr,this))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:a}=t,r=t.toString(),o=vs(lo,this,ho).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=vs(lo,this,uo).call(this,o),d=xs(Jr,this)===Ks.NONE,h=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:a,text:r}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode(Ks.HIGHLIGHT,h):h()}addToAnnotationStorage(e){e.isEmpty()||!xs(Ar,this)||xs(Ar,this).has(e.id)||xs(Ar,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,xs(zr,this)&&(bs(zr,this,!1),vs(lo,this,go).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of xs(Zr,this))if(t.div.contains(e)){bs(Kr,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!xs(Kr,this))return;const[e,t]=xs(Kr,this);bs(Kr,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){vs(lo,this,xo).call(this),vs(lo,this,wo).call(this)}removeEditListeners(){vs(lo,this,bo).call(this),vs(lo,this,_o).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of xs(Or,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of xs(Or,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=xs(_r,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of xs(Zr,this)){const e=s.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of xs(Or,this))if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void Di('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const e=[];for(const a of n){const t=await s.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)vs(lo,this,To).call(this,t);vs(lo,this,Po).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){Di('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),xs(Jr,this)===Ks.NONE||this.isEditorHandlingKeyboard||co._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,xs(zr,this)&&(bs(zr,this,!1),vs(lo,this,go).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(vs(lo,this,vo).call(this),vs(lo,this,wo).call(this),vs(lo,this,ko).call(this,{isEditing:xs(Jr,this)!==Ks.NONE,isEmpty:vs(lo,this,No).call(this),hasSomethingToUndo:xs(Tr,this).hasSomethingToUndo(),hasSomethingToRedo:xs(Tr,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(vs(lo,this,yo).call(this),vs(lo,this,_o).call(this),vs(lo,this,ko).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!xs(Or,this)){bs(Or,this,e);for(const e of xs(Or,this))vs(lo,this,Co).call(this,e.defaultPropertiesToUpdate)}}getId(){return xs(Hr,this).id}get currentLayer(){return xs(kr,this).get(xs(Nr,this))}getLayer(e){return xs(kr,this).get(e)}get currentPageIndex(){return xs(Nr,this)}addLayer(e){xs(kr,this).set(e.pageIndex,e),xs(Yr,this)?e.enable():e.disable()}removeLayer(e){xs(kr,this).delete(e.pageIndex)}async updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xs(Jr,this)!==e&&(!xs(oo,this)||(await xs(oo,this).promise,xs(oo,this)))){if(bs(oo,this,Promise.withResolvers()),bs(Jr,this,e),e===Ks.NONE)return this.setEditingState(!1),vs(lo,this,jo).call(this),void xs(oo,this).resolve();this.setEditingState(!0),await vs(lo,this,Ao).call(this),this.unselectAll();for(const t of xs(kr,this).values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void xs(oo,this).resolve();for(const e of xs(Sr,this).values())e.annotationElementId===t?(this.setSelected(e),e.enterInEditMode()):e.unselect();xs(oo,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==xs(Jr,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(xs(Or,this)){switch(e){case Xs.CREATE:return void this.currentLayer.addNewEditor();case Xs.HIGHLIGHT_DEFAULT_COLOR:null===(n=xs(Xr,this))||void 0===n||n.updateColor(t);break;case Xs.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(xs(to,this)||bs(to,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of xs(Zr,this))n.updateParams(e,t);for(const n of xs(Or,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,s;for(const i of xs(Sr,this).values())i.editorType===e&&i.show(t);(null===(n=null===(s=xs(to,this))||void 0===s?void 0:s.get(Xs.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&vs(lo,this,Co).call(this,[[Xs.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(xs(Vr,this)!==e){bs(Vr,this,e);for(const t of xs(kr,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of xs(Sr,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return xs(Sr,this).get(e)}addEditor(e){xs(Sr,this).set(e.id,e)}removeEditor(e){var t;(e.div.contains(document.activeElement)&&(xs(Br,this)&&clearTimeout(xs(Br,this)),bs(Br,this,setTimeout(()=>{this.focusMainContainer(),bs(Br,this,null)},0))),xs(Sr,this).delete(e.id),this.unselect(e),e.annotationElementId&&xs(Pr,this).has(e.annotationElementId))||(null===(t=xs(Ar,this))||void 0===t||t.remove(e.id))}addDeletedAnnotationElement(e){xs(Pr,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return xs(Pr,this).has(e)}removeDeletedAnnotationElement(e){xs(Pr,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){xs(_r,this)!==e&&(bs(_r,this,e),e&&vs(lo,this,Co).call(this,e.propertiesToUpdate))}updateUI(e){ys(lo,this,Eo)===e&&vs(lo,this,Co).call(this,e.propertiesToUpdate)}toggleSelected(e){if(xs(Zr,this).has(e))return xs(Zr,this).delete(e),e.unselect(),void vs(lo,this,ko).call(this,{hasSelectedEditor:this.hasSelection});xs(Zr,this).add(e),e.select(),vs(lo,this,Co).call(this,e.propertiesToUpdate),vs(lo,this,ko).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of xs(Zr,this))t!==e&&t.unselect();xs(Zr,this).clear(),xs(Zr,this).add(e),e.select(),vs(lo,this,Co).call(this,e.propertiesToUpdate),vs(lo,this,ko).call(this,{hasSelectedEditor:!0})}isSelected(e){return xs(Zr,this).has(e)}get firstSelectedEditor(){return xs(Zr,this).values().next().value}unselect(e){e.unselect(),xs(Zr,this).delete(e),vs(lo,this,ko).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==xs(Zr,this).size}get isEnterHandled(){return 1===xs(Zr,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){xs(Tr,this).undo(),vs(lo,this,ko).call(this,{hasSomethingToUndo:xs(Tr,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:vs(lo,this,No).call(this)})}redo(){xs(Tr,this).redo(),vs(lo,this,ko).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:xs(Tr,this).hasSomethingToRedo(),isEmpty:vs(lo,this,No).call(this)})}addCommands(e){xs(Tr,this).add(e),vs(lo,this,ko).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:vs(lo,this,No).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...xs(Zr,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)vs(lo,this,To).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=xs(_r,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return xs(_r,this)||this.hasSelection}selectAll(){for(const e of xs(Zr,this))e.commit();vs(lo,this,Po).call(this,xs(Sr,this).values())}unselectAll(){if((!xs(_r,this)||(xs(_r,this).commitOrRemove(),xs(Jr,this)===Ks.NONE))&&this.hasSelection){for(const e of xs(Zr,this))e.unselect();xs(Zr,this).clear(),vs(lo,this,ko).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;xs(so,this)[0]+=e,xs(so,this)[1]+=t;const[n,s]=xs(so,this),i=[...xs(Zr,this)];xs(io,this)&&clearTimeout(xs(io,this)),bs(io,this,setTimeout(()=>{bs(io,this,null),xs(so,this)[0]=xs(so,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)xs(Sr,this).has(e.id)&&e.translateInPage(n,s)},undo:()=>{for(const e of i)xs(Sr,this).has(e.id)&&e.translateInPage(-n,-s)},mustExec:!1})},1e3));for(const a of i)a.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),bs(Mr,this,new Map);for(const e of xs(Zr,this))xs(Mr,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!xs(Mr,this))return!1;this.disableUserSelect(!1);const e=xs(Mr,this);bs(Mr,this,null);let t=!1;for(const[{x:s,y:i,pageIndex:a},r]of e)r.newX=s,r.newY=i,r.newPageIndex=a,t||(t=s!==r.savedX||i!==r.savedY||a!==r.savedPageIndex);if(!t)return!1;const n=(e,t,n,s)=>{if(xs(Sr,this).has(e.id)){const i=xs(kr,this).get(s);i?e._setParentAndPosition(i,t,n):(e.pageIndex=s,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:s,newY:i,newPageIndex:a}]of e)n(t,s,i,a)},undo:()=>{for(const[t,{savedX:s,savedY:i,savedPageIndex:a}]of e)n(t,s,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(xs(Mr,this))for(const n of xs(Mr,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===xs(Zr,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return xs(_r,this)===e}getActive(){return xs(_r,this)}getMode(){return xs(Jr,this)}get imageManager(){return Ii(this,"imageManager",new dr)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:s,width:i,height:a}=e.getBoundingClientRect();let r;switch(e.getAttribute("data-main-rotation")){case"90":r=(e,t,r,o)=>({x:(t-s)/a,y:1-(e+r-n)/i,width:o/a,height:r/i});break;case"180":r=(e,t,r,o)=>({x:1-(e+r-n)/i,y:1-(t+o-s)/a,width:r/i,height:o/a});break;case"270":r=(e,t,r,o)=>({x:1-(t+o-s)/a,y:(e-n)/i,width:o/a,height:r/i});break;default:r=(e,t,r,o)=>({x:(e-n)/i,y:(t-s)/a,width:r/i,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:s,height:i}of e.getClientRects())0!==s&&0!==i&&o.push(r(t,n,s,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(xs(jr,this)||bs(jr,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=xs(jr,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=xs(jr,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const s=xs(Ar,this).getRawValue(n);s&&(xs(Jr,this)!==Ks.NONE||s.hasBeenModified)&&s.renderAnnotationElement(e)}}function ho(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function uo(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of xs(kr,this).values())if(n.hasTextLayer(e))return n;return null}function po(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=vs(lo,this,ho).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(xs(Gr,this)||bs(Gr,this,new $a(this)),xs(Gr,this).show(t,n,"ltr"===this.direction))}function mo(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(xs($r,this))null===(n=xs(Gr,this))||void 0===n||n.hide(),bs($r,this,null),vs(lo,this,ko).call(this,{hasSelectedText:!1});return}const{anchorNode:s}=t;if(s===xs($r,this))return;const i=vs(lo,this,ho).call(this,t).closest(".textLayer");var a;if(i){if(null===(e=xs(Gr,this))||void 0===e||e.hide(),bs($r,this,s),vs(lo,this,ko).call(this,{hasSelectedText:!0}),(xs(Jr,this)===Ks.HIGHLIGHT||xs(Jr,this)===Ks.NONE)&&(xs(Jr,this)===Ks.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),bs(zr,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=xs(Jr,this)===Ks.HIGHLIGHT?vs(lo,this,uo).call(this,i):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),s=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&vs(lo,this,go).call(this,"main_toolbar"))};window.addEventListener("pointerup",s,{signal:n}),window.addEventListener("blur",s,{signal:n})}}else xs($r,this)&&(null===(a=xs(Gr,this))||void 0===a||a.hide(),bs($r,this,null),vs(lo,this,ko).call(this,{hasSelectedText:!1}))}function go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";xs(Jr,this)===Ks.HIGHLIGHT?this.highlightSelection(e):xs(Lr,this)&&vs(lo,this,po).call(this)}function fo(){document.addEventListener("selectionchange",vs(lo,this,mo).bind(this),{signal:this._signal})}function vo(){if(xs(Wr,this))return;bs(Wr,this,new AbortController);const e=this.combinedSignal(xs(Wr,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function yo(){var e;null===(e=xs(Wr,this))||void 0===e||e.abort(),bs(Wr,this,null)}function xo(){if(xs(qr,this))return;bs(qr,this,new AbortController);const e=this.combinedSignal(xs(qr,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function bo(){var e;null===(e=xs(qr,this))||void 0===e||e.abort(),bs(qr,this,null)}function wo(){if(xs(Er,this))return;bs(Er,this,new AbortController);const e=this.combinedSignal(xs(Er,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function _o(){var e;null===(e=xs(Er,this))||void 0===e||e.abort(),bs(Er,this,null)}function So(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function ko(e){Object.entries(e).some(e=>{let[t,n]=e;return xs(no,this)[t]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(xs(no,this),e)}),xs(Jr,this)===Ks.HIGHLIGHT&&!1===e.hasSelectedEditor&&vs(lo,this,Co).call(this,[[Xs.HIGHLIGHT_FREE,!0]]))}function Co(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function Ao(){if(!xs(Yr,this)){bs(Yr,this,!0);const e=[];for(const t of xs(kr,this).values())e.push(t.enable());await Promise.all(e);for(const t of xs(Sr,this).values())t.enable()}}function jo(){if(this.unselectAll(),xs(Yr,this)){bs(Yr,this,!1);for(const e of xs(kr,this).values())e.disable();for(const e of xs(Sr,this).values())e.disable()}}function To(e){const t=xs(kr,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function Eo(e){let t=null;for(t of xs(Zr,e));return t}function No(){if(0===xs(Sr,this).size)return!0;if(1===xs(Sr,this).size)for(const e of xs(Sr,this).values())return e.isEmpty();return!1}function Po(e){for(const t of xs(Zr,this))t.unselect();xs(Zr,this).clear();for(const t of e)t.isEmpty()||(xs(Zr,this).add(t),t.select());vs(lo,this,ko).call(this,{hasSelectedEditor:this.hasSelection})}l(co,"TRANSLATE_SMALL",1),l(co,"TRANSLATE_BIG",10);var Mo=new WeakMap,Oo=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Ro=new WeakMap,Fo=new WeakMap,Io=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,Uo=new WeakMap,zo=new WeakMap,Go=new WeakMap,Ho=new WeakSet;class Yo{constructor(e){gs(this,Ho),fs(this,Mo,null),fs(this,Oo,!1),fs(this,Do,null),fs(this,Lo,null),fs(this,Ro,null),fs(this,Fo,null),fs(this,Io,!1),fs(this,Bo,null),fs(this,Wo,null),fs(this,Uo,null),fs(this,zo,null),fs(this,Go,!1),bs(Wo,this,e),bs(Go,this,e._uiManager.useNewAltTextFlow),Ko._||(Ko._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=Yo._l10n)&&void 0!==t||(Yo._l10n=e)}async render(){const e=bs(Do,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=bs(Lo,this,document.createElement("span"));e.append(t),xs(Go,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ko._.missing),t.setAttribute("data-l10n-id",Ko._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=xs(Wo,this)._uiManager._signal;e.addEventListener("contextmenu",Ca,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const s=e=>{e.preventDefault(),xs(Wo,this)._uiManager.editAltText(xs(Wo,this)),xs(Go,this)&&xs(Wo,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:ys(Ho,this,Vo)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(bs(Io,this,!0),s(t))},{signal:n}),await vs(Ho,this,qo).call(this),e}finish(){xs(Do,this)&&(xs(Do,this).focus({focusVisible:xs(Io,this)}),bs(Io,this,!1))}isEmpty(){return xs(Go,this)?null===xs(Mo,this):!xs(Mo,this)&&!xs(Oo,this)}hasData(){return xs(Go,this)?null!==xs(Mo,this)||!!xs(Uo,this):this.isEmpty()}get guessedText(){return xs(Uo,this)}async setGuessedText(e){null===xs(Mo,this)&&(bs(Uo,this,e),bs(zo,this,await Yo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),vs(Ho,this,qo).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!xs(Go,this)||xs(Mo,this))return null===(t=xs(Bo,this))||void 0===t||t.remove(),void bs(Bo,this,null);if(!xs(Bo,this)){const e=bs(Bo,this,document.createElement("div"));e.className="noAltTextBadge",xs(Wo,this).div.append(e)}xs(Bo,this).classList.toggle("hidden",!e)}serialize(e){let t=xs(Mo,this);return e||xs(Uo,this)!==t||(t=xs(zo,this)),{altText:t,decorative:xs(Oo,this),guessedText:xs(Uo,this),textWithDisclaimer:xs(zo,this)}}get data(){return{altText:xs(Mo,this),decorative:xs(Oo,this)}}set data(e){let{altText:t,decorative:n,guessedText:s,textWithDisclaimer:i,cancel:a=!1}=e;s&&(bs(Uo,this,s),bs(zo,this,i)),xs(Mo,this)===t&&xs(Oo,this)===n||(a||(bs(Mo,this,t),bs(Oo,this,n)),vs(Ho,this,qo).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];xs(Do,this)&&(!e&&xs(Fo,this)&&(clearTimeout(xs(Fo,this)),bs(Fo,this,null)),xs(Do,this).disabled=!e)}shown(){xs(Wo,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:ys(Ho,this,Vo)}})}destroy(){var e,t;null===(e=xs(Do,this))||void 0===e||e.remove(),bs(Do,this,null),bs(Lo,this,null),bs(Ro,this,null),null===(t=xs(Bo,this))||void 0===t||t.remove(),bs(Bo,this,null)}}function Vo(e){return(xs(Mo,e)?"added":null===xs(Mo,e)&&e.guessedText&&"review")||"missing"}async function qo(){const e=xs(Do,this);if(!e)return;if(xs(Go,this)){var t,n;if(e.classList.toggle("done",!!xs(Mo,this)),e.setAttribute("data-l10n-id",Ko._[ys(Ho,this,Vo)]),null===(t=xs(Lo,this))||void 0===t||t.setAttribute("data-l10n-id",Ko._["".concat(ys(Ho,this,Vo),"-label")]),!xs(Mo,this))return void(null===(n=xs(Ro,this))||void 0===n||n.remove())}else{var s;if(!xs(Mo,this)&&!xs(Oo,this))return e.classList.remove("done"),void(null===(s=xs(Ro,this))||void 0===s||s.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=xs(Ro,this);if(!i){bs(Ro,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(xs(Wo,this).id);const t=100,n=xs(Wo,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(xs(Fo,this)),bs(Fo,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{bs(Fo,this,setTimeout(()=>{bs(Fo,this,null),xs(Ro,this).classList.add("show"),xs(Wo,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:n}),e.addEventListener("mouseleave",()=>{var e;xs(Fo,this)&&(clearTimeout(xs(Fo,this)),bs(Fo,this,null)),null===(e=xs(Ro,this))||void 0===e||e.classList.remove("show")},{signal:n})}xs(Oo,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=xs(Mo,this)),i.parentNode||e.append(i);const a=xs(Wo,this).getImageForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",i.id)}var Ko={_:null};l(Yo,"_l10n",null);var Xo=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,sl=new WeakMap,il=new WeakMap,al=new WeakMap,rl=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,dl=new WeakMap,hl=new WeakMap,ul=new WeakMap,pl=new WeakMap,ml=new WeakMap,gl=new WeakSet;class fl{static get _resizerKeyboardManager(){const e=fl.prototype._resizeWithKeyboard,t=co.TRANSLATE_SMALL,n=co.TRANSLATE_BIG;return Ii(this,"_resizerKeyboardManager",new yr([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],fl.prototype._stopResizingWithKeyboard]]))}constructor(e){gs(this,gl),fs(this,Xo,null),fs(this,Qo,null),fs(this,Jo,null),fs(this,Zo,!1),fs(this,$o,!1),fs(this,el,null),fs(this,tl,null),fs(this,nl,null),fs(this,sl,""),fs(this,il,!1),fs(this,al,null),fs(this,rl,!1),fs(this,ol,!1),fs(this,ll,!1),fs(this,cl,null),fs(this,dl,0),fs(this,hl,0),fs(this,ul,null),l(this,"_editToolbar",null),l(this,"_initialOptions",Object.create(null)),l(this,"_initialData",null),l(this,"_isVisible",!0),l(this,"_uiManager",null),l(this,"_focusEventsAllowed",!0),fs(this,pl,!1),fs(this,ml,fl._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[i,a];const[r,o]=this.parentDimensions;this.x=e.x/r,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ii(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Ml({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=fl._l10n)&&void 0!==n||(fl._l10n=e),fl._l10nResizer||(fl._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==fl._borderLineWidth)return;const s=getComputedStyle(document.documentElement);fl._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Li("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return xs(pl,this)}set _isDraggable(e){var t;bs(pl,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=xs(ml,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):vs(gl,this,Pl).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(xs(il,this)?bs(il,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[i,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/i,this.y=(t+s)/a,this.fixAndSetPosition()}translate(e,t){vs(gl,this,vl).call(this,this.parentDimensions,e,t)}translateInPage(e,t){xs(al,this)||bs(al,this,[this.x,this.y]),vs(gl,this,vl).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){xs(al,this)||bs(al,this,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[r,o]=this.getBaseTranslation();i+=r,a+=o,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*a).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!xs(al,this)&&(xs(al,this)[0]!==this.x||xs(al,this)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=fl,s=n/e,i=n/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:s,y:i,width:a,height:r}=this;if(a*=t,r*=n,s*=t,i*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-a,s)),i=Math.max(0,Math.min(n-r,i));break;case 90:s=Math.max(0,Math.min(t-r,s)),i=Math.min(n,Math.max(a,i));break;case 180:s=Math.min(t,Math.max(a,s)),i=Math.min(n,Math.max(r,i));break;case 270:s=Math.min(t,Math.max(r,s)),i=Math.max(0,Math.min(n-a,i))}this.x=s/=t,this.y=i/=n;const[o,l]=this.getBaseTranslation();s+=o,i+=l;const{style:c}=this.div;c.left="".concat((100*s).toFixed(2),"%"),c.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return yl.call(fl,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return yl.call(fl,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width="".concat((100*e/n).toFixed(2),"%"),xs($o,this)||(this.div.style.height="".concat((100*t/s).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),i=!xs($o,this)&&t.endsWith("%");if(s&&i)return;const[a,r]=this.parentDimensions;s||(e.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),xs($o,this)||i||(e.height="".concat((100*parseFloat(t)/r).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=xs(Jo,this))||void 0===e||e.finish()}async addEditToolbar(){return this._editToolbar||xs(ol,this)||(this._editToolbar=new Ua(this),this.div.append(this._editToolbar.render()),xs(Jo,this)&&await this._editToolbar.addAltText(xs(Jo,this))),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=xs(Jo,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){xs(Jo,this)||(Yo.initialize(fl._l10n),bs(Jo,this,new Yo(this)),xs(Xo,this)&&(xs(Jo,this).data=xs(Xo,this),bs(Xo,this,null)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=xs(Jo,this))||void 0===e?void 0:e.data}set altTextData(e){xs(Jo,this)&&(xs(Jo,this).data=e)}get guessedAltText(){var e;return null===(e=xs(Jo,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=xs(Jo,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=xs(Jo,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!xs(Jo,this)&&!xs(Jo,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=xs(Jo,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=xs(Zo,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),vs(gl,this,Al).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,s]=this.getInitialTranslation();return this.translate(n,s),sr(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Qi.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(bs(il,this,!0),this._isDraggable?vs(gl,this,Cl).call(this,e):vs(gl,this,kl).call(this,e))}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){xs(cl,this)&&clearTimeout(xs(cl,this)),bs(cl,this,setTimeout(()=>{var e;bs(cl,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const s=this.parentScale,[i,a]=this.pageDimensions,[r,o]=this.pageTranslation,l=e/s,c=t/s,d=this.x*i,h=this.y*a,u=this.width*i,p=this.height*a;switch(n){case 0:return[d+l+r,a-h-c-p+o,d+l+u+r,a-h-c+o];case 90:return[d+c+r,a-h+l+o,d+c+p+r,a-h+l+u+o];case 180:return[d-l-u+r,a-h+c+o,d-l+r,a-h+c+p+o];case 270:return[d-c-p+r,a-h-l-u+o,d-c+r,a-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,i,a]=e,r=i-n,o=a-s;switch(this.rotation){case 0:return[n,t-a,r,o];case 90:return[n,t-s,o,r];case 180:return[i,t-s,r,o];case 270:return[i,t-a,o,r];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){bs(ol,this,!0)}disableEditMode(){bs(ol,this,!1)}isInEditMode(){return xs(ol,this)}shouldGetKeyboardEvents(){return xs(ll,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){vs(gl,this,Al).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){Li("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,bs(Xo,s,e.accessibilityData);const[i,a]=s.pageDimensions,[r,o,l,c]=s.getRectInCurrentCoords(e.rect,a);return s.x=r/i,s.y=o/a,s.width=l/i,s.height=c/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e;if(null===(e=xs(nl,this))||void 0===e||e.abort(),bs(nl,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),xs(cl,this)&&(clearTimeout(xs(cl,this)),bs(cl,this,null)),vs(gl,this,Pl).call(this),this.removeEditToolbar(),xs(ul,this)){for(const e of xs(ul,this).values())clearTimeout(e);bs(ul,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(vs(gl,this,bl).call(this),xs(el,this).classList.remove("hidden"),sr(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),bs(tl,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=xs(el,this).children;if(!xs(Qo,this)){bs(Qo,this,Array.from(t));const e=vs(gl,this,jl).bind(this),n=vs(gl,this,Tl).bind(this),s=this._uiManager._signal;for(const t of xs(Qo,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:s}),t.addEventListener("blur",n,{signal:s}),t.addEventListener("focus",vs(gl,this,El).bind(this,i),{signal:s}),t.setAttribute("data-l10n-id",fl._l10nResizer[i])}}const n=xs(Qo,this)[0];let s=0;for(const a of t){if(a===n)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(xs(Qo,this).length/4);if(i!==s){if(i<s)for(let t=0;t<s-i;t++)xs(el,this).append(xs(el,this).firstChild);else if(i>s)for(let t=0;t<i-s;t++)xs(el,this).firstChild.before(xs(el,this).lastChild);let e=0;for(const n of t){const t=xs(Qo,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",fl._l10nResizer[t])}}vs(gl,this,Nl).call(this,0),bs(ll,this,!0),xs(el,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){xs(ll,this)&&vs(gl,this,Sl).call(this,xs(sl,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){vs(gl,this,Pl).call(this),this.div.focus()}select(){var e,t,n;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=xs(Jo,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())})}unselect(){var e,t,n,s,i;null===(e=xs(el,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(s=this._editToolbar)||void 0===s||s.hide(),null===(i=xs(Jo,this))||void 0===i||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return xs(rl,this)}set isEditing(e){bs(rl,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){bs($o,this,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){xs(ul,this)||bs(ul,this,new Map);const{action:t}=e;let n=xs(ul,this).get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),xs(ul,this).delete(t),0===xs(ul,this).size&&bs(ul,this,null)},fl._telemetryTimeout),void xs(ul,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),bs(Zo,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),bs(Zo,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function vl(e,t,n){let[s,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/s,this.y+=n/i,this.fixAndSetPosition()}function yl(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function xl(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function bl(){if(xs(el,this))return;bs(el,this,document.createElement("div")),xs(el,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");xs(el,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",vs(gl,this,wl).bind(this,n),{signal:t}),e.addEventListener("contextmenu",Ca,{signal:t}),e.tabIndex=-1}this.div.prepend(xs(el,this))}function wl(e,t){var n;t.preventDefault();const{isMac:s}=Qi.platform;if(0!==t.button||t.ctrlKey&&s)return;null===(n=xs(Jo,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",vs(gl,this,Sl).bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Ca,{signal:r});const o=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null===(e=xs(Jo,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=u,vs(gl,this,_l).call(this,o,l,c,d)};window.addEventListener("pointerup",p,{signal:r}),window.addEventListener("blur",p,{signal:r})}function _l(e,t,n,s){const i=this.x,a=this.y,r=this.width,o=this.height;i===e&&a===t&&r===n&&o===s||this.addCommands({cmd:()=>{this.width=r,this.height=o,this.x=i,this.y=a;const[e,t]=this.parentDimensions;this.setDims(e*r,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*n,a*s),this.fixAndSetPosition()},mustExec:!0})}function Sl(e,t){const[n,s]=this.parentDimensions,i=this.x,a=this.y,r=this.width,o=this.height,l=ks.MIN_SIZE/n,c=ks.MIN_SIZE/s,d=e=>Math.round(1e4*e)/1e4,h=vs(gl,this,xl).call(this,this.rotation),u=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],p=vs(gl,this,xl).call(this,360-this.rotation);let m,g,f=!1,v=!1;switch(e){case"topLeft":f=!0,m=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":f=!0,m=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,m=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":f=!0,m=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":f=!0,m=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,m=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const y=m(r,o),x=g(r,o);let b=u(...x);const w=d(i+b[0]),_=d(a+b[1]);let S=1,k=1,[C,A]=this.screenToPageTranslation(t.movementX,t.movementY);if([C,A]=((e,t)=>[p[0]*e+p[2]*t,p[1]*e+p[3]*t])(C/n,A/s),f){const e=Math.hypot(r,o);S=k=Math.max(Math.min(Math.hypot(x[0]-y[0]-C,x[1]-y[1]-A)/e,1/r,1/o),l/r,c/o)}else v?S=Math.max(l,Math.min(1,Math.abs(x[0]-y[0]-C)))/r:k=Math.max(c,Math.min(1,Math.abs(x[1]-y[1]-A)))/o;const j=d(r*S),T=d(o*k);b=u(...g(j,T));const E=w-b[0],N=_-b[1];this.width=j,this.height=T,this.x=E,this.y=N,this.setDims(n*j,s*T),this.fixAndSetPosition()}function kl(e){const{isMac:t}=Qi.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Cl(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),bs(dl,this,e.clientX),bs(hl,this,e.clientY);const t=e=>{const{clientX:t,clientY:n}=e,[s,i]=this.screenToPageTranslation(t-xs(dl,this),n-xs(hl,this));bs(dl,this,t),bs(hl,this,n),this._uiManager.dragSelectedEditors(s,i)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:s})}const i=()=>{n.abort(),t&&this.div.classList.remove("moving"),bs(il,this,!1),this._uiManager.endDragSession()||vs(gl,this,kl).call(this,e)};window.addEventListener("pointerup",i,{signal:s}),window.addEventListener("blur",i,{signal:s})}function Al(){if(xs(nl,this)||!this.div)return;bs(nl,this,new AbortController);const e=this._uiManager.combinedSignal(xs(nl,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function jl(e){ks._resizerKeyboardManager.exec(this,e)}function Tl(e){var t;xs(ll,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==xs(el,this)&&vs(gl,this,Pl).call(this)}function El(e){bs(sl,this,xs(ll,this)?e:"")}function Nl(e){if(xs(Qo,this))for(const t of xs(Qo,this))t.tabIndex=e}function Pl(){if(bs(ll,this,!1),vs(gl,this,Nl).call(this,-1),xs(tl,this)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=xs(tl,this);vs(gl,this,_l).call(this,e,t,n,s),bs(tl,this,null)}}ks=fl,l(fl,"_l10n",null),l(fl,"_l10nResizer",null),l(fl,"_borderLineWidth",-1),l(fl,"_colorManager",new br),l(fl,"_zIndex",1),l(fl,"_telemetryTimeout",1e3);class Ml extends fl{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ol=3285377520,Dl=4294901760,Ll=65535;class Rl{constructor(e){this.h1=e?4294967295&e:Ol,this.h2=e?4294967295&e:Ol}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let s=0,i=e.length;s<i;s++){const i=e.charCodeAt(s);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const s=n>>2,i=n-4*s,a=new Uint32Array(t.buffer,0,s);let r=0,o=0,l=this.h1,c=this.h2;const d=3432918353,h=461845907,u=11601,p=13715;for(let m=0;m<s;m++)1&m?(r=a[m],r=r*d&Dl|r*u&Ll,r=r<<15|r>>>17,r=r*h&Dl|r*p&Ll,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[m],o=o*d&Dl|o*u&Ll,o=o<<15|o>>>17,o=o*h&Dl|o*p&Ll,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(r=0,i){case 3:r^=t[4*s+2]<<16;case 2:r^=t[4*s+1]<<8;case 1:r^=t[4*s],r=r*d&Dl|r*u&Ll,r=r<<15|r>>>17,r=r*h&Dl|r*p&Ll,1&s?l^=r:c^=r}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Dl|36045*e&Ll,t=4283543511*t&Dl|(2950163797*(t<<16|e>>>16)&Dl)>>>16,e^=t>>>1,e=444984403*e&Dl|60499*e&Ll,t=3301882366*t&Dl|(3120437893*(t<<16|e>>>16)&Dl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Fl=Object.freeze({map:null,hash:"",transfer:void 0});var Il=new WeakMap,Bl=new WeakMap,Wl=new WeakMap,Ul=new WeakSet;class zl{constructor(){gs(this,Ul),fs(this,Il,!1),fs(this,Bl,null),fs(this,Wl,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=xs(Wl,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return xs(Wl,this).get(e)}remove(e){if(xs(Wl,this).delete(e),0===xs(Wl,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of xs(Wl,this).values())if(e instanceof fl)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=xs(Wl,this).get(e);let s=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(s=!0,n[i]=a);else s=!0,xs(Wl,this).set(e,t);s&&vs(Ul,this,Gl).call(this),t instanceof fl&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return xs(Wl,this).has(e)}getAll(){return xs(Wl,this).size>0?Xi(xs(Wl,this)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return xs(Wl,this).size}resetModified(){xs(Il,this)&&(bs(Il,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Yl(this)}get serializable(){if(0===xs(Wl,this).size)return Fl;const e=new Map,t=new Rl,n=[],s=Object.create(null);let i=!1;for(const[a,r]of xs(Wl,this)){const n=r instanceof fl?r.serialize(!1,s):r;n&&(e.set(a,n),t.update("".concat(a,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Fl}get editorStats(){let e=null;const t=new Map;for(const i of xs(Wl,this).values()){var n;if(!(i instanceof fl))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=(n=e)[r]||(n[r]=new Map);for(const[e,t]of Object.entries(a)){var s;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=null!==(s=n.get(t))&&void 0!==s?s:0;n.set(t,i+1)}}for(const[i,a]of t)e[i]=a.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){bs(Bl,this,null)}get modifiedIds(){if(xs(Bl,this))return xs(Bl,this);const e=[];for(const t of xs(Wl,this).values())t instanceof fl&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return bs(Bl,this,{ids:new Set(e),hash:e.join(",")})}}function Gl(){xs(Il,this)||(bs(Il,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Hl=new WeakMap;class Yl extends zl{constructor(e){super(),fs(this,Hl,void 0);const{map:t,hash:n,transfer:s}=e.serializable,i=structuredClone(t,s?{transfer:s}:null);bs(Hl,this,{map:i,hash:n,transfer:s})}get print(){Li("Should not call PrintAnnotationStorage.print")}get serializable(){return xs(Hl,this)}get modifiedIds(){return Ii(this,"modifiedIds",{ids:new Set,hash:""})}}var Vl=new WeakMap;class ql{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;fs(this,Vl,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),xs(Vl,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!xs(Vl,this).has(t.loadedName)){if(Ri(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:a}=t,r=new FontFace(e,i,a);this.addNativeFontFace(r);try{await r.load(),xs(Vl,this).add(e),null===n||void 0===n||n(t)}catch(s){Di("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(r)}return}Li("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw Di("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return Ii(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){var e;let t=!1;return(Ls||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ii(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(Ri(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Ii(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,s){return e.substring(0,t)+s+e.substring(t+n)}let i,a;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=s(d,976,c.length,c);const h=1482184792;let u=n(d,16);for(i=0,a=c.length-3;i<a;i+=4)u=u-h+n(c,i)|0;var p;i<c.length&&(u=u-h+n(c+"XXX",i)|0),d=s(d,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const m="url(data:font/opentype;base64,".concat(btoa(d),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(m,"}");this.insertRule(g);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,f.append(e)}this._document.body.append(f),function e(t,n){if(++l>30)return Di("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,()=>{f.remove(),t.complete()})}}class Kl{constructor(e,t){let{disableFontFace:n=!1,inspectFont:s=null}=t;this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=!0===n,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat((n=this.data,Uint8Array.prototype.toBase64?n.toBase64():btoa(qi(n))),");");var n;let s;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),s='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else s='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),s}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){Di('getPathGenerator - ignoring character: "'.concat(i,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const s=[];for(let a=0,r=n.length;a<r;)switch(n[a++]){case aa:{const[e,t,i,r,o,l]=n.slice(a,a+6);s.push(n=>n.bezierCurveTo(e,t,i,r,o,l)),a+=6}break;case ra:{const[e,t]=n.slice(a,a+2);s.push(n=>n.moveTo(e,t)),a+=2}break;case oa:{const[e,t]=n.slice(a,a+2);s.push(n=>n.lineTo(e,t)),a+=2}break;case la:{const[e,t,i,r]=n.slice(a,a+4);s.push(n=>n.quadraticCurveTo(e,t,i,r)),a+=4}break;case ca:s.push(e=>e.restore());break;case da:s.push(e=>e.save());break;case ha:Ri(2===s.length,"Scale command is only valid at the third position.");break;case ua:{const[e,t,i,r,o,l]=n.slice(a,a+6);s.push(n=>n.transform(e,t,i,r,o,l)),a+=6}break;case pa:{const[e,t]=n.slice(a,a+2);s.push(n=>n.translate(e,t)),a+=2}}return this.compiledGlyphs[t]=function(e,t){s[0](e),s[1](e),e.scale(t,-t);for(let n=2,i=s.length;n<i;n++)s[n](e)}}}var Xl=new WeakMap;class Ql{constructor(e){let{enableHWA:t=!1}=e;fs(this,Xl,!1),bs(Xl,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!xs(Xl,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Li("Abstract method `_createCanvas` called.")}}class Jl{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(e){Li("Abstract method `_fetch` called.")}}class Zl extends Jl{async _fetch(e){const t=await fa(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ki(t)}}class $l{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,i){return"none"}destroy(){}}var ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,sc=new WeakMap,ic=new WeakMap,ac=new WeakMap,rc=new WeakMap,oc=new WeakSet;function lc(e){return xs(tc,e)||bs(tc,e,new Map)}function cc(e){return xs(ac,e)||bs(ac,e,new Map)}function dc(e){if(!xs(nc,e)){const t=xs(ic,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=xs(ic,e).createElementNS(ma,"svg");s.setAttribute("width",0),s.setAttribute("height",0),bs(nc,e,xs(ic,e).createElementNS(ma,"defs")),t.append(s),s.append(xs(nc,e)),xs(ic,e).body.append(t)}return xs(nc,e)}function hc(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const s=n.join(",");return[s,s,s]}const[t,n,s]=e,i=new Array(256),a=new Array(256),r=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,a[o]=n[o]/255,r[o]=s[o]/255;return[i.join(","),a.join(","),r.join(",")]}function uc(e){if(void 0===xs(ec,this)){bs(ec,this,"");const e=xs(ic,this).URL;e!==xs(ic,this).baseURI&&(xa(e)?Di('#createUrl: ignore "data:"-URL for performance reasons.'):bs(ec,this,e.split("#",1)[0]))}return"url(".concat(xs(ec,this),"#").concat(e,")")}function pc(e){const t=xs(ic,this).createElementNS(ma,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function mc(e){const t=xs(ic,this).createElementNS(ma,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function gc(e){const t=xs(ic,this).createElementNS(ma,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),ys(oc,this,dc).append(t),t}function fc(e,t,n){const s=xs(ic,this).createElementNS(ma,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),e.append(s)}function vc(e,t,n,s){const i=xs(ic,this).createElementNS(ma,"feComponentTransfer");s.append(i),vs(oc,this,fc).call(this,i,"feFuncR",e),vs(oc,this,fc).call(this,i,"feFuncG",t),vs(oc,this,fc).call(this,i,"feFuncB",n)}function yc(e,t){const n=xs(ic,this).createElementNS(ma,"feComponentTransfer");t.append(n),vs(oc,this,fc).call(this,n,"feFuncA",e)}function xc(e){return ys(oc,this,dc).style.color=e,Na(getComputedStyle(ys(oc,this,dc)).getPropertyValue("color"))}class bc{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(e){Li("Abstract method `_fetch` called.")}}class wc extends bc{async _fetch(e){const t=await fa(e,"arraybuffer");return new Uint8Array(t)}}if(Ls){var _c=Promise.withResolvers(),Sc=null;const e=async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),s=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:undefined,path2d:undefined}))};e().then(e=>{Sc=e,_c.resolve()},e=>{Di("loadPackages: ".concat(e)),Sc=new Map,_c.resolve()})}class kc{static get promise(){return _c.promise}static get(e){var t;return null===(t=Sc)||void 0===t?void 0:t.get(e)}}async function Cc(e){const t=kc.get("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}const Ac="Fill",jc="Stroke",Tc="Shading";function Ec(e,t){if(!t)return;const n=t[2]-t[0],s=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,s),e.clip(i)}class Nc{getPattern(){Li("Abstract method `getPattern` called.")}}class Pc extends Nc{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let i;if(s===jc||s===Ac){const a=t.current.getClippedPathBoundingBox(s,Pa(e))||[0,0,0,0],r=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",r,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Zi.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Ec(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);i.setTransform(d)}else Ec(e,this._bbox),i=this._createGradient(e);return i}}function Mc(e,t,n,s,i,a,r,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[n+1]>l[s+1]&&(u=n,n=s,s=u,u=a,a=r,r=u),l[s+1]>l[i+1]&&(u=s,s=i,i=u,u=r,r=o,o=u),l[n+1]>l[s+1]&&(u=n,n=s,s=u,u=a,a=r,r=u);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,g=(l[s]+t.offsetX)*t.scaleX,f=(l[s+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(m>=y)return;const x=c[a],b=c[a+1],w=c[a+2],_=c[r],S=c[r+1],k=c[r+2],C=c[o],A=c[o+1],j=c[o+2],T=Math.round(m),E=Math.round(y);let N,P,M,O,D,L,R,F;for(let I=T;I<=E;I++){if(I<f){const e=I<m?0:(m-I)/(m-f);N=p-(p-g)*e,P=x-(x-_)*e,M=b-(b-S)*e,O=w-(w-k)*e}else{let e;e=I>y?1:f===y?0:(f-I)/(f-y),N=g-(g-v)*e,P=_-(_-C)*e,M=S-(S-A)*e,O=k-(k-j)*e}let e;e=I<m?0:I>y?1:(m-I)/(m-y),D=p-(p-v)*e,L=x-(x-C)*e,R=b-(b-A)*e,F=w-(w-j)*e;const t=Math.round(Math.min(N,D)),n=Math.round(Math.max(N,D));let s=h*I+4*t;for(let i=t;i<=n;i++)e=(N-i)/(N-D),e<0?e=0:e>1&&(e=1),d[s++]=P-(P-L)*e|0,d[s++]=M-(M-R)*e|0,d[s++]=O-(O-F)*e|0,d[s++]=255}}function Oc(e,t,n){const s=t.coords,i=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(s.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)Mc(e,n,s[t],s[t+1],s[t+o],i[t],i[t+1],i[t+o]),Mc(e,n,s[t+o+1],s[t+1],s[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,r=s.length;a<r;a+=3)Mc(e,n,s[a],s[a+1],s[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class Dc extends Nc{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const s=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-s,r=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(r*e[1]*1.1)),3e3),c=a/o,d=r/l,h={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-i,scaleX:1/c,scaleY:1/d},u=o+4,p=l+4,m=n.getCanvas("mesh",u,p),g=m.context,f=g.createImageData(o,l);if(t){const e=f.data;for(let n=0,s=e.length;n<s;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)Oc(f,v,h);g.putImageData(f,2,2);return{canvas:m.canvas,offsetX:s-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,s){let i;if(Ec(e,this._bbox),s===Tc)i=Zi.singularValueDecompose2dScale(Pa(e));else if(i=Zi.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Zi.singularValueDecompose2dScale(this.matrix);i=[i[0]*e[0],i[1]*e[1]]}const a=this._createMeshCanvas(i,s===Tc?null:this._background,t.cachedCanvases);return s!==Tc&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Lc extends Nc{getPattern(){return"hotpink"}}const Rc=1,Fc=2;class Ic{constructor(e,t,n,s,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:i,color:a,canvasGraphicsFactory:r}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),Oi("TilingType: "+i);const c=t[0],d=t[1],h=t[2],u=t[3],p=h-c,m=u-d,g=Zi.singularValueDecompose2dScale(this.matrix),f=Zi.singularValueDecompose2dScale(this.baseTransform),v=g[0]*f[0],y=g[1]*f[1];let x=p,b=m,w=!1,_=!1;const S=Math.ceil(o*v),k=Math.ceil(l*y);S>=Math.ceil(p*v)?x=o:w=!0,k>=Math.ceil(m*y)?b=l:_=!0;const C=this.getSizeAndScale(x,this.ctx.canvas.width,v),A=this.getSizeAndScale(b,this.ctx.canvas.height,y),j=e.cachedCanvases.getCanvas("pattern",C.size,A.size),T=j.context,E=r.createCanvasGraphics(T);if(E.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(E,s,a),T.translate(-C.scale*c,-A.scale*d),E.transform(C.scale,0,0,A.scale,0,0),T.save(),this.clipBbox(E,c,d,h,u),E.baseTransform=Pa(E.ctx),E.executeOperatorList(n),E.endDrawing(),T.restore(),w||_){const t=j.canvas;w&&(x=o),_&&(b=l);const n=this.getSizeAndScale(x,this.ctx.canvas.width,v),s=this.getSizeAndScale(b,this.ctx.canvas.height,y),i=n.size,a=s.size,r=e.cachedCanvases.getCanvas("pattern-workaround",i,a),h=r.context,u=w?Math.floor(p/o):0,g=_?Math.floor(m/l):0;for(let e=0;e<=u;e++)for(let n=0;n<=g;n++)h.drawImage(t,i*e,a*n,i,a,0,0,i,a);return{canvas:r.canvas,scaleX:n.scale,scaleY:s.scale,offsetX:c,offsetY:d}}return{canvas:j.canvas,scaleX:C.scale,scaleY:A.scale,offsetX:c,offsetY:d}}getSizeAndScale(e,t,n){const s=Math.max(Ic.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=s?i=s:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,s,i){const a=s-t,r=i-n;e.ctx.rect(t,n,a,r),e.current.updateRectMinMax(Pa(e.ctx),[t,n,s,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,i=e.current;switch(t){case Rc:const e=this.ctx;s.fillStyle=e.fillStyle,s.strokeStyle=e.strokeStyle,i.fillColor=e.fillStyle,i.strokeColor=e.strokeStyle;break;case Fc:const a=Zi.makeHexColor(n[0],n[1],n[2]);s.fillStyle=a,s.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new Yi("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,s){let i=n;s!==Tc&&(i=Zi.transform(i,t.baseTransform),this.matrix&&(i=Zi.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let r=new DOMMatrix(i);r=r.translate(a.offsetX,a.offsetY),r=r.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(r),o}}function Bc(e){let{src:t,srcPos:n=0,dest:s,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}=e;const l=Qi.isLittleEndian?4278190080:255,[c,d]=o?[r,l]:[l,r],h=i>>3,u=7&i,p=t.length;s=new Uint32Array(s.buffer);let m=0;for(let g=0;g<a;g++){for(const i=n+h;n<i;n++){const e=n<p?t[n]:255;s[m++]=128&e?d:c,s[m++]=64&e?d:c,s[m++]=32&e?d:c,s[m++]=16&e?d:c,s[m++]=8&e?d:c,s[m++]=4&e?d:c,s[m++]=2&e?d:c,s[m++]=1&e?d:c}if(0===u)continue;const e=n<p?t[n++]:255;for(let t=0;t<u;t++)s[m++]=e&1<<7-t?d:c}return{srcPos:n,destPos:m}}l(Ic,"MAX_PATTERN_SIZE",3e3);const Wc=16;class Uc{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return void 0!==this.cache[e]?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function zc(e,t,n,s,i,a,r,o,l,c){const[d,h,u,p,m,g]=Pa(e);if(0===h&&0===u){const f=r*d+m,v=Math.round(f),y=o*p+g,x=Math.round(y),b=(r+l)*d+m,w=Math.abs(Math.round(b)-v)||1,_=(o+c)*p+g,S=Math.abs(Math.round(_)-x)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,x),e.drawImage(t,n,s,i,a,0,0,w,S),e.setTransform(d,h,u,p,m,g),[w,S]}if(0===d&&0===p){const f=o*u+m,v=Math.round(f),y=r*h+g,x=Math.round(y),b=(o+c)*u+m,w=Math.abs(Math.round(b)-v)||1,_=(r+l)*h+g,S=Math.abs(Math.round(_)-x)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,v,x),e.drawImage(t,n,s,i,a,0,0,S,w),e.setTransform(d,h,u,p,m,g),[S,w]}e.drawImage(t,n,s,i,a,r,o,l,c);return[Math.hypot(d,h)*l,Math.hypot(u,p)*c]}class Gc{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Rs,this.textMatrixScale=1,this.fontMatrix=Fs,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Js,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Zi.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Zi.applyTransform(t,e),s=Zi.applyTransform(t.slice(2),e),i=Zi.applyTransform([t[0],t[3]],e),a=Zi.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],i[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],i[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],i[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],i[1],a[1])}updateScalingPathMinMax(e,t){Zi.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,i,a,r,o,l,c){const d=Zi.bezierBoundingBox(t,n,s,i,a,r,o,l,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===jc){t||Li("Stroke bounding box must include transform.");const e=Zi.singularValueDecompose2dScale(t),s=e[0]*this.lineWidth/2,i=e[1]*this.lineWidth/2;n[0]-=s,n[1]-=i,n[2]+=s,n[3]+=i}return n}updateClipFromPath(){const e=Zi.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Zi.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Hc(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,s=t.width,i=n%Wc,a=(n-i)/Wc,r=0===i?a:a+1,o=e.createImageData(s,Wc);let l,c=0;const d=t.data,h=o.data;let u,p,m,g;if(t.kind===si.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,f=s+7>>3,v=4294967295,y=Qi.isLittleEndian?4278190080:255;for(u=0;u<r;u++){for(m=u<a?Wc:i,l=0,p=0;p<m;p++){const e=t-c;let i=0;const a=e>f?s:8*e-7,r=-8&a;let o=0,h=0;for(;i<r;i+=8)h=d[c++],n[l++]=128&h?v:y,n[l++]=64&h?v:y,n[l++]=32&h?v:y,n[l++]=16&h?v:y,n[l++]=8&h?v:y,n[l++]=4&h?v:y,n[l++]=2&h?v:y,n[l++]=1&h?v:y;for(;i<a;i++)0===o&&(h=d[c++],o=128),n[l++]=h&o?v:y,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,u*Wc)}}else if(t.kind===si.RGBA_32BPP){for(p=0,g=s*Wc*4,u=0;u<a;u++)h.set(d.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=Wc;u<r&&(g=s*i*4,h.set(d.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==si.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=Wc,g=s*m,u=0;u<r;u++){for(u>=a&&(m=i,g=s*m),l=0,p=g;p--;)h[l++]=d[c++],h[l++]=d[c++],h[l++]=d[c++],h[l++]=255;e.putImageData(o,0,u*Wc)}}}function Yc(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,s=t.width,i=n%Wc,a=(n-i)/Wc,r=0===i?a:a+1,o=e.createImageData(s,Wc);let l=0;const c=t.data,d=o.data;for(let h=0;h<r;h++){const t=h<a?Wc:i;({srcPos:l}=Bc({src:c,srcPos:l,dest:d,width:s,height:t,nonBlackColor:0})),e.putImageData(o,0,h*Wc)}}function Vc(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of n)void 0!==e[s]&&(t[s]=e[s]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function qc(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!Ls){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function Kc(e,t){if(t)return!0;const n=Zi.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*ga.PDF_TO_CSS_UNITS);return n[0]<=s&&n[1]<=s}const Xc=["butt","round","square"],Qc=["miter","round","bevel"],Jc={},Zc={};var $c=new WeakSet;class ed{constructor(e,t,n,s,i,a,r,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;gs(this,$c),this.ctx=e,this.current=new Gc(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Uc(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:s=!1,background:i=null}=e;const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,s){const e=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Pa(this.compositeCtx))}this.ctx.save(),qc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Pa(this.ctx)}executeOperatorList(e,t,n,s){const i=e.argsArray,a=e.fnArray;let r=t||0;const o=i.length;if(o===r)return r;const l=o-r>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const h=this.commonObjs,u=this.objs;let p;for(;;){if(void 0!==s&&r===s.nextBreakPoint)return s.breakIt(r,n),r;if(p=a[r],p!==Ti.dependency)this[p].apply(this,i[r]);else for(const e of i[r]){const t=e.startsWith("g_")?h:u;if(!t.has(e))return t.get(e,n),r}if(r++,r===o)return r;if(l&&++d>10){if(Date.now()>c)return n(),r;d=0}}}endDrawing(){vs($c,this,td).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),vs($c,this,nd).call(this)}_scaleImage(e,t){var n,s;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,a=null!==(s=e.height)&&void 0!==s?s:e.displayHeight;let r,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=i,h=a,u="prescale1";for(;l>2&&d>1||c>2&&h>1;){let t=d,n=h;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),r=this.cachedCanvases.getCanvas(u,t,n),o=r.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,d,h,0,0,t,n),e=r.canvas,d=t,h=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,i=this.current.fillColor,a=this.current.patternFill,r=Pa(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?r:[r.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(r[0],r[2])+r[4]),offsetY:Math.round(Math.min(r[1],r[3])+r[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,s),Yc(d.context,e));let h=Zi.transform(r,[1/n,0,0,-1/s,0,0]);h=Zi.transform(h,[1,0,0,1,0,-s]);const[u,p,m,g]=Zi.getAxialAlignedBoundingBox([0,0,n,s],h),f=Math.round(m-u)||1,v=Math.round(g-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",f,v),x=y.context,b=u,w=p;x.translate(-b,-w),x.transform(...h),c||(c=this._scaleImage(d.canvas,Ma(x)),c=c.img,o&&a&&o.set(l,c)),x.imageSmoothingEnabled=Kc(Pa(x),e.interpolate),zc(x,c,0,0,c.width,c.height,0,0,n,s),x.globalCompositeOperation="source-in";const _=Zi.transform(Ma(x),[1,0,0,1,-b,-w]);return x.fillStyle=a?i.getPattern(t,this,_,Ac):i,x.fillRect(0,0,n,s),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(b),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Xc[e]}setLineJoin(e){this.ctx.lineJoin=Qc[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...Pa(this.suspendedCtx)),Vc(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,s,i,a,r){t.transform(e,n,s,i,a,r),this.__originalTransform(e,n,s,i,a,r)},e.setTransform=function(e,n,s,i,a,r){t.setTransform(e,n,s,i,a,r),this.__originalSetTransform(e,n,s,i,a,r)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,s,i,a,r){t.bezierCurveTo(e,n,s,i,a,r),this.__originalBezierCurveTo(e,n,s,i,a,r)},e.rect=function(e,n,s,i){t.rect(e,n,s,i),this.__originalRect(e,n,s,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const i=s[0],a=s[1],r=s[2]-i,o=s[3]-a;0!==r&&0!==o&&(this.genericComposeSMask(t.context,n,r,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,i,a,r,o,l,c,d){let h=e.canvas,u=o-c,p=l-d;if(a){const t=Zi.makeHexColor(...a);if(u<0||p<0||u+n>h.width||p+s>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,s),i=e.context;i.drawImage(h,-u,-p),i.globalCompositeOperation="destination-atop",i.fillStyle=t,i.fillRect(0,0,n,s),i.globalCompositeOperation="source-over",h=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const i=new Path2D;i.rect(u,p,n,s),e.clip(i),e.globalCompositeOperation="destination-atop",e.fillStyle=t,e.fillRect(u,p,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&r?t.filter=this.filterFactory.addAlphaFilter(r):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(r));const m=new Path2D;m.rect(o,l,n,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,u,p,n,s,o,l,n,s),t.restore()}save(){this.inSMaskMode?(Vc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Vc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,i,a){this.ctx.transform(e,t,n,s,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,i=this.current;let a,r,o=i.x,l=i.y;const c=Pa(s),d=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=d?n.slice(0):null;for(let u=0,p=0,m=e.length;u<m;u++)switch(0|e[u]){case Ti.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],u=o+e,m=l+n;s.moveTo(o,l),0===e||0===n?s.lineTo(u,m):(s.lineTo(u,l),s.lineTo(u,m),s.lineTo(o,m)),d||i.updateRectMinMax(c,[o,l,u,m]),s.closePath();break;case Ti.moveTo:o=t[p++],l=t[p++],s.moveTo(o,l),d||i.updatePathMinMax(c,o,l);break;case Ti.lineTo:o=t[p++],l=t[p++],s.lineTo(o,l),d||i.updatePathMinMax(c,o,l);break;case Ti.curveTo:a=o,r=l,o=t[p+4],l=t[p+5],s.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),i.updateCurvePathMinMax(c,a,r,t[p],t[p+1],t[p+2],t[p+3],o,l,h),p+=6;break;case Ti.curveTo2:a=o,r=l,s.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),i.updateCurvePathMinMax(c,a,r,o,l,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],l=t[p+3],p+=4;break;case Ti.curveTo3:a=o,r=l,o=t[p+2],l=t[p+3],s.bezierCurveTo(t[p],t[p+1],o,l,o,l),i.updateCurvePathMinMax(c,a,r,t[p],t[p+1],o,l,o,l,h),p+=4;break;case Ti.closePath:s.closePath()}d&&i.updateScalingPathMinMax(c,h),i.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,Ma(t),jc),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let s=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,Ma(t),Ac),s=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Jc}eoClip(){this.pendingClip=Zc}beginText(){this.current.textMatrix=Rs,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const s=this.commonObjs.get(e),i=this.current;if(!s)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=s.fontMatrix||Fs,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||Di("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const a=s.loadedName||"sans-serif",r=(null===(n=s.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(s.fallbackName);let o="normal";s.black?o="900":s.bold&&(o="bold");const l=s.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(r)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,i,a){this.current.textMatrix=[e,t,n,s,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const i=this.ctx,a=this.current,r=a.font,o=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=o&ti,d=!!(o&ni),h=a.patternFill&&!r.missingFile;let u;if((r.disableFontFace||d||h)&&(u=r.getPathGenerator(this.commonObjs,e)),r.disableFontFace||h?(i.save(),i.translate(t,n),i.beginPath(),u(i,l),s&&i.setTransform(...s),c!==Js&&c!==$s||i.fill(),c!==Zs&&c!==$s||i.stroke(),i.restore()):(c!==Js&&c!==$s||i.fillText(e,t,n),c!==Zs&&c!==$s||i.strokeText(e,t,n)),d){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pa(i),x:t,y:n,fontSize:l,addToPath:u})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return Ii(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(0===s)return;const i=this.ctx,a=t.fontSizeScale,r=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,h=n.vertical,u=h?1:-1,p=n.defaultVMetrics,m=s*t.fontMatrix[0],g=t.textRenderingMode===Js&&!n.disableFontFace&&!t.patternFill;let f;if(i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,Ma(i),Ac);f=Pa(i),i.restore(),i.fillStyle=e}let v=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===v){const e=t.textRenderingMode&ti;e!==Zs&&e!==$s||(v=this.getSinglePixelWidth())}else v/=y;if(1!==a&&(i.scale(a,a),v/=a),i.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let s=0;for(const t of e)n.push(t.unicode),s+=t.width;return i.fillText(n.join(""),0,0),t.x+=s*m*c,i.restore(),void this.compose()}let x,b=0;for(x=0;x<d;++x){const t=e[x];if("number"===typeof t){b+=u*t*s/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+r,v=t.fontChar,y=t.accent;let w,_,S=t.width;if(h){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*S)*m,s=e[2]*m;S=e?-e[0]:S,w=n/a,_=(b+s)/a}else w=b/a,_=0;if(n.remeasure&&S>0){const e=1e3*i.measureText(v).width/s*a;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;c=!0,i.save(),i.scale(t,1),w/=t}else S!==e&&(w+=(S-e)/2e3*s/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!y)i.fillText(v,w,_);else if(this.paintChar(v,w,_,f),y){const e=w+s*y.offset.x/a,t=_-s*y.offset.y/a;this.paintChar(y.fontChar,e,t,f)}b+=h?S*m-d*l:S*m+d*l,c&&i.restore()}h?t.y-=b:t.x+=b*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,i=n.fontSize,a=n.fontDirection,r=s.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,d=n.fontMatrix||Fs,h=e.length;let u,p,m,g;if(!(n.textRenderingMode===ei)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),u=0;u<h;++u){if(p=e[u],"number"===typeof p){g=r*p*i/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const a=(p.isSpace?l:0)+o,h=s.charProcOperatorList[p.operatorListId];if(!h){Di('Type3 character "'.concat(p.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(i,i),t.transform(...d),this.executeOperatorList(h),this.restore());m=Zi.applyTransform([p.width,0],d)[0]*i+a,t.translate(m,0),n.x+=m*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,i,a){this.ctx.rect(n,s,i-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],s=this.baseTransform||Pa(this.ctx),i={createCanvasGraphics:e=>new ed(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Ic(e,n,this.ctx,i,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Zi.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Zi.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Pc(e);case"Mesh":return new Dc(e);case"Dummy":return new Lc}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Ma(t),Tc);const s=Ma(t);if(s){const{width:e,height:n}=t.canvas,[i,a,r,o]=Zi.getAxialAlignedBoundingBox([0,0,e,n],s);this.ctx.fillRect(i,a,r-i,o-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Li("Should not call beginInlineImage")}beginImageData(){Li("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Pa(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(Pa(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Oi("TODO: Support non-isolated groups."),e.knockout&&Di("Knockout groups not supported.");const n=Pa(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Zi.getAxialAlignedBoundingBox(e.bbox,Pa(t));const i=[0,0,t.canvas.width,t.canvas.height];s=Zi.intersect(s,i)||[0,0,0,0];const a=Math.floor(s[0]),r=Math.floor(s[1]),o=Math.max(Math.ceil(s[2])-a,1),l=Math.max(Math.ceil(s[3])-r,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),h=d.context;h.translate(-a,-r),h.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:a,offsetY:r,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,r),t.save()),Vc(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=Pa(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Zi.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,i){if(vs($c,this,td).call(this),qc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const s=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=a;const[i,r]=Zi.singularValueDecompose2dScale(Pa(this.ctx)),{viewportScale:o}=this,l=Math.ceil(s*this.outputScaleX*o),c=Math.ceil(a*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:d,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(i,0,0,-r,0,a*r),qc(this.ctx)}else qc(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],s,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new Gc(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),vs($c,this,nd).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,s=this.processingType3;if(s&&(void 0===s.compiled&&(s.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let a,r,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),h=0;for(const g of e.data){let e=128;for(;e>0;)d[h++]=g&e?0:255,e>>=1}let u=0;for(h=0,0!==d[h]&&(l[0]=1,++u),r=1;r<t;r++)d[h]!==d[h+1]&&(l[r]=d[h]?2:1,++u),h++;for(0!==d[h]&&(l[r]=2,++u),a=1;a<n;a++){h=a*c,o=a*i,d[h-c]!==d[h]&&(l[o]=d[h]?1:8,++u);let e=(d[h]?4:0)+(d[h-c]?8:0);for(r=1;r<t;r++)e=(e>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),s[e]&&(l[o+r]=s[e],++u),h++;if(d[h-c]!==d[h]&&(l[o+r]=d[h]?2:4,++u),u>1e3)return null}for(h=c*(n-1),o=a*i,0!==d[h]&&(l[o]=8,++u),r=1;r<t;r++)d[h]!==d[h+1]&&(l[o+r]=d[h]?4:8,++u),h++;if(0!==d[h]&&(l[o+r]=4,++u),u>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),m=new Path2D;for(a=0;u&&a<=n;a++){let e=a*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;m.moveTo(e%i,a);const s=e;let r=l[e];do{const t=p[r];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(r=n,l[e]=0):(r=n&51*r>>4,l[e]&=r>>2|r<<2),m.lineTo(e%i,e/i|0),l[e]||--u}while(s!==e);--a}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(m),e.beginPath(),e.restore()}}(e)),s.compiled))return void s.compiled(n);const i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const r=this.ctx;r.save();const o=Pa(r);r.transform(t,n,s,i,0,0);const l=this._createMaskCanvas(e);r.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=Zi.transform(o,[t,n,s,i,a[c],a[c+1]]),[d,h]=Zi.applyTransform([0,0],e);r.drawImage(l.canvas,d,h)}r.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:e,width:a,height:r,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",a,r),c=l.context;c.save();Yc(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=s?n.getPattern(c,this,Ma(t),Ac):n,c.fillRect(0,0,a,r),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),zc(t,l.canvas,0,0,a,r,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):Di("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void Di("Dependent image isn't ready yet");const a=i.width,r=i.height,o=[];for(let l=0,c=s.length;l<c;l+=2)o.push({transform:[t,0,0,n,s[l],s[l+1]],x:0,y:0,w:a,h:r});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!Ls){const{filter:e}=s;"none"!==e&&""!==e&&(s.filter="none")}let i;if(s.scale(1/t,-1/n),e.bitmap)i=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{const s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Hc(s,e),i=this.applyTransferMapsToCanvas(s)}const a=this._scaleImage(i,Ma(s));s.imageSmoothingEnabled=Kc(Pa(s),e.interpolate),zc(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Hc(i,e),s=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),zc(n,s,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Zc?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Pa(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:i}=this.ctx.getTransform();let a,r;if(0===n&&0===s){const n=Math.abs(t),s=Math.abs(i);if(n===s)if(0===e)a=r=1/n;else{const t=n*e;a=r=t<1?1/t:1}else if(0===e)a=1/n,r=1/s;else{const t=n*e,i=s*e;a=t<1?1/t:1,r=i<1?1/i:1}}else{const o=Math.abs(t*i-n*s),l=Math.hypot(t,n),c=Math.hypot(s,i);if(0===e)a=c/o,r=l/o;else{const t=e*o;a=c>t?c/t:1,r=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===s&&1===i)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(s,i),a.length>0){const e=Math.max(s,i);t.setLineDash(a.map(t=>t/e)),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function td(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function nd(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(const n in Ti)void 0!==ed.prototype[n]&&(ed.prototype[Ti[n]]=ed.prototype[n]);class sd{static get workerPort(){return vs(sd,this,id)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");id._=vs(sd,this,e)}static get workerSrc(){return vs(sd,this,ad)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");ad._=vs(sd,this,e)}}var id={_:null},ad={_:""};const rd=1,od=2,ld=1,cd=2,dd=3,hd=4,ud=5,pd=6,md=7,gd=8;function fd(e){switch(e instanceof Error||"object"===typeof e&&null!==e||Li('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Vi(e.message);case"MissingPDFException":return new Gi(e.message);case"PasswordException":return new Wi(e.message,e.code);case"UnexpectedResponseException":return new Hi(e.message,e.status);case"UnknownErrorException":return new Ui(e.message,e.details);default:return new Ui(e.message,e.toString())}}var vd=new WeakMap,yd=new WeakSet;class xd{constructor(e,t,n){gs(this,yd),fs(this,vd,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",vs(yd,this,bd).bind(this),{signal:xs(vd,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,s){const i=this.streamId++,a=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:r,action:e,streamId:i,data:t,desiredSize:n.desiredSize},s),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:a,targetName:r,stream:pd,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Ri(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:a,targetName:r,stream:ld,streamId:i,reason:fd(e)}),t.promise}},n)}destroy(){var e;null===(e=xs(vd,this))||void 0===e||e.abort(),bs(vd,this,null)}}function bd(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void vs(yd,this,_d).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===rd)n.resolve(t.data);else{if(t.callback!==od)throw new Error("Unexpected callback case");n.reject(fd(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,s=t.sourceName,i=this.comObj;return void new Promise(function(e){e(n(t.data))}).then(function(n){i.postMessage({sourceName:e,targetName:s,callback:rd,callbackId:t.callbackId,data:n})},function(n){i.postMessage({sourceName:e,targetName:s,callback:od,callbackId:t.callbackId,reason:fd(n)})})}t.streamId?vs(yd,this,wd).call(this,t):n(t.data)}function wd(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,a=this,r=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:s,stream:hd,streamId:t,chunk:e},r)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:dd,streamId:t}),delete a.streamSinks[t])},error(e){Ri(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:ud,streamId:t,reason:fd(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise(function(t){t(r(e.data,o))}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:gd,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:gd,streamId:t,reason:fd(e)})})}function _d(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,a=this.streamControllers[t],r=this.streamSinks[t];switch(e.stream){case gd:e.success?a.startCall.resolve():a.startCall.reject(fd(e.reason));break;case md:e.success?a.pullCall.resolve():a.pullCall.reject(fd(e.reason));break;case pd:if(!r){i.postMessage({sourceName:n,targetName:s,stream:md,streamId:t,success:!0});break}r.desiredSize<=0&&e.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=e.desiredSize,new Promise(function(e){var t;e(null===(t=r.onPull)||void 0===t?void 0:t.call(r))}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:md,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:md,streamId:t,reason:fd(e)})});break;case hd:if(Ri(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case dd:if(Ri(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),vs(yd,this,Sd).call(this,a,t);break;case ud:Ri(a,"error should have stream controller"),a.controller.error(fd(e.reason)),vs(yd,this,Sd).call(this,a,t);break;case cd:e.success?a.cancelCall.resolve():a.cancelCall.reject(fd(e.reason)),vs(yd,this,Sd).call(this,a,t);break;case ld:if(!r)break;new Promise(function(t){var n;t(null===(n=r.onCancel)||void 0===n?void 0:n.call(r,fd(e.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:cd,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:s,stream:cd,streamId:t,reason:fd(e)})}),r.sinkCapability.reject(fd(e.reason)),r.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function Sd(e,t){var n,s,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(s=e.pullCall)||void 0===s?void 0:s.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var kd=new WeakMap,Cd=new WeakMap;class Ad{constructor(e){let{parsedData:t,rawData:n}=e;fs(this,kd,void 0),fs(this,Cd,void 0),bs(kd,this,t),bs(Cd,this,n)}getRaw(){return xs(Cd,this)}get(e){var t;return null!==(t=xs(kd,this).get(e))&&void 0!==t?t:null}getAll(){return Xi(xs(kd,this))}has(e){return xs(kd,this).has(e)}}const jd=Symbol("INTERNAL");var Td=new WeakMap,Ed=new WeakMap,Nd=new WeakMap,Pd=new WeakMap;class Md{constructor(e,t){let{name:n,intent:s,usage:i,rbGroups:a}=t;fs(this,Td,!1),fs(this,Ed,!1),fs(this,Nd,!1),fs(this,Pd,!0),bs(Td,this,!!(e&Ws)),bs(Ed,this,!!(e&Us)),this.name=n,this.intent=s,this.usage=i,this.rbGroups=a}get visible(){if(xs(Nd,this))return xs(Pd,this);if(!xs(Pd,this))return!1;const{print:e,view:t}=this.usage;return xs(Td,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!xs(Ed,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==jd&&Li("Internal method `_setVisible` called."),bs(Nd,this,n),bs(Pd,this,t)}}var Od=new WeakMap,Dd=new WeakMap,Ld=new WeakMap,Rd=new WeakMap,Fd=new WeakSet;class Id{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ws;if(gs(this,Fd),fs(this,Od,null),fs(this,Dd,new Map),fs(this,Ld,null),fs(this,Rd,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,bs(Rd,this,e.order);for(const n of e.groups)xs(Dd,this).set(n.id,new Md(t,n));if("OFF"===e.baseState)for(const e of xs(Dd,this).values())e._setVisible(jd,!1);for(const t of e.on)xs(Dd,this).get(t)._setVisible(jd,!0);for(const t of e.off)xs(Dd,this).get(t)._setVisible(jd,!1);bs(Ld,this,this.getHash())}}isVisible(e){if(0===xs(Dd,this).size)return!0;if(!e)return Oi("Optional content group not defined."),!0;if("OCG"===e.type)return xs(Dd,this).has(e.id)?xs(Dd,this).get(e.id).visible:(Di("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return vs(Fd,this,Bd).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!xs(Dd,this).has(t))return Di("Optional content group not found: ".concat(t)),!0;if(xs(Dd,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!xs(Dd,this).has(t))return Di("Optional content group not found: ".concat(t)),!0;if(!xs(Dd,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!xs(Dd,this).has(t))return Di("Optional content group not found: ".concat(t)),!0;if(!xs(Dd,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!xs(Dd,this).has(t))return Di("Optional content group not found: ".concat(t)),!0;if(xs(Dd,this).get(t).visible)return!1}return!0}return Di("Unknown optional content policy ".concat(e.policy,".")),!0}return Di("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=xs(Dd,this).get(e);if(s){if(n&&t&&s.rbGroups.length)for(const t of s.rbGroups)for(const n of t){var i;if(n!==e)null===(i=xs(Dd,this).get(n))||void 0===i||i._setVisible(jd,!1,!0)}s._setVisible(jd,!!t,!0),bs(Od,this,null)}else Di("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:s}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=xs(Dd,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,s);break;case"OFF":this.setVisibility(i,!1,s);break;case"Toggle":this.setVisibility(i,!e.visible,s)}}bs(Od,this,null)}get hasInitialVisibility(){return null===xs(Ld,this)||this.getHash()===xs(Ld,this)}getOrder(){return xs(Dd,this).size?xs(Rd,this)?xs(Rd,this).slice():[...xs(Dd,this).keys()]:null}getGroups(){return xs(Dd,this).size>0?Xi(xs(Dd,this)):null}getGroup(e){return xs(Dd,this).get(e)||null}getHash(){if(null!==xs(Od,this))return xs(Od,this);const e=new Rl;for(const[t,n]of xs(Dd,this))e.update("".concat(t,":").concat(n.visible));return bs(Od,this,e.hexdigest())}}function Bd(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const t=e[s];let i;if(Array.isArray(t))i=vs(Fd,this,Bd).call(this,t);else{if(!xs(Dd,this).has(t))return Di("Optional content group not found: ".concat(t)),!0;i=xs(Dd,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class Wd{constructor(e,t){let{disableRange:n=!1,disableStream:s=!1}=t;Ri(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:r,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const s=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{Ri(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(s),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,s,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(s=this._fullRequestReader)||void 0===s||null===(i=s.onProgress)||void 0===i||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ri(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ud(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new zd(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Ud{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=ba(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zd{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Gd(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const s in t){const e=t[s];void 0!==e&&n.append(s,e)}return n}function Hd(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:s,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(r))return a;if(a.suggestedLength=r,r<=2*s)return a;if(i||!n)return a;if("bytes"!==t.get("Accept-Ranges"))return a;return"identity"!==(t.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Yd(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=s("filename\\*","i").exec(e);if(n){n=n[1];let e=r(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const i=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,s,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[s,i]}const a=[];for(let s=0;s<t.length&&s in t;++s){let[e,n]=t[s];n=r(n),e&&(n=unescape(n),0===s&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=s("filename","i").exec(e),n){n=n[1];let e=r(n);return e=l(e),a(e)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const s=new TextDecoder(e,{fatal:!0}),i=Ki(n);n=s.decode(i),t=!1}catch(s){}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function r(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,s){if("q"===n||"Q"===n)return i(t,s=(s=s.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{s=atob(s)}catch(a){}return i(t,s)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(ba(e))return e}return null}function Vd(e,t){return 404===e||0===e&&t.startsWith("file:")?new Gi('Missing PDF "'+t+'".'):new Hi("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function qd(e){return 200===e||206===e}function Kd(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Xd(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Di("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class Qd{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Gd(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return Ri(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Jd(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Zd(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Jd{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,Kd(n,this._withCredentials,this._abortController)).then(t=>{if(!qd(t.status))throw Vd(t.status,s);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:a}=Hd({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=Yd(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Xd(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Zd{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const a=s.url;fetch(a,Kd(i,this._withCredentials,this._abortController)).then(e=>{if(!qd(e.status))throw Vd(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:Xd(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class $d{constructor(e){let{url:t,httpHeaders:n,withCredentials:s}=e;this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Gd(this.isHttp,n),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const i in n)s[i]=n[i];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),s.expectedStatus=206):s.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const s=this.pendingRequests[e];s&&(null===(n=s.onProgress)||void 0===n||n.call(s,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==s.readyState)return;if(!(e in this.pendingRequests))return;var i;if(delete this.pendingRequests[e],0===s.status&&this.isHttp)return void(null===(i=n.onError)||void 0===i||i.call(n,s.status));const a=s.status||200;var r;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void(null===(r=n.onError)||void 0===r||r.call(n,s.status));const o=function(e){const t=e.response;return"string"!==typeof t?t:Ki(t).buffer}(s);if(206===a){const e=s.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,s.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class eh{constructor(e){this._source=e,this._manager=new $d(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ri(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new th(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new nh(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class th{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]})),{allowRangeRequests:s,suggestedLength:i}=Hd({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Yd(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Vd(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nh{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Vd(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const sh=/^[a-z][a-z0-9\-+.]+:/i;function ih(e,t,n){if("http:"===e.protocol){return kc.get("http").request(e,{headers:t},n)}return kc.get("https").request(e,{headers:t},n)}class ah{constructor(e){this.source=e,this.url=function(e){if(sh.test(e))return new URL(e);const t=kc.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=Gd(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return Ri(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dh(this):new lh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new hh(this,e,t):new ch(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class rh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class lh extends rh{constructor(e){super(e);const t=Object.fromEntries(e.headers);this._request=ih(this._url,t,t=>{if(404===t.statusCode){const e=new Gi('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=new Headers(this._readableStream.headers),{allowRangeRequests:s,suggestedLength:i}=Hd({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=i||this._contentLength,this._filename=Yd(n)}),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class ch extends oh{constructor(e,t,n){super(e);const s=Object.fromEntries(e.headers);s.Range="bytes=".concat(t,"-").concat(n-1);this._request=ih(this._url,s,e=>{if(404===e.statusCode){const e=new Gi('Missing PDF "'.concat(this._url,'".'));return void(this._storedError=e)}this._setReadableStream(e)}),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class dh extends rh{constructor(e){super(e);const t=kc.get("fs");t.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=new Gi('Missing PDF "'.concat(this._url,'".'))),this._storedError=e,this._headersCapability.reject(e)})}}class hh extends oh{constructor(e,t,n){super(e);const s=kc.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}}const uh=30;var ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,fh=new WeakMap,vh=new WeakMap,yh=new WeakMap,xh=new WeakMap,bh=new WeakMap,wh=new WeakMap,_h=new WeakMap,Sh=new WeakMap,kh=new WeakMap,Ch=new WeakMap,Ah=new WeakMap,jh=new WeakMap,Th=new WeakMap,Eh=new WeakMap,Nh=new WeakMap,Ph=new WeakSet;class Mh{constructor(e){var t;let{textContentSource:n,container:s,viewport:i}=e;if(gs(this,Ph),fs(this,ph,Promise.withResolvers()),fs(this,mh,null),fs(this,gh,!1),fs(this,fh,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),fs(this,vh,null),fs(this,yh,null),fs(this,xh,0),fs(this,bh,0),fs(this,wh,null),fs(this,_h,null),fs(this,Sh,0),fs(this,kh,0),fs(this,Ch,Object.create(null)),fs(this,Ah,[]),fs(this,jh,null),fs(this,Th,[]),fs(this,Eh,new WeakMap),fs(this,Nh,null),n instanceof ReadableStream)bs(jh,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');bs(jh,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}bs(mh,this,bs(_h,this,s)),bs(kh,this,i.scale*(globalThis.devicePixelRatio||1)),bs(Sh,this,i.rotation),bs(yh,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:r,pageX:o,pageY:l}=i.rawDims;bs(Nh,this,[1,0,0,-1,-o,l+r]),bs(bh,this,a),bs(xh,this,r),Ih.call(Mh),Oa(s,i),xs(ph,this).promise.finally(()=>{Hh._.delete(this),bs(yh,this,null),bs(Ch,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Qi.platform;return Ii(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{xs(wh,this).read().then(t=>{var n;let{value:s,done:i}=t;i?xs(ph,this).resolve():(null!==(n=xs(vh,this))&&void 0!==n||bs(vh,this,s.lang),Object.assign(xs(Ch,this),s.styles),vs(Ph,this,Oh).call(this,s.items),e())},xs(ph,this).reject)};return bs(wh,this,xs(jh,this).getReader()),Hh._.add(this),e(),xs(ph,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const s=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==xs(Sh,this)&&(null===n||void 0===n||n(),bs(Sh,this,i),Oa(xs(_h,this),{rotation:i})),s!==xs(kh,this)){null===n||void 0===n||n(),bs(kh,this,s);const e={div:null,properties:null,ctx:Rh.call(Mh,xs(vh,this))};for(const t of xs(Th,this))e.properties=xs(Eh,this).get(t),e.div=t,vs(Ph,this,Lh).call(this,e)}}cancel(){var e;const t=new Vi("TextLayer task cancelled.");null===(e=xs(wh,this))||void 0===e||e.cancel(t).catch(()=>{}),bs(wh,this,null),xs(ph,this).reject(t)}get textDivs(){return xs(Th,this)}get textContentItemsStr(){return xs(Ah,this)}static cleanup(){if(!(vs(Mh,this,Hh)._.size>0)){vs(Mh,this,Wh)._.clear();for(const{canvas:e}of vs(Mh,this,Uh)._.values())e.remove();vs(Mh,this,Uh)._.clear()}}}function Oh(e){var t,n;if(xs(gh,this))return;null!==(n=(t=xs(yh,this)).ctx)&&void 0!==n||(t.ctx=Rh.call(Cs,xs(vh,this)));const s=xs(Th,this),i=xs(Ah,this);for(const a of e){if(s.length>1e5)return Di("Ignoring additional textDivs for performance reasons."),void bs(gh,this,!0);if(void 0!==a.str)i.push(a.str),vs(Ph,this,Dh).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=xs(mh,this);bs(mh,this,document.createElement("span")),xs(mh,this).classList.add("markedContent"),null!==a.id&&xs(mh,this).setAttribute("id","".concat(a.id)),e.append(xs(mh,this))}else"endMarkedContent"===a.type&&bs(mh,this,xs(mh,this).parentNode)}}function Dh(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};xs(Th,this).push(t);const s=Zi.transform(xs(Nh,this),e.transform);let i=Math.atan2(s[1],s[0]);const a=xs(Ch,this)[e.fontName];a.vertical&&(i+=Math.PI/2);let r=xs(fh,this)&&a.fontSubstitution||a.fontFamily;r=Cs.fontFamilyMap.get(r)||r;const o=Math.hypot(s[2],s[3]),l=o*Bh.call(Cs,r,xs(vh,this));let c,d;0===i?(c=s[4],d=s[5]-l):(c=s[4]+l*Math.sin(i),d=s[5]-l*Math.cos(i));const h="calc(var(--scale-factor)*",u=t.style;xs(mh,this)===xs(_h,this)?(u.left="".concat((100*c/xs(bh,this)).toFixed(2),"%"),u.top="".concat((100*d/xs(xh,this)).toFixed(2),"%")):(u.left="".concat(h).concat(c.toFixed(2),"px)"),u.top="".concat(h).concat(d.toFixed(2),"px)")),u.fontSize="".concat(h).concat((Gh._*o).toFixed(2),"px)"),u.fontFamily=r,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,xs(fh,this)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),xs(Eh,this).set(t,n),xs(yh,this).div=t,xs(yh,this).properties=n,vs(Ph,this,Lh).call(this,xs(yh,this)),n.hasText&&xs(mh,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),xs(mh,this).append(e)}}function Lh(e){const{div:t,properties:n,ctx:s}=e,{style:i}=t;let a="";if(Gh._>1&&(a="scale(".concat(1/Gh._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:r,fontSize:o}=n;Fh.call(Cs,s,o*xs(kh,this),e);const{width:l}=s.measureText(t.textContent);l>0&&(a="scaleX(".concat(r*xs(kh,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(i.transform=a)}function Rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=vs(Cs,this,Uh)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),vs(Cs,this,Uh)._.set(e,t),vs(Cs,this,zh)._.set(t,{size:0,family:""})}return t}function Fh(e,t,n){const s=vs(Cs,this,zh)._.get(e);t===s.size&&n===s.family||(e.font="".concat(t,"px ").concat(n),s.size=t,s.family=n)}function Ih(){if(null!==vs(Cs,this,Gh)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Gh._=vs(Cs,this,e.getBoundingClientRect().height),e.remove()}function Bh(e,t){const n=vs(Cs,this,Wh)._.get(e);if(n)return n;const s=vs(Cs,this,Rh).call(this,t);s.canvas.width=s.canvas.height=uh,vs(Cs,this,Fh).call(this,s,uh,e);const i=s.measureText("");let a=i.fontBoundingBoxAscent,r=Math.abs(i.fontBoundingBoxDescent);if(a){const t=a/(a+r);return vs(Cs,this,Wh)._.set(e,t),s.canvas.width=s.canvas.height=0,t}s.strokeStyle="red",s.clearRect(0,0,uh,uh),s.strokeText("g",0,0);let o=s.getImageData(0,0,uh,uh).data;r=0;for(let c=o.length-1-3;c>=0;c-=4)if(o[c]>0){r=Math.ceil(c/4/uh);break}s.clearRect(0,0,uh,uh),s.strokeText("A",0,uh),o=s.getImageData(0,0,uh,uh).data,a=0;for(let c=0,d=o.length;c<d;c+=4)if(o[c]>0){a=uh-Math.floor(c/4/uh);break}s.canvas.width=s.canvas.height=0;const l=a?a/(a+r):.8;return vs(Cs,this,Wh)._.set(e,l),l}Cs=Mh;var Wh={_:new Map},Uh={_:new Map},zh={_:new WeakMap},Gh={_:null},Hh={_:new Set};class Yh{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var s;if(!n)return;let i=null;const a=n.name;if("#text"===a)i=n.value;else{if(!Yh.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(s=n.attributes)&&void 0!==s&&s.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const Vh=65536,qh=Ls?class extends Ql{_createCanvas(e,t){return kc.get("canvas").createCanvas(e,t)}}:class extends Ql{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},Kh=Ls?class extends Jl{async _fetch(e){return Cc(e)}}:Zl,Xh=Ls?class extends $l{}:class extends $l{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),gs(this,oc),fs(this,ec,void 0),fs(this,tc,void 0),fs(this,nc,void 0),fs(this,sc,void 0),fs(this,ic,void 0),fs(this,ac,void 0),fs(this,rc,0),bs(sc,this,t),bs(ic,this,n)}addFilter(e){var t,n;if(!e)return"none";let s=ys(oc,this,lc).get(e);if(s)return s;const[i,a,r]=vs(oc,this,hc).call(this,e),o=1===e.length?i:"".concat(i).concat(a).concat(r);if(s=ys(oc,this,lc).get(o),s)return ys(oc,this,lc).set(e,s),s;const l="g_".concat(xs(sc,this),"_transfer_map_").concat((bs(rc,this,(t=xs(rc,this),n=t++,t)),n)),c=vs(oc,this,uc).call(this,l);ys(oc,this,lc).set(e,c),ys(oc,this,lc).set(o,c);const d=vs(oc,this,gc).call(this,l);return vs(oc,this,vc).call(this,i,a,r,d),c}addHCMFilter(e,t){var n;const s="".concat(e,"-").concat(t),i="base";let a=ys(oc,this,cc).get(i);if((null===(n=a)||void 0===n?void 0:n.key)===s)return a.url;var r;a?(null===(r=a.filter)||void 0===r||r.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},ys(oc,this,cc).set(i,a));if(!e||!t)return a.url;const o=vs(oc,this,xc).call(this,e);e=Zi.makeHexColor(...o);const l=vs(oc,this,xc).call(this,t);if(t=Zi.makeHexColor(...l),ys(oc,this,dc).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const c=new Array(256);for(let m=0;m<=255;m++){const e=m/255;c[m]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),h="g_".concat(xs(sc,this),"_hcm_filter"),u=a.filter=vs(oc,this,gc).call(this,h);vs(oc,this,vc).call(this,d,d,d,u),vs(oc,this,mc).call(this,u);const p=(e,t)=>{const n=o[e]/255,s=l[e]/255,i=new Array(t+1);for(let a=0;a<=t;a++)i[a]=n+a/t*(s-n);return i.join(",")};return vs(oc,this,vc).call(this,p(0,5),p(1,5),p(2,5),u),a.url=vs(oc,this,uc).call(this,h),a.url}addAlphaFilter(e){var t,n;let s=ys(oc,this,lc).get(e);if(s)return s;const[i]=vs(oc,this,hc).call(this,[e]),a="alpha_".concat(i);if(s=ys(oc,this,lc).get(a),s)return ys(oc,this,lc).set(e,s),s;const r="g_".concat(xs(sc,this),"_alpha_map_").concat((bs(rc,this,(t=xs(rc,this),n=t++,t)),n)),o=vs(oc,this,uc).call(this,r);ys(oc,this,lc).set(e,o),ys(oc,this,lc).set(a,o);const l=vs(oc,this,gc).call(this,r);return vs(oc,this,yc).call(this,i,l),o}addLuminosityFilter(e){var t,n;let s,i,a=ys(oc,this,lc).get(e||"luminosity");if(a)return a;if(e?([s]=vs(oc,this,hc).call(this,[e]),i="luminosity_".concat(s)):i="luminosity",a=ys(oc,this,lc).get(i),a)return ys(oc,this,lc).set(e,a),a;const r="g_".concat(xs(sc,this),"_luminosity_map_").concat((bs(rc,this,(t=xs(rc,this),n=t++,t)),n)),o=vs(oc,this,uc).call(this,r);ys(oc,this,lc).set(e,o),ys(oc,this,lc).set(i,o);const l=vs(oc,this,gc).call(this,r);return vs(oc,this,pc).call(this,l),e&&vs(oc,this,yc).call(this,s,l),o}addHighlightHCMFilter(e,t,n,s,i){var a;const r="".concat(t,"-").concat(n,"-").concat(s,"-").concat(i);let o=ys(oc,this,cc).get(e);if((null===(a=o)||void 0===a?void 0:a.key)===r)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},ys(oc,this,cc).set(e,o));if(!t||!n)return o.url;const[c,d]=[t,n].map(vs(oc,this,xc).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,i].map(vs(oc,this,xc).bind(this));u<h&&([h,u,p,m]=[u,h,m,p]),ys(oc,this,dc).style.color="";const g=(e,t,n)=>{const s=new Array(256),i=(u-h)/n,a=e/255,r=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(h+l*i),t=a+l*r;for(let n=o;n<=e;n++)s[n]=t;o=e+1}for(let l=o;l<256;l++)s[l]=s[o-1];return s.join(",")},f="g_".concat(xs(sc,this),"_hcm_").concat(e,"_filter"),v=o.filter=vs(oc,this,gc).call(this,f);return vs(oc,this,mc).call(this,v),vs(oc,this,vc).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),v),o.url=vs(oc,this,uc).call(this,f),o.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==ys(oc,this,cc).size||(xs(nc,this)&&(xs(nc,this).parentNode.parentNode.remove(),bs(nc,this,null)),xs(tc,this)&&(xs(tc,this).clear(),bs(tc,this,null)),bs(rc,this,0))}},Qh=Ls?class extends bc{async _fetch(e){return Cc(e)}}:wc;function Jh(){var e,t,n;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof s||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const i=new $h,{docId:a}=i,r=s.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(Ls&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(s.url):null,o=s.data?function(e){if(Ls&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Ki(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(s.data):null,l=s.httpHeaders||null,c=!0===s.withCredentials,d=null!==(e=s.password)&&void 0!==e?e:null,h=s.range instanceof tu?s.range:null,u=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:Vh;let p=s.worker instanceof pu?s.worker:null;const m=s.verbosity,g="string"!==typeof s.docBaseUrl||xa(s.docBaseUrl)?null:s.docBaseUrl,f="string"===typeof s.cMapUrl?s.cMapUrl:null,v=!1!==s.cMapPacked,y=s.CMapReaderFactory||Kh,x="string"===typeof s.standardFontDataUrl?s.standardFontDataUrl:null,b=s.StandardFontDataFactory||Qh,w=!0!==s.stopAtErrors,_=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,S=!1!==s.isEvalSupported,k="boolean"===typeof s.isOffscreenCanvasSupported?s.isOffscreenCanvasSupported:!Ls,C="boolean"===typeof s.isChrome?s.isChrome:!Qi.platform.isFirefox&&"undefined"!==typeof window&&!(null===(t=window)||void 0===t||!t.chrome),A=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,j="boolean"===typeof s.disableFontFace?s.disableFontFace:Ls,T=!0===s.fontExtraProperties,E=!0===s.enableXfa,N=s.ownerDocument||globalThis.document,P=!0===s.disableRange,M=!0===s.disableStream,O=!0===s.disableAutoFetch,D=!0===s.pdfBug,L=s.CanvasFactory||qh,R=s.FilterFactory||Xh,F=!0===s.enableHWA,I=h?h.length:null!==(n=s.length)&&void 0!==n?n:NaN,B="boolean"===typeof s.useSystemFonts?s.useSystemFonts:!Ls&&!j,W="boolean"===typeof s.useWorkerFetch?s.useWorkerFetch:y===Zl&&b===wc&&f&&x&&ka(f,document.baseURI)&&ka(x,document.baseURI);s.canvasFactory&&Aa("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&Aa("`filterFactory`-instance option, please use `FilterFactory` instead.");Pi(m);const U={canvasFactory:new L({ownerDocument:N,enableHWA:F}),filterFactory:new R({docId:a,ownerDocument:N}),cMapReaderFactory:W?null:new y({baseUrl:f,isCompressed:v}),standardFontDataFactory:W?null:new b({baseUrl:x})};if(!p){const e={verbosity:m,port:sd.workerPort};p=e.port?pu.fromPort(e):new pu(e),i._worker=p}const z={docId:a,apiVersion:"4.8.69",data:o,password:d,disableAutoFetch:O,rangeChunkSize:u,length:I,docBaseUrl:g,enableXfa:E,evaluatorOptions:{maxImageSize:_,disableFontFace:j,ignoreErrors:w,isEvalSupported:S,isOffscreenCanvasSupported:k,isChrome:C,canvasMaxAreaInBytes:A,fontExtraProperties:T,useSystemFonts:B,cMapUrl:W?f:null,standardFontDataUrl:W?x:null}},G={disableFontFace:j,fontExtraProperties:T,ownerDocument:N,pdfBug:D,styleElement:null,loadingParams:{disableAutoFetch:O,enableXfa:E}};return p.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const e=p.messageHandler.sendWithPromise("GetDocRequest",z,o?[o.buffer]:null);let t;if(h)t=new Wd(h,{disableRange:P,disableStream:M});else if(!o){if(!r)throw new Error("getDocument - no `url` parameter provided.");let e;if(Ls){e="undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&ka(r)?Qd:ah}else e=ka(r)?Qd:eh;t=new e({url:r,length:I,httpHeaders:l,withCredentials:c,rangeChunkSize:u,disableRange:P,disableStream:M})}return e.then(e=>{if(i.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const n=new xd(a,e,p.port),s=new Cu(n,i,t,G,U);i._transport=s,n.send("Ready",null)})}).catch(i._capability.reject),i}function Zh(e){return"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0}class $h{constructor(){var e,t;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((eu._=(e=eu._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(s){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var eu={_:0};class tu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Li("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class nu{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ii(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var su=new WeakMap,iu=new WeakMap,au=new WeakSet;class ru{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];gs(this,au),fs(this,su,null),fs(this,iu,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new Sa:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new Nu,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new va({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ii(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:s,viewport:i,intent:a="display",annotationMode:r=qs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:u=null,isEditing:p=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const m=this._transport.getRenderingIntent(a,r,u,p),{renderingIntent:g,cacheKey:f}=m;bs(iu,this,!1),vs(au,this,lu).call(this),c||(c=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(f);v||(v=Object.create(null),this._intentStates.set(f,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(g&Us);var x;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(x=this._stats)||void 0===x||x.time("Page Request"),this._pumpOperatorList(m));const b=e=>{var t;(v.renderTasks.delete(w),(this._maybeCleanupAfterRender||y)&&bs(iu,this,!0),vs(au,this,ou).call(this,!y),e?(w.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):w.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Lu({callback:b,params:{canvasContext:s,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:h});((n=v).renderTasks||(n.renderTasks=new Set)).add(w);const _=w.task;return Promise.all([v.displayReadyCapability.promise,c]).then(e=>{var t;let[n,s]=e;if(this.destroyed)b();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(s.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:n,optionalContentConfig:s}),w.operatorListChanged()}}).catch(b),_}getOperatorList(){let{intent:e="display",annotationMode:t=qs.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,s,!0);let a,r=this._intentStates.get(i.cacheKey);var o,l;(r||(r=Object.create(null),this._intentStates.set(i.cacheKey,r)),r.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(a))},r.opListReadCapability=Promise.withResolvers(),((o=r).renderTasks||(o.renderTasks=new Set)).add(a),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>Yh.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const s=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){s.read().then(function(n){var s;let{value:a,done:r}=n;r?e(i):(null!==(s=i.lang)&&void 0!==s||(i.lang=a.lang),Object.assign(i.styles,a.styles),i.items.push(...a.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),bs(iu,this,!1),vs(au,this,lu).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];bs(iu,this,!0);const t=vs(au,this,ou).call(this,!1);return e&&t&&this._stats&&(this._stats=new Sa),t}_startRenderPage(e,t){var n,s;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(s=i.displayReadyCapability)||void 0===s||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&vs(au,this,ou).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:s,modifiedIds:i}=e;const{map:a,transfer:r}=s,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:i},r).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();vs(au,this,ou).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:s=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(n instanceof ya){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},e))}}if(t.streamReader.cancel(new Vi(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function ou(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(vs(au,this,lu).call(this),!xs(iu,this)||this.destroyed)return!1;if(e)return bs(su,this,setTimeout(()=>{bs(su,this,null),vs(au,this,ou).call(this,!1)},5e3)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),bs(iu,this,!1),!0}function lu(){xs(su,this)&&(clearTimeout(xs(su,this)),bs(su,this,null))}var cu=new WeakMap,du=new WeakMap;class hu{constructor(){fs(this,cu,new Map),fs(this,du,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};xs(du,this).then(()=>{for(const[e]of xs(cu,this))e.call(this,n)})}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void Di("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}xs(cu,this).set(t,s)}removeEventListener(e,t){const n=xs(cu,this).get(t);null===n||void 0===n||n(),xs(cu,this).delete(t)}terminate(){for(const[,e]of xs(cu,this))null===e||void 0===e||e();xs(cu,this).clear()}}var uu=new WeakSet;class pu{constructor(){let{name:e=null,port:t=null,verbosity:n=Mi()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(gs(this,uu),this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){var s;if(null!==(s=yu._)&&void 0!==s&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(yu._||(yu._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return Ls?Promise.all([kc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new xd("main","worker",e),this._messageHandler.on("ready",function(){}),vs(uu,this,mu).call(this)}_initialize(){if(vu._||gu(pu))return void this._setupFakeWorker();let{workerSrc:e}=pu;try{pu._isSameOrigin(window.location.href,e)||(e=pu._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new xd("main","worker",t),s=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),n.on("test",e=>{i.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,vs(uu,this,mu).call(this)):s()}),n.on("ready",e=>{if(i.abort(),this.destroyed)s();else try{a()}catch(t){this._setupFakeWorker()}});const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch(t){Oi("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){vu._||(Di("Setting up fake worker."),vu._=!0),pu._setupFakeWorkerGlobal.then(e=>{var t,n;if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const s=new hu;this._port=s;const i="fake".concat((fu._=(t=fu._,n=t++,t),n)),a=new xd(i+"_worker",i,s);e.setup(a,s),this._messageHandler=new xd(i,i+"_worker",s),vs(uu,this,mu).call(this)}).catch(e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=yu._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=vs(pu,this,yu)._)||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new pu(e)}static get workerSrc(){if(sd.workerSrc)return sd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ii(this,"_setupFakeWorkerGlobal",(async()=>{if(ys(pu,this,gu))return ys(pu,this,gu);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function mu(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function gu(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}As=pu;var fu={_:0},vu={_:!1},yu={_:void 0};Ls&&(vu._=vs(As,As,!0),sd.workerSrc||(sd.workerSrc="./pdf.worker.mjs")),As._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const s=new URL(t,n);return n.origin===s.origin},As._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var xu=new WeakMap,bu=new WeakMap,wu=new WeakMap,_u=new WeakMap,Su=new WeakMap,ku=new WeakSet;class Cu{constructor(e,t,n,s,i){gs(this,ku),fs(this,xu,new Map),fs(this,bu,new Map),fs(this,wu,new Map),fs(this,_u,new Map),fs(this,Su,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Nu,this.fontLoader=new ql({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ii(this,"annotationStorage",new zl)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qs.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Ws,r=Fl;switch(e){case"any":a=Bs;break;case"display":break;case"print":a=Us;break;default:Di("getRenderingIntent - invalid intent: ".concat(e))}const o=a&Us&&n instanceof Yl?n:this.annotationStorage;switch(t){case qs.DISABLE:a+=Hs;break;case qs.ENABLE:break;case qs.ENABLE_FORMS:a+=zs;break;case qs.ENABLE_STORAGE:a+=Gs,r=o.serializable;break;default:Di("getRenderingIntent - invalid annotationMode: ".concat(t))}s&&(a+=Ys),i&&(a+=Vs);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,r.hash,c].join("_"),annotationStorageSerializable:r,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=xs(Su,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of xs(bu,this).values())t.push(s._destroy());xs(bu,this).clear(),xs(wu,this).clear(),xs(_u,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),xs(xu,this).clear(),this.filterFactory.destroy(),Mh.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new Vi("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{Ri(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:n,done:s}=e;s?t.close():(Ri(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:s,contentLength:i}=this._fullReader;if(!n||!s){var a;if(this._lastProgress)null===(a=t.onProgress)||void 0===a||a.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:s,contentLength:i}}),e.on("GetRangeReader",(e,t)=>{Ri(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function(e){let{value:n,done:s}=e;s?t.close():(Ri(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new nu(n,this))}),e.on("DocException",function(e){let n;switch(e.name){case"PasswordException":n=new Wi(e.message,e.code);break;case"InvalidPDFException":n=new zi(e.message);break;case"MissingPDFException":n=new Gi(e.message);break;case"UnexpectedResponseException":n=new Hi(e.message,e.status);break;case"UnknownErrorException":n=new Ui(e.message,e.details);break;default:Li("DocException - expected a valid Error.")}t._capability.reject(n)}),e.on("PasswordRequest",e=>{if(bs(Su,this,Promise.withResolvers()),t.onPassword){const s=e=>{e instanceof Error?xs(Su,this).reject(e):xs(Su,this).resolve({password:e})};try{t.onPassword(s,e.code)}catch(n){xs(Su,this).reject(n)}}else xs(Su,this).reject(new Wi(e.message,e.code));return xs(Su,this).promise}),e.on("DataLoaded",e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;xs(bu,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var n;let[s,i,a]=t;if(this.destroyed)return null;if(this.commonObjs.has(s))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:r,pdfBug:o}=this._params;if("error"in a){const e=a.error;Di("Error during font loading: ".concat(e)),this.commonObjs.resolve(s,e);break}const l=o&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,c=new Kl(a,{disableFontFace:t,inspectFont:l});this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!r&&c.data&&(c.data=null),this.commonObjs.resolve(s,c)});break;case"CopyLocalImage":const{imageRef:d}=a;Ri(d,"The imageRef must be defined.");for(const e of xs(bu,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===d)return t.dataLen?(this.commonObjs.resolve(s,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,a);break;default:throw new Error("Got unknown common object type ".concat(i))}return null}),e.on("obj",e=>{let[t,n,s,i]=e;if(this.destroyed)return;const a=xs(bu,this).get(n);var r;if(!a.objs.has(t))if(0!==a._intentStates.size)switch(s){case"Image":a.objs.resolve(t,i),(null===i||void 0===i?void 0:i.dataLen)>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(s))}else null===i||void 0===i||null===(r=i.bitmap)||void 0===r||r.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBuiltInCMap",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(e)}),e.on("FetchStandardFontData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&Di("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=xs(wu,this).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&xs(_u,this).set(n.refStr,e);const s=new ru(t,n,this,this._params.pdfBug);return xs(bu,this).set(t,s),s});return xs(wu,this).set(t,s),s}getPageIndex(e){return Zh(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return vs(ku,this,Au).call(this,"GetFieldObjects")}hasJSActions(){return vs(ku,this,Au).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return vs(ku,this,Au).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return vs(ku,this,Au).call(this,"GetOptionalContentConfig").then(t=>new Id(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=xs(xu,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n,s,i;return{info:e[0],metadata:e[1]?new Ad(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(s=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==s?s:null}});return xs(xu,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of xs(bu,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),xs(xu,this).clear(),this.filterFactory.destroy(!0),Mh.cleanup()}}cachedPageNumber(e){var t;if(!Zh(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=xs(_u,this).get(n))&&void 0!==t?t:null}}function Au(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=xs(xu,this).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return xs(xu,this).set(e,s),s}const ju=Symbol("INITIAL_DATA");var Tu=new WeakMap,Eu=new WeakSet;class Nu{constructor(){gs(this,Eu),fs(this,Tu,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=vs(Eu,this,Pu).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=xs(Tu,this)[e];if(!n||n.data===ju)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=xs(Tu,this)[e];return!!t&&t.data!==ju}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=vs(Eu,this,Pu).call(this,e);n.data=t,n.resolve()}clear(){for(const t in xs(Tu,this)){var e;const{data:n}=xs(Tu,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}bs(Tu,this,Object.create(null))}*[Symbol.iterator](){for(const e in xs(Tu,this)){const{data:t}=xs(Tu,this)[e];t!==ju&&(yield[e,t])}}}function Pu(e){var t;return(t=xs(Tu,this))[e]||(t[e]=d(d({},Promise.withResolvers()),{},{data:ju}))}var Mu=new WeakMap;class Ou{constructor(e){fs(this,Mu,null),bs(Mu,this,e),this.onContinue=null}get promise(){return xs(Mu,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;xs(Mu,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=xs(Mu,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=xs(Mu,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var Du=new WeakMap;class Lu{constructor(e){let{callback:t,params:n,objs:s,commonObjs:i,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null}=e;fs(this,Du,null),this.callback=t,this.params=n,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ou(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,n;let{transparency:s=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(Ru._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ru._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:r,transform:o,background:l}=this.params;this.gfx=new ed(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:s,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),xs(Du,this)&&(window.cancelAnimationFrame(xs(Du,this)),bs(Du,this,null)),Ru._.delete(this._canvas),this.callback(t||new ya("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?bs(Du,this,window.requestAnimationFrame(()=>{bs(Du,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ru._.delete(this._canvas),this.callback())))}}var Ru={_:new WeakSet};const Fu="4.8.69",Iu="3634dab10";function Bu(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Wu(e){return Math.max(0,Math.min(255,255*e))}class Uu{static CMYK_G(e){let[t,n,s,i]=e;return["G",1-Math.min(1,.3*t+.59*s+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=Wu(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Bu(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,s]=e;return["G",.3*t+.59*n+.11*s]}static RGB_rgb(e){return e.map(Wu)}static RGB_HTML(e){return"#".concat(e.map(Bu).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,s,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,s+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,s,i]=e;return[Wu(1-Math.min(1,t+i)),Wu(1-Math.min(1,s+i)),Wu(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,s]=e;const i=1-t,a=1-n,r=1-s;return["CMYK",i,a,r,Math.min(i,a,r)]}}class zu{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width","".concat(e,"px")),s.setAttribute("height","".concat(t,"px"))),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),s}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Li("Abstract method `_createSVG` called.")}}class Gu extends zu{_createSVG(e){return document.createElementNS(ma,e)}}class Hu{static setupStorage(e,t,n,s,i){const a=s.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",e=>{s.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{s.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",e=>{s.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;s.setValue(t,{value:i})})}}static setAttributes(e){let{html:t,element:n,storage:s=null,intent:i,linkService:a}=e;const{attributes:r}=n,o=t instanceof HTMLAnchorElement;"radio"===r.type&&(r.name="".concat(r.name,"-").concat(i));for(const[l,c]of Object.entries(r))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),s&&r.dataId&&this.setupStorage(t,r.dataId,n,s)}static render(e){const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:n});const r="richText"!==i,o=e.div;if(o.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===s.children.length){if(s.value){const e=document.createTextNode(s.value);a.append(e),r&&Yh.shouldBuildText(s.name)&&l.push(e)}return{textDivs:l}}const c=[[s,-1,a]];for(;c.length>0;){var d,h;const[e,s,a]=c.at(-1);if(s+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const p=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(a.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:i,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);r&&Yh.shouldBuildText(u)&&l.push(e),p.append(e)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const Yu=1e3,Vu=new WeakSet;function qu(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Ku{static create(e){switch(e.data.annotationType){case ai:return new np(e);case ii:return new rp(e);case wi:switch(e.data.fieldType){case"Tx":return new lp(e);case"Btn":return e.data.radioButton?new hp(e):e.data.checkBox?new dp(e):new up(e);case"Ch":return new pp(e);case"Sig":return new cp(e)}return new op(e);case xi:return new mp(e);case ri:return new Yp(e);case oi:return new qp(e);case li:return new Xp(e);case ci:return new Jp(e);case hi:return new $p(e);case vi:return new tm(e);case yi:return new sm(e);case di:return new em(e);case ui:return new im(e);case pi:return new am(e);case mi:return new rm(e);case gi:return new om(e);case fi:return new lm(e);case bi:return new hm(e);default:return new $u(e)}}}var Xu=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Zu=new WeakSet;class $u{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gs(this,Zu),fs(this,Xu,null),fs(this,Qu,!1),fs(this,Ju,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:s}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==s&&void 0!==s&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $u._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;xs(Xu,this)||bs(Xu,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&vs(Zu,this,ep).call(this,n),null===(t=xs(Ju,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;xs(Xu,this)&&(vs(Zu,this,ep).call(this,xs(Xu,this).rect),null===(e=xs(Ju,this))||void 0===e||e.popup.resetEdited(),bs(Xu,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof op||(i.tabIndex=Yu);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof mp){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:r,height:o}=qu(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");a.borderRadius=t}else if(this instanceof hp){const e="calc(".concat(r,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");a.borderRadius=e}switch(t.borderStyle.style){case _i:a.borderStyle="solid";break;case Si:a.borderStyle="dashed";break;case ki:Di("Unimplemented border style: beveled");break;case Ci:Di("Unimplemented border style: inset");break;case Ai:a.borderBottomStyle="solid"}const s=t.borderColor||null;s?(bs(Qu,this,!0),a.borderColor=Zi.makeHexColor(0|s[0],0|s[1],0|s[2])):a.borderWidth=0}const l=Zi.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:u}=s.rawDims;a.left="".concat(100*(l[0]-h)/c,"%"),a.top="".concat(100*(l[1]-u)/d,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width="".concat(100*r/c,"%"),a.height="".concat(100*o/d,"%")):this.setRotation(p,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:a}=qu(this.data.rect);let r,o;e%180===0?(r=100*i/n,o=100*a/s):(r=100*a/n,o=100*i/s),t.style.width="".concat(r,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const s=n.detail[e],i=s[0],a=s.slice(1);n.target.style[t]=Uu["".concat(i,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[t]:Uu["".concat(i,"_rgb")](a)})};return Ii(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||n[s];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,i]of Object.entries(t)){const a=n[s];if(a){a({detail:{[s]:i},target:e}),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,i]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,r,o,l]=e.subarray(2,6);if(s===a&&i===r&&t===o&&n===l)return}const{style:a}=this.container;let r;if(xs(Qu,this)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=s-t,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),p="clippath_".concat(this.data.id);u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let g=2,f=e.length;g<f;g+=8){var m;const n=e[g],s=e[g+1],a=e[g+2],d=e[g+3],h=c.createElement("rect"),p=(a-t)/o,f=(i-s)/l,v=(n-a)/o,y=(s-d)/l;h.setAttribute("x",p),h.setAttribute("y",f),h.setAttribute("width",v),h.setAttribute("height",y),u.append(h),null===(m=r)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(f,'" width="').concat(v,'" height="').concat(y,'"/>'))}xs(Qu,this)&&(r.push("</g></svg>')"),a.backgroundImage=r.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{data:e}=this,t=bs(Ju,this,new mp({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Li("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:e,id:i,exportValues:a}of s){if(-1===e)continue;if(i===t)continue;const s="string"===typeof a?a:null,r=document.querySelector('[data-element-id="'.concat(i,'"]'));!r||Vu.has(r)?n.push({id:i,exportValue:s,domElement:r}):Di("_getElementsByName - element not allowed: ".concat(i))}return n}for(const s of document.getElementsByName(e)){const{exportValue:e}=s,i=s.getAttribute("data-element-id");i!==t&&(Vu.has(s)&&n.push({id:i,exportValue:e,domElement:s}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}function ep(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e);const{width:l,height:c}=qu(e);t.left="".concat(100*(e[0]-r)/i,"%"),t.top="".concat(100*(a-e[3]+o)/a,"%"),0===s?(t.width="".concat(100*l/i,"%"),t.height="".concat(100*c/a,"%")):this.setRotation(s)}var tp=new WeakSet;class np extends $u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),gs(this,tp),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(n,e.action),s=!0):e.attachment?(vs(tp,this,ip).call(this,n,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(vs(tp,this,ap).call(this,n,e.setOCGState),s=!0):e.dest?(this._bindLink(n,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),s=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&vs(tp,this,sp).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),vs(tp,this,sp).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const i=n.get(s);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),vs(tp,this,sp).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),vs(tp,this,sp).call(this),!this._fieldObjects)return Di('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:s,include:i}=t,a=[];if(0!==e.length||0!==s.length){const t=new Set(s);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const r=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;r.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(Vu.has(n)?n.dispatchEvent(new Event("resetform")):Di("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function sp(){this.container.setAttribute("data-internal-link","")}function ip(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},vs(tp,this,sp).call(this)}function ap(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),vs(tp,this,sp).call(this)}class rp extends $u{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class op extends $u{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Qi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,i){n.includes("mouse")?e.addEventListener(n,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(e)}}))})}_setEventListeners(e,t,n,s){for(const[o,l]of n){var i,a,r;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,s),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Zi.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const r=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(Is*s))||1);a=Math.min(s,r(t/Is))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(s,r(e/Is))}i.fontSize="calc(".concat(a,"px * var(--scale-factor))"),i.color=Zi.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class lp extends op{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,s){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[s]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var s;const a=e.getValue(t,{value:this.data.fieldValue});let r=a.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&r.length>o&&(r=r.slice(0,o));let l=a.formattedValue||(null===(s=this.data.textContent)||void 0===s?void 0:s.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==l&&void 0!==l?l:r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Vu.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Yu,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",s=>{e.setValue(t,{value:s.target.value}),this.setPropertyOnSiblings(n,"value",s.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",e=>{var t;const s=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=s,c.formattedValue=null});let d=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:n}=e;c.userValue&&(n.value=c.userValue),c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const s={value(n){var s;c.userValue=null!==(s=n.detail.value)&&void 0!==s?s:"",e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:s}=n.detail;c.formattedValue=s,null!==s&&void 0!==s&&n.target!==document.activeElement&&(n.target.value=s),e.setValue(t,{formattedValue:s})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var s;const{charLimit:i}=n.detail,{target:a}=n;if(0===i)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",i);let r=c.userValue;!r||r.length<=i||(r=r.slice(0,i),a.value=c.userValue=r,e.setValue(t,{value:r}),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(s,n)}),n.addEventListener("keydown",e=>{var n;c.commitKey=1;let s=-1;if("Escape"===e.key?s=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):s=2,-1===s)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:s,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const s=d;d=null,n.addEventListener("blur",e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{value:i}=e.target;var a;(c.userValue=i,c.lastCommittedValue!==i)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));s(e)}),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",e=>{var n;c.lastCommittedValue=null;const{data:s,target:i}=e,{value:a,selectionStart:r,selectionEnd:o}=i;let l=r,d=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(r).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(d+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:s||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class cp extends op{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class dp extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof s&&(s="Off"!==s,e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Vu.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=Yu,i.addEventListener("change",s=>{const{name:i,checked:a}=s.target;for(const r of this._getElementsByName(i,n)){const n=a&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:a})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const s={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(s,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class hp extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof s&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Vu.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=Yu,i.addEventListener("change",t=>{const{name:s,checked:i}=t.target;for(const a of this._getElementsByName(s,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})}),i.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=s===t.detail.value;for(const s of this._getElementsByName(t.target.name)){const t=i&&s.id===n;s.domElement&&(s.domElement.checked=t),e.setValue(s.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class up extends np{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class pp extends op{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Vu.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Yu;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of s.options)n.selected=n.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),s.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),s.prepend(e),a=()=>{e.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const r=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=s;return i?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=r(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",n=>{const i={value(n){var i;null===(i=a)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of s.options)e.selected=c.has(e.value);e.setValue(t,{value:r(!0)}),o=r(!1)},multipleSelection(e){s.multiple=!0},remove(n){const i=s.options,a=n.detail.remove;if(i[a].selected=!1,s.remove(a),i.length>0){-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0)}e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},clear(n){for(;0!==s.length;)s.remove(0);e.setValue(t,{value:null,items:[]}),o=r(!1)},insert(n){const{index:i,displayValue:a,exportValue:c}=n.detail.insert,d=s.children[i],h=document.createElement("option");h.textContent=a,h.value=c,d?d.before(h):s.append(h),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},items(n){const{items:i}=n.detail;for(;0!==s.length;)s.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,s.append(i)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},indices(n){const s=new Set(n.detail.indices);for(const e of n.target.options)e.selected=s.has(e.index);e.setValue(t,{value:r(!0)}),o=r(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)}),s.addEventListener("input",n=>{var s;const i=r(!0),a=r(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):s.addEventListener("input",function(n){e.setValue(t,{value:r(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class mp extends $u{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:$u._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Lp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>"".concat(ia).concat(e)).join(",")),this.container}}var gp=new WeakMap,fp=new WeakMap,vp=new WeakMap,yp=new WeakMap,xp=new WeakMap,bp=new WeakMap,wp=new WeakMap,_p=new WeakMap,Sp=new WeakMap,kp=new WeakMap,Cp=new WeakMap,Ap=new WeakMap,jp=new WeakMap,Tp=new WeakMap,Ep=new WeakMap,Np=new WeakMap,Pp=new WeakMap,Mp=new WeakMap,Op=new WeakMap,Dp=new WeakSet;class Lp{constructor(e){let{container:t,color:n,elements:s,titleObj:i,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:d,open:h}=e;gs(this,Dp),fs(this,gp,vs(Dp,this,Wp).bind(this)),fs(this,fp,vs(Dp,this,Hp).bind(this)),fs(this,vp,vs(Dp,this,Gp).bind(this)),fs(this,yp,vs(Dp,this,zp).bind(this)),fs(this,xp,null),fs(this,bp,null),fs(this,wp,null),fs(this,_p,null),fs(this,Sp,null),fs(this,kp,null),fs(this,Cp,null),fs(this,Ap,!1),fs(this,jp,null),fs(this,Tp,null),fs(this,Ep,null),fs(this,Np,null),fs(this,Pp,null),fs(this,Mp,null),fs(this,Op,!1),bs(bp,this,t),bs(Pp,this,i),bs(wp,this,r),bs(Np,this,o),bs(kp,this,l),bs(xp,this,n),bs(Ep,this,c),bs(Cp,this,d),bs(Sp,this,s),bs(_p,this,ja.toDateObject(a)),this.trigger=s.flatMap(e=>e.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",xs(yp,this)),p.addEventListener("mouseenter",xs(vp,this)),p.addEventListener("mouseleave",xs(fp,this)),p.classList.add("popupTriggerArea");for(const p of s){var u;null===(u=p.container)||void 0===u||u.addEventListener("keydown",xs(gp,this))}xs(bp,this).hidden=!0,h&&vs(Dp,this,zp).call(this)}render(){if(xs(jp,this))return;const e=bs(jp,this,document.createElement("div"));if(e.className="popup",xs(xp,this)){const t=e.style.outlineColor=Zi.makeHexColor(...xs(xp,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)");else{const t=.7;e.style.backgroundColor=Zi.makeHexColor(...xs(xp,this).map(e=>Math.floor(t*(255-e)+e)))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=xs(Pp,this)),e.append(t),xs(_p,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:xs(_p,this).valueOf()})),t.append(e)}const s=ys(Dp,this,Rp);if(s)Hu.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(xs(wp,this));e.append(t)}xs(bp,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const s=document.createElement("p");s.classList.add("popupContent"),s.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,r=i.length;a<r;++a){const e=i[a];s.append(document.createTextNode(e)),a<r-1&&s.append(document.createElement("br"))}return s}updateEdited(e){var t;let{rect:n,popupContent:s}=e;xs(Mp,this)||bs(Mp,this,{contentsObj:xs(wp,this),richText:xs(Np,this)}),n&&bs(Tp,this,null),s&&(bs(Np,this,vs(Dp,this,Bp).call(this,s)),bs(wp,this,null)),null===(t=xs(jp,this))||void 0===t||t.remove(),bs(jp,this,null)}resetEdited(){var e;xs(Mp,this)&&(({contentsObj:ps(bs,[wp,this])._,richText:ps(bs,[Np,this])._}=xs(Mp,this)),bs(Mp,this,null),null===(e=xs(jp,this))||void 0===e||e.remove(),bs(jp,this,null),bs(Tp,this,null))}forceHide(){bs(Op,this,this.isVisible),xs(Op,this)&&(xs(bp,this).hidden=!0)}maybeShow(){xs(Op,this)&&(xs(jp,this)||vs(Dp,this,Gp).call(this),bs(Op,this,!1),xs(bp,this).hidden=!1)}get isVisible(){return!1===xs(bp,this).hidden}}function Rp(e){const t=xs(Np,e),n=xs(wp,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:xs(Np,e).html||null}function Fp(e){var t;return(null===(t=ys(Dp,e,Rp))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function Ip(e){var t;return(null===(t=ys(Dp,e,Rp))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function Bp(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:ys(Dp,this,Ip),fontSize:ys(Dp,this,Fp)?"calc(".concat(ys(Dp,this,Fp),"px * var(--scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:s});return n}function Wp(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&xs(Ap,this))&&vs(Dp,this,zp).call(this)}function Up(){if(null!==xs(Tp,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:i}}}=xs(kp,this);let a=!!xs(Cp,this),r=xs(a?Cp:Ep,this);for(const u of xs(Sp,this))if(!r||null!==Zi.intersect(u.data.rect,r)){r=u.data.rect,a=!0;break}const o=Zi.normalizeRect([r[0],e[3]-r[1]+e[1],r[2],e[3]-r[3]+e[1]]),l=a?r[2]-r[0]+5:0,c=o[0]+l,d=o[1];bs(Tp,this,[100*(c-s)/t,100*(d-i)/n]);const{style:h}=xs(bp,this);h.left="".concat(xs(Tp,this)[0],"%"),h.top="".concat(xs(Tp,this)[1],"%")}function zp(){bs(Ap,this,!xs(Ap,this)),xs(Ap,this)?(vs(Dp,this,Gp).call(this),xs(bp,this).addEventListener("click",xs(yp,this)),xs(bp,this).addEventListener("keydown",xs(gp,this))):(vs(Dp,this,Hp).call(this),xs(bp,this).removeEventListener("click",xs(yp,this)),xs(bp,this).removeEventListener("keydown",xs(gp,this)))}function Gp(){xs(jp,this)||this.render(),this.isVisible?xs(Ap,this)&&xs(bp,this).classList.add("focused"):(vs(Dp,this,Up).call(this),xs(bp,this).hidden=!1,xs(bp,this).style.zIndex=parseInt(xs(bp,this).style.zIndex)+1e3)}function Hp(){xs(bp,this).classList.remove("focused"),!xs(Ap,this)&&this.isVisible&&(xs(bp,this).hidden=!0,xs(bp,this).style.zIndex=parseInt(xs(bp,this).style.zIndex)-1e3)}class Yp extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ks.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Vp=new WeakMap;class qp extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),fs(this,Vp,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=qu(e.rect),s=this.svgFactory.create(t,n,!0),i=bs(Vp,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),s.append(i),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xs(Vp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Kp=new WeakMap;class Xp extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),fs(this,Kp,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=qu(e.rect),s=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=bs(Kp,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xs(Kp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Qp=new WeakMap;class Jp extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),fs(this,Qp,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=qu(e.rect),s=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=bs(Qp,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xs(Qp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Zp=new WeakMap;class $p extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),fs(this,Zp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:s}}=this;if(!t)return this.container;const{width:i,height:a}=qu(e),r=this.svgFactory.create(i,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],s=e[3]-t[c+1];o.push("".concat(n,",").concat(s))}o=o.join(" ");const l=bs(Zp,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return xs(Zp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class em extends $p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tm extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var nm=new WeakMap;class sm extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),fs(this,nm,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Ks.HIGHLIGHT:Ks.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:s}}=this,{width:i,height:a}=qu(e),r=this.svgFactory.create(i,a,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const s=o[n]-e[0],i=e[3]-o[n+1];t.push("".concat(s,",").concat(i))}t=t.join(" ");const s=this.svgFactory.createElement(this.svgElementName);xs(nm,this).push(s),s.setAttribute("points",t),s.setAttribute("stroke-width",n.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(r),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return xs(nm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class im extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ks.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class am extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rm extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class om extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class lm extends $u{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ks.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cm=new WeakMap,dm=new WeakSet;class hm extends $u{constructor(e){var t;super(e,{isRenderable:!0}),gs(this,dm),fs(this,cm,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",d({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",vs(dm,this,um).bind(this)),bs(cm,this,n);const{isMac:s}=Qi.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(s?e.metaKey:e.ctrlKey)&&vs(dm,this,um).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return xs(cm,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function um(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,fm=new WeakMap,vm=new WeakSet;class ym{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:s,annotationEditorUIManager:i,page:a,viewport:r,structTreeLayer:o}=e;gs(this,vm),fs(this,pm,null),fs(this,mm,null),fs(this,gm,new Map),fs(this,fm,null),this.div=t,bs(pm,this,n),bs(mm,this,s),bs(fm,this,o||null),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return xs(gm,this).size>0}async render(e){const{annotations:t}=e,n=this.div;Oa(n,this.viewport);const s=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Gu,annotationStorage:e.annotationStorage||new zl,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===xi;if(e){const e=s.get(r.id);if(!e)continue;i.elements=e}else{const{width:e,height:t}=qu(r.rect);if(e<=0||t<=0)continue}i.data=r;const t=Ku.create(i);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=s.get(r.popupRef);e?e.push(t):s.set(r.popupRef,[t])}const n=t.render();var a;if(r.hidden&&(n.style.visibility="hidden"),await vs(vm,this,xm).call(this,n,r.id),t._isEditable)xs(gm,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}vs(vm,this,bm).call(this)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Oa(n,{rotation:t.rotation}),vs(vm,this,bm).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(xs(gm,this).values())}getEditableAnnotation(e){return xs(gm,this).get(e)}}async function xm(e,t){var n,s;const i=e.firstChild||e,a=i.id="".concat(ia).concat(t),r=await(null===(n=xs(fm,this))||void 0===n?void 0:n.getAriaAttributes(a));if(r)for(const[o,l]of r)i.setAttribute(o,l);this.div.append(e),null===(s=xs(pm,this))||void 0===s||s.moveElementInDOM(this.div,e,i,!1)}function bm(){if(!xs(mm,this))return;const e=this.div;for(const[t,n]of xs(mm,this)){const s=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!s)continue;n.className="annotationContent";const{firstChild:i}=s;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):s.append(n)}xs(mm,this).clear()}const wm=/\r\n?|\n/g;var _m=new WeakMap,Sm=new WeakMap,km=new WeakMap,Cm=new WeakMap,Am=new WeakMap,jm=new WeakSet;class Tm extends fl{static get _keyboardManager(){const e=Tm.prototype,t=e=>e.isEmpty(),n=co.TRANSLATE_SMALL,s=co.TRANSLATE_BIG;return Ii(this,"_keyboardManager",new yr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}constructor(e){super(d(d({},e),{},{name:"freeTextEditor"})),gs(this,jm),fs(this,_m,void 0),fs(this,Sm,""),fs(this,km,"".concat(this.id,"-editor")),fs(this,Cm,null),fs(this,Am,void 0),bs(_m,this,e.color||Tm._defaultColor||fl._defaultLineColor),bs(Am,this,e.fontSize||Tm._defaultFontSize)}static initialize(e,t){fl.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Xs.FREETEXT_SIZE:Tm._defaultFontSize=t;break;case Xs.FREETEXT_COLOR:Tm._defaultColor=t}}updateParams(e,t){switch(e){case Xs.FREETEXT_SIZE:vs(jm,this,Em).call(this,t);break;case Xs.FREETEXT_COLOR:vs(jm,this,Nm).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Xs.FREETEXT_SIZE,Tm._defaultFontSize],[Xs.FREETEXT_COLOR,Tm._defaultColor||fl._defaultLineColor]]}get propertiesToUpdate(){return[[Xs.FREETEXT_SIZE,xs(Am,this)],[Xs.FREETEXT_COLOR,xs(_m,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Tm._internalPadding*e,-(Tm._internalPadding+xs(Am,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ks.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),bs(Cm,this,new AbortController);const e=this._uiManager.combinedSignal(xs(Cm,this));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",xs(km,this)),this._isDraggable=!0,null===(e=xs(Cm,this))||void 0===e||e.abort(),bs(Cm,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=xs(Sm,this),t=bs(Sm,this,vs(jm,this,Pm).call(this).trimEnd());if(e===t)return;const n=e=>{bs(Sm,this,e),e?(vs(jm,this,Dm).call(this),this._uiManager.rebuild(this),vs(jm,this,Mm).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),vs(jm,this,Mm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Tm._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",xs(km,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(xs(Am,this),"px * var(--scale-factor))"),n.color=xs(_m,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),sr(this,this.div,["dblclick","keydown"]),this.width){const[n,s]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[a,r]=this.getInitialTranslation();[a,r]=this.pageTranslationToScreen(a,r);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(i[0]-c)/o,u=t+this.height-(i[1]-d)/l;break;case 90:h=e+(i[0]-c)/o,u=t-(i[1]-d)/l,[a,r]=[r,-a];break;case 180:h=e-this.width+(i[0]-c)/o,u=t-(i[1]-d)/l,[a,r]=[-a,-r];break;case 270:h=e+(i[0]-c-this.height*l)/o,u=t+(i[1]-d-this.width*o)/l,[a,r]=[-r,a]}this.setAt(h*n,u*s,a,r)}else this.setAt(e*n,t*s,this.width*n,this.height*s);vs(jm,this,Dm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const s=Rm.call(Tm,t.getData("text")||"").replaceAll(wm,"\n");if(!s)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const a=i.getRangeAt(0);if(!s.includes("\n"))return a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:r,startOffset:o}=a,l=[],c=[];if(r.nodeType===Node.TEXT_NODE){const e=r.parentElement;if(c.push(r.nodeValue.slice(o).replaceAll(wm,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(Om.call(Tm,n)):t=c}l.push(r.nodeValue.slice(0,o).replaceAll(wm,""))}else if(r===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(Om.call(Tm,n))}bs(Sm,this,"".concat(l.join("\n")).concat(s).concat(c.join("\n"))),vs(jm,this,Dm).call(this);const d=new Range;let h=l.reduce((e,t)=>e+t.length,0);for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}i.removeAllRanges(),i.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let s=null;if(e instanceof Yp){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:a,id:r,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;s=e={annotationType:Ks.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:i.slice(0),rotation:a,id:r,deleted:!1,popupRef:o}}const i=await super.deserialize(e,t,n);return bs(Am,i,e.fontSize),bs(_m,i,Zi.makeHexColor(...e.color)),bs(Sm,i,Rm.call(Tm,e.value)),i.annotationElementId=e.id||null,i._initialData=s,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Tm._internalPadding*this.parentScale,n=this.getRect(t,t),s=fl._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:xs(_m,this)),i={annotationType:Ks.FREETEXT,color:s,fontSize:xs(Am,this),value:vs(jm,this,Lm).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!vs(jm,this,Fm).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(xs(Am,this),"px * var(--scale-factor))"),n.color=xs(_m,this),t.replaceChildren();for(const i of xs(Sm,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const s=Tm._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:xs(Sm,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function Em(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-xs(Am,this))*this.parentScale),bs(Am,this,e),vs(jm,this,Mm).call(this)},n=xs(Am,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Nm(e){const t=e=>{bs(_m,this,this.editorDiv.style.color=e)},n=xs(_m,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Pm(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===s.nodeName||(e.push(Om.call(js,s)),t=s)}return e.join("\n")}function Mm(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,s=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=s,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function Om(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wm,"")}function Dm(){if(this.editorDiv.replaceChildren(),xs(Sm,this))for(const e of xs(Sm,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function Lm(){return xs(Sm,this).replaceAll("\xa0"," ")}function Rm(e){return e.replaceAll(" ","\xa0")}function Fm(e){const{value:t,fontSize:n,color:s,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==s[t])||e.pageIndex!==i}js=Tm,l(Tm,"_freeTextDefaultContent",""),l(Tm,"_internalPadding",0),l(Tm,"_defaultColor",null),l(Tm,"_defaultFontSize",10),l(Tm,"_type","freetext"),l(Tm,"_editorType",Ks.FREETEXT);class Im{toSVGPath(){Li("Abstract method `toSVGPath` must be implemented.")}get box(){Li("Abstract getter `box` must be implemented.")}serialize(e,t){Li("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Li("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Li("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Bm=new WeakMap,Wm=new WeakMap,Um=new WeakMap,zm=new WeakMap,Gm=new WeakMap,Hm=new WeakMap,Ym=new WeakMap,Vm=new WeakMap,qm=new WeakMap,Km=new WeakMap,Xm=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,Zm=new WeakSet;class $m{constructor(e,t,n,s,i){let{x:a,y:r}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;gs(this,Zm),fs(this,Bm,void 0),fs(this,Wm,[]),fs(this,Um,void 0),fs(this,zm,void 0),fs(this,Gm,[]),fs(this,Hm,new Float64Array(18)),fs(this,Ym,void 0),fs(this,Vm,void 0),fs(this,qm,void 0),fs(this,Km,void 0),fs(this,Xm,void 0),fs(this,Qm,void 0),fs(this,Jm,[]),bs(Bm,this,t),bs(Qm,this,s*n),bs(zm,this,i),xs(Hm,this).set([NaN,NaN,NaN,NaN,a,r],6),bs(Um,this,o),bs(Km,this,og._*n),bs(qm,this,lg._*n),bs(Xm,this,n),xs(Jm,this).push(a,r)}isEmpty(){return isNaN(xs(Hm,this)[8])}add(e){var t;let{x:n,y:s}=e;bs(Ym,this,n),bs(Vm,this,s);const[i,a,r,o]=xs(Bm,this);let[l,c,d,h]=xs(Hm,this).subarray(8,12);const u=n-d,p=s-h,m=Math.hypot(u,p);if(m<xs(qm,this))return!1;const g=m-xs(Km,this),f=g/m,v=f*u,y=f*p;let x=l,b=c;l=d,c=h,d+=v,h+=y,null===(t=xs(Jm,this))||void 0===t||t.push(n,s);const w=v/g,_=-y/g*xs(Qm,this),S=w*xs(Qm,this);if(xs(Hm,this).set(xs(Hm,this).subarray(2,8),0),xs(Hm,this).set([d+_,h+S],4),xs(Hm,this).set(xs(Hm,this).subarray(14,18),12),xs(Hm,this).set([d-_,h-S],16),isNaN(xs(Hm,this)[6]))return 0===xs(Gm,this).length&&(xs(Hm,this).set([l+_,c+S],2),xs(Gm,this).push(NaN,NaN,NaN,NaN,(l+_-i)/r,(c+S-a)/o),xs(Hm,this).set([l-_,c-S],14),xs(Wm,this).push(NaN,NaN,NaN,NaN,(l-_-i)/r,(c-S-a)/o)),xs(Hm,this).set([x,b,l,c,d,h],6),!this.isEmpty();xs(Hm,this).set([x,b,l,c,d,h],6);return Math.abs(Math.atan2(b-c,x-l)-Math.atan2(y,v))<Math.PI/2?([l,c,d,h]=xs(Hm,this).subarray(2,6),xs(Gm,this).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/r,((c+h)/2-a)/o),[l,c,x,b]=xs(Hm,this).subarray(14,18),xs(Wm,this).push(NaN,NaN,NaN,NaN,((x+l)/2-i)/r,((b+c)/2-a)/o),!0):([x,b,l,c,d,h]=xs(Hm,this).subarray(0,6),xs(Gm,this).push(((x+5*l)/6-i)/r,((b+5*c)/6-a)/o,((5*l+d)/6-i)/r,((5*c+h)/6-a)/o,((l+d)/2-i)/r,((c+h)/2-a)/o),[d,h,l,c,x,b]=xs(Hm,this).subarray(12,18),xs(Wm,this).push(((x+5*l)/6-i)/r,((b+5*c)/6-a)/o,((5*l+d)/6-i)/r,((5*c+h)/6-a)/o,((l+d)/2-i)/r,((c+h)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=xs(Gm,this),t=xs(Wm,this);if(isNaN(xs(Hm,this)[6])&&!this.isEmpty())return vs(Zm,this,tg).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push("L".concat(e[s+4]," ").concat(e[s+5])):n.push("C".concat(e[s]," ").concat(e[s+1]," ").concat(e[s+2]," ").concat(e[s+3]," ").concat(e[s+4]," ").concat(e[s+5]));vs(Zm,this,sg).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push("L".concat(t[s+4]," ").concat(t[s+5])):n.push("C".concat(t[s]," ").concat(t[s+1]," ").concat(t[s+2]," ").concat(t[s+3]," ").concat(t[s+4]," ").concat(t[s+5]));return vs(Zm,this,ng).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,i,a){return new vg(e,t,n,s,i,a)}getOutlines(){var e,t;const n=xs(Gm,this),s=xs(Wm,this),i=xs(Hm,this),[a,r,o,l]=xs(Bm,this),c=new Float64Array((null!==(e=null===(t=xs(Jm,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let u=0,p=c.length-2;u<p;u+=2)c[u]=(xs(Jm,this)[u]-a)/o,c[u+1]=(xs(Jm,this)[u+1]-r)/l;if(c[c.length-2]=(xs(Ym,this)-a)/o,c[c.length-1]=(xs(Vm,this)-r)/l,isNaN(i[6])&&!this.isEmpty())return vs(Zm,this,ig).call(this,c);const d=new Float64Array(xs(Gm,this).length+24+xs(Wm,this).length);let h=n.length;for(let u=0;u<h;u+=2)isNaN(n[u])?d[u]=d[u+1]=NaN:(d[u]=n[u],d[u+1]=n[u+1]);h=vs(Zm,this,rg).call(this,d,h);for(let u=s.length-6;u>=6;u-=6)for(let e=0;e<6;e+=2)isNaN(s[u+e])?(d[h]=d[h+1]=NaN,h+=2):(d[h]=s[u+e],d[h+1]=s[u+e+1],h+=2);return vs(Zm,this,ag).call(this,d,h),this.newFreeDrawOutline(d,c,xs(Bm,this),xs(Xm,this),xs(Um,this),xs(zm,this))}}function eg(){const e=xs(Hm,this).subarray(4,6),t=xs(Hm,this).subarray(16,18),[n,s,i,a]=xs(Bm,this);return[(xs(Ym,this)+(e[0]-t[0])/2-n)/i,(xs(Vm,this)+(e[1]-t[1])/2-s)/a,(xs(Ym,this)+(t[0]-e[0])/2-n)/i,(xs(Vm,this)+(t[1]-e[1])/2-s)/a]}function tg(){const[e,t,n,s]=xs(Bm,this),[i,a,r,o]=vs(Zm,this,eg).call(this);return"M".concat((xs(Hm,this)[2]-e)/n," ").concat((xs(Hm,this)[3]-t)/s," L").concat((xs(Hm,this)[4]-e)/n," ").concat((xs(Hm,this)[5]-t)/s," L").concat(i," ").concat(a," L").concat(r," ").concat(o," L").concat((xs(Hm,this)[16]-e)/n," ").concat((xs(Hm,this)[17]-t)/s," L").concat((xs(Hm,this)[14]-e)/n," ").concat((xs(Hm,this)[15]-t)/s," Z")}function ng(e){const t=xs(Wm,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function sg(e){const[t,n,s,i]=xs(Bm,this),a=xs(Hm,this).subarray(4,6),r=xs(Hm,this).subarray(16,18),[o,l,c,d]=vs(Zm,this,eg).call(this);e.push("L".concat((a[0]-t)/s," ").concat((a[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((r[0]-t)/s," ").concat((r[1]-n)/i))}function ig(e){const t=xs(Hm,this),[n,s,i,a]=xs(Bm,this),[r,o,l,c]=vs(Zm,this,eg).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-s)/a,NaN,NaN,NaN,NaN,r,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-s)/a],0),this.newFreeDrawOutline(d,e,xs(Bm,this),xs(Xm,this),xs(Um,this),xs(zm,this))}function ag(e,t){const n=xs(Wm,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function rg(e,t){const n=xs(Hm,this).subarray(4,6),s=xs(Hm,this).subarray(16,18),[i,a,r,o]=xs(Bm,this),[l,c,d,h]=vs(Zm,this,eg).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/r,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(s[0]-i)/r,(s[1]-a)/o],t),t+24}var og={_:8},lg={_:og._+2},cg=new WeakMap,dg=new WeakMap,hg=new WeakMap,ug=new WeakMap,pg=new WeakMap,mg=new WeakMap,gg=new WeakMap,fg=new WeakSet;class vg extends Im{constructor(e,t,n,s,i,a){super(),gs(this,fg),fs(this,cg,void 0),fs(this,dg,null),fs(this,hg,void 0),fs(this,ug,void 0),fs(this,pg,void 0),fs(this,mg,void 0),fs(this,gg,void 0),bs(gg,this,e),bs(pg,this,t),bs(cg,this,n),bs(mg,this,s),bs(hg,this,i),bs(ug,this,a),vs(fg,this,bg).call(this,a);const{x:r,y:o,width:l,height:c}=xs(dg,this);for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-r)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-r)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(xs(gg,this)[4]," ").concat(xs(gg,this)[5])];for(let t=6,n=xs(gg,this).length;t<n;t+=6)isNaN(xs(gg,this)[t])?e.push("L".concat(xs(gg,this)[t+4]," ").concat(xs(gg,this)[t+5])):e.push("C".concat(xs(gg,this)[t]," ").concat(xs(gg,this)[t+1]," ").concat(xs(gg,this)[t+2]," ").concat(xs(gg,this)[t+3]," ").concat(xs(gg,this)[t+4]," ").concat(xs(gg,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,s,i,a]=e;const r=i-n,o=a-s;let l,c;switch(t){case 0:l=vs(fg,this,yg).call(this,xs(gg,this),n,a,r,-o),c=vs(fg,this,yg).call(this,xs(pg,this),n,a,r,-o);break;case 90:l=vs(fg,this,xg).call(this,xs(gg,this),n,s,r,o),c=vs(fg,this,xg).call(this,xs(pg,this),n,s,r,o);break;case 180:l=vs(fg,this,yg).call(this,xs(gg,this),i,s,-r,o),c=vs(fg,this,yg).call(this,xs(pg,this),i,s,-r,o);break;case 270:l=vs(fg,this,xg).call(this,xs(gg,this),i,a,-r,-o),c=vs(fg,this,xg).call(this,xs(pg,this),i,a,-r,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return xs(dg,this)}newOutliner(e,t,n,s,i){return new $m(e,t,n,s,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const{x:n,y:s,width:i,height:a}=xs(dg,this),[r,o,l,c]=xs(cg,this),d=i*l,h=a*c,u=n*l+r,p=s*c+o,m=this.newOutliner({x:xs(pg,this)[0]*d+u,y:xs(pg,this)[1]*h+p},xs(cg,this),xs(mg,this),e,xs(ug,this),null!==t&&void 0!==t?t:xs(hg,this));for(let g=2;g<xs(pg,this).length;g+=2)m.add({x:xs(pg,this)[g]*d+u,y:xs(pg,this)[g+1]*h+p});return m.getOutlines()}get mustRemoveSelfIntersections(){return!0}}function yg(e,t,n,s,i){const a=new Float64Array(e.length);for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r]*s,a[r+1]=n+e[r+1]*i;return a}function xg(e,t,n,s,i){const a=new Float64Array(e.length);for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r+1]*s,a[r+1]=n+e[r]*i;return a}function bg(e){const t=xs(gg,this);let n=t[4],s=t[5],i=n,a=s,r=n,o=s,l=n,c=s;const d=e?Math.max:Math.min;for(let g=6,f=t.length;g<f;g+=6){if(isNaN(t[g]))i=Math.min(i,t[g+4]),a=Math.min(a,t[g+5]),r=Math.max(r,t[g+4]),o=Math.max(o,t[g+5]),c<t[g+5]?(l=t[g+4],c=t[g+5]):c===t[g+5]&&(l=d(l,t[g+4]));else{const e=Zi.bezierBoundingBox(n,s,...t.slice(g,g+6));i=Math.min(i,e[0]),a=Math.min(a,e[1]),r=Math.max(r,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=d(l,e[2]))}n=t[g+4],s=t[g+5]}const h=i-xs(hg,this),u=a-xs(hg,this),p=r-i+2*xs(hg,this),m=o-a+2*xs(hg,this);bs(dg,this,{x:h,y:u,width:p,height:m,lastPoint:[l,c]})}var wg=new WeakMap,_g=new WeakMap,Sg=new WeakMap,kg=new WeakSet;class Cg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];gs(this,kg),fs(this,wg,void 0),fs(this,_g,[]),fs(this,Sg,[]);let i=1/0,a=-1/0,r=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:f,width:v,height:y}of e){const e=Math.floor((g-t)/l)*l,n=Math.ceil((g+v+t)/l)*l,s=Math.floor((f-t)/l)*l,c=Math.ceil((f+y+t)/l)*l,d=[e,s,c,!0],h=[n,s,c,!1];xs(_g,this).push(d,h),i=Math.min(i,e),a=Math.max(a,n),r=Math.min(r,s),o=Math.max(o,c)}const c=a-i+2*n,d=o-r+2*n,h=i-n,u=r-n,p=xs(_g,this).at(s?-1:-2),m=[p[0],p[2]];for(const g of xs(_g,this)){const[e,t,n]=g;g[0]=(e-h)/c,g[1]=(t-u)/d,g[2]=(n-u)/d}bs(wg,this,{x:h,y:u,width:c,height:d,lastPoint:m})}getOutlines(){xs(_g,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of xs(_g,this))t[3]?(e.push(...vs(kg,this,Ng).call(this,t)),vs(kg,this,Tg).call(this,t)):(vs(kg,this,Eg).call(this,t),e.push(...vs(kg,this,Ng).call(this,t)));return vs(kg,this,Ag).call(this,e)}}function Ag(e){const t=[],n=new Set;for(const a of e){const[e,n,s]=a;t.push([e,n,a],[e,s,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,r=t.length;a<r;a+=2){const e=t[a][2],s=t[a+1][2];e.push(s),s.push(e),n.add(e),n.add(s)}const s=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,a,r,o,l]=e;n.delete(e);let c=t,d=a;for(i=[t,r],s.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,r,o,l]=e,c!==t&&(i.push(c,d,t,d===a?a:r),c=t),d=d===a?r:a}i.push(c,d)}return new Og(s,xs(wg,this))}function jg(e){const t=xs(Sg,this);let n=0,s=t.length-1;for(;n<=s;){const i=n+s>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:s=i-1}return s+1}function Tg(e){let[,t,n]=e;const s=vs(kg,this,jg).call(this,t);xs(Sg,this).splice(s,0,[t,n])}function Eg(e){let[,t,n]=e;const s=vs(kg,this,jg).call(this,t);for(let i=s;i<xs(Sg,this).length;i++){const[e,s]=xs(Sg,this)[i];if(e!==t)break;if(e===t&&s===n)return void xs(Sg,this).splice(i,1)}for(let i=s-1;i>=0;i--){const[e,s]=xs(Sg,this)[i];if(e!==t)break;if(e===t&&s===n)return void xs(Sg,this).splice(i,1)}}function Ng(e){const[t,n,s]=e,i=[[t,n,s]],a=vs(kg,this,jg).call(this,s);for(let r=0;r<a;r++){const[e,n]=xs(Sg,this)[r];for(let s=0,a=i.length;s<a;s++){const[,r,o]=i[s];if(!(n<=r||o<=e))if(r>=e)if(o>n)i[s][1]=n;else{if(1===a)return[];i.splice(s,1),s--,a--}else i[s][2]=e,o>n&&i.push([t,n,o])}}return i}var Pg=new WeakMap,Mg=new WeakMap;class Og extends Im{constructor(e,t){super(),fs(this,Pg,void 0),fs(this,Mg,void 0),bs(Mg,this,e),bs(Pg,this,t)}toSVGPath(){const e=[];for(const t of xs(Mg,this)){let[n,s]=t;e.push("M".concat(n," ").concat(s));for(let i=2;i<t.length;i+=2){const a=t[i],r=t[i+1];a===n?(e.push("V".concat(r)),s=r):r===s&&(e.push("H".concat(a)),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,s,i,a]=e;const r=[],o=i-n,l=a-s;for(const c of xs(Mg,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;r.push(e)}return r}get box(){return xs(Pg,this)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class Dg extends $m{newFreeDrawOutline(e,t,n,s,i,a){return new Lg(e,t,n,s,i,a)}get classNamesForDrawing(){return["highlight","free"]}}class Lg extends vg{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,s,i){return new Dg(e,t,n,s,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var Rg=new WeakMap,Fg=new WeakMap,Ig=new WeakMap,Bg=new WeakMap,Wg=new WeakMap,Ug=new WeakMap,zg=new WeakMap,Gg=new WeakMap,Hg=new WeakMap,Yg=new WeakMap,Vg=new WeakMap,qg=new WeakSet;class Kg{static get _keyboardManager(){return Ii(this,"_keyboardManager",new yr([[["Escape","mac+Escape"],Kg.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Kg.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Kg.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Kg.prototype._moveToPrevious],[["Home","mac+Home"],Kg.prototype._moveToBeginning],[["End","mac+End"],Kg.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:s=null}=e;gs(this,qg),fs(this,Rg,null),fs(this,Fg,null),fs(this,Ig,void 0),fs(this,Bg,null),fs(this,Wg,!1),fs(this,Ug,!1),fs(this,zg,null),fs(this,Gg,void 0),fs(this,Hg,null),fs(this,Yg,null),fs(this,Vg,void 0),n?(bs(Ug,this,!1),bs(Vg,this,Xs.HIGHLIGHT_COLOR),bs(zg,this,n)):(bs(Ug,this,!0),bs(Vg,this,Xs.HIGHLIGHT_DEFAULT_COLOR)),bs(Yg,this,(null===n||void 0===n?void 0:n._uiManager)||s),bs(Gg,this,xs(Yg,this)._eventBus),bs(Ig,this,(null===n||void 0===n?void 0:n.color)||(null===(t=xs(Yg,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98"),tf._||(tf._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=bs(Rg,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=xs(Yg,this)._signal;e.addEventListener("click",vs(qg,this,Zg).bind(this),{signal:t}),e.addEventListener("keydown",vs(qg,this,Jg).bind(this),{signal:t});const n=bs(Fg,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=xs(Ig,this),e.append(n),e}renderMainDropdown(){const e=bs(Bg,this,vs(qg,this,Xg).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===xs(Rg,this))return void vs(qg,this,Zg).call(this,e);const t=e.target.getAttribute("data-color");t&&vs(qg,this,Qg).call(this,t,e)}_moveToNext(e){var t,n;ys(qg,this,ef)?e.target!==xs(Rg,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=xs(Bg,this).firstChild)||void 0===n||n.focus():vs(qg,this,Zg).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=xs(Bg,this))||void 0===t?void 0:t.firstChild)&&e.target!==xs(Rg,this)?(ys(qg,this,ef)||vs(qg,this,Zg).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):ys(qg,this,ef)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;ys(qg,this,ef)?null===(t=xs(Bg,this).firstChild)||void 0===t||t.focus():vs(qg,this,Zg).call(this,e)}_moveToEnd(e){var t;ys(qg,this,ef)?null===(t=xs(Bg,this).lastChild)||void 0===t||t.focus():vs(qg,this,Zg).call(this,e)}hideDropdown(){var e,t;null===(e=xs(Bg,this))||void 0===e||e.classList.add("hidden"),null===(t=xs(Hg,this))||void 0===t||t.abort(),bs(Hg,this,null)}_hideDropdownFromKeyboard(){var e;xs(Ug,this)||(ys(qg,this,ef)?(this.hideDropdown(),xs(Rg,this).focus({preventScroll:!0,focusVisible:xs(Wg,this)})):null===(e=xs(zg,this))||void 0===e||e.unselect())}updateColor(e){if(xs(Fg,this)&&(xs(Fg,this).style.backgroundColor=e),!xs(Bg,this))return;const t=xs(Yg,this).highlightColors.values();for(const n of xs(Bg,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=xs(Rg,this))||void 0===e||e.remove(),bs(Rg,this,null),bs(Fg,this,null),null===(t=xs(Bg,this))||void 0===t||t.remove(),bs(Bg,this,null)}}function Xg(){const e=document.createElement("div"),t=xs(Yg,this)._signal;e.addEventListener("contextmenu",Ca,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of xs(Yg,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=n,i.setAttribute("data-l10n-id",tf._[n]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.setAttribute("aria-selected",s===xs(Ig,this)),i.addEventListener("click",vs(qg,this,Qg).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",vs(qg,this,Jg).bind(this),{signal:t}),e}function Qg(e,t){t.stopPropagation(),xs(Gg,this).dispatch("switchannotationeditorparams",{source:this,type:xs(Vg,this),value:e})}function Jg(e){Ts._keyboardManager.exec(this,e)}function Zg(e){if(ys(qg,this,ef))return void this.hideDropdown();if(bs(Wg,this,0===e.detail),xs(Hg,this)||(bs(Hg,this,new AbortController),window.addEventListener("pointerdown",vs(qg,this,$g).bind(this),{signal:xs(Yg,this).combinedSignal(xs(Hg,this))})),xs(Bg,this))return void xs(Bg,this).classList.remove("hidden");const t=bs(Bg,this,vs(qg,this,Xg).call(this));xs(Rg,this).append(t)}function $g(e){var t;null!==(t=xs(Bg,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function ef(e){return xs(Bg,e)&&!xs(Bg,e).classList.contains("hidden")}Ts=Kg;var tf={_:null},nf=new WeakMap,sf=new WeakMap,af=new WeakMap,rf=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,df=new WeakMap,hf=new WeakMap,uf=new WeakMap,pf=new WeakMap,mf=new WeakMap,gf=new WeakMap,ff=new WeakMap,vf=new WeakMap,yf=new WeakMap,xf=new WeakMap,bf=new WeakMap,wf=new WeakSet;class _f extends fl{static get _keyboardManager(){const e=_f.prototype;return Ii(this,"_keyboardManager",new yr([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(d(d({},e),{},{name:"highlightEditor"})),gs(this,wf),fs(this,nf,null),fs(this,sf,0),fs(this,af,void 0),fs(this,rf,null),fs(this,of,null),fs(this,lf,null),fs(this,cf,null),fs(this,df,0),fs(this,hf,null),fs(this,uf,null),fs(this,pf,null),fs(this,mf,!1),fs(this,gf,null),fs(this,ff,void 0),fs(this,vf,null),fs(this,yf,""),fs(this,xf,void 0),fs(this,bf,""),this.color=e.color||_f._defaultColor,bs(xf,this,e.thickness||_f._defaultThickness),bs(ff,this,e.opacity||_f._defaultOpacity),bs(af,this,e.boxes||null),bs(bf,this,e.methodOfCreation||""),bs(yf,this,e.text||""),this._isDraggable=!1,e.highlightId>-1?(bs(mf,this,!0),vs(wf,this,kf).call(this,e),vs(wf,this,Ef).call(this)):xs(af,this)&&(bs(nf,this,e.anchorNode),bs(sf,this,e.anchorOffset),bs(cf,this,e.focusNode),bs(df,this,e.focusOffset),vs(wf,this,Sf).call(this),vs(wf,this,Ef).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:xs(mf,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:xs(xf,this),methodOfCreation:xs(bf,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;fl.initialize(e,t),_f._defaultColor||(_f._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Xs.HIGHLIGHT_DEFAULT_COLOR:_f._defaultColor=t;break;case Xs.HIGHLIGHT_THICKNESS:_f._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return xs(gf,this)}updateParams(e,t){switch(e){case Xs.HIGHLIGHT_COLOR:vs(wf,this,Cf).call(this,t);break;case Xs.HIGHLIGHT_THICKNESS:vs(wf,this,Af).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Xs.HIGHLIGHT_DEFAULT_COLOR,_f._defaultColor],[Xs.HIGHLIGHT_THICKNESS,_f._defaultThickness]]}get propertiesToUpdate(){return[[Xs.HIGHLIGHT_COLOR,this.color||_f._defaultColor],[Xs.HIGHLIGHT_THICKNESS,xs(xf,this)||_f._defaultThickness],[Xs.HIGHLIGHT_FREE,xs(mf,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(bs(of,this,new Kg({editor:this})),e.addColorPicker(xs(of,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(vs(wf,this,Of).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,vs(wf,this,Of).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){vs(wf,this,Tf).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(vs(wf,this,Ef).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)vs(wf,this,Tf).call(this);else if(e){var n;vs(wf,this,Ef).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;xs(mf,this)?(e=(e-this.rotation+360)%360,n=Nf.call(_f,xs(uf,this).box,e)):n=Nf.call(_f,this,e),t.rotate(xs(pf,this),e),t.rotate(xs(vf,this),e),t.updateBox(xs(pf,this),n),t.updateBox(xs(vf,this),Nf.call(_f,xs(lf,this).box,e))}render(){if(this.div)return this.div;const e=super.render();xs(yf,this)&&(e.setAttribute("aria-label",xs(yf,this)),e.setAttribute("role","mark")),xs(mf,this)?e.classList.add("free"):this.div.addEventListener("keydown",vs(wf,this,Pf).bind(this),{signal:this._uiManager._signal});const t=bs(hf,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=xs(rf,this);const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),sr(this,xs(hf,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(xs(vf,this),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(xs(vf,this),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:vs(wf,this,Mf).call(this,!0);break;case 1:case 3:vs(wf,this,Mf).call(this,!1)}}select(){var e,t;super.select(),xs(vf,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(xs(vf,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass(xs(vf,this),"selected"))}unselect(){var e;super.unselect(),xs(vf,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(xs(vf,this),"selected"),xs(mf,this)||vs(wf,this,Mf).call(this,!1))}get _mustFixPosition(){return!xs(mf,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(xs(pf,this),e),this.parent.drawLayer.show(xs(vf,this),e))}static startHighlighting(e,t,n){let{target:s,x:i,y:a}=n;const{x:r,y:o,width:l,height:c}=s.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),u=t=>{d.abort(),vs(_f,this,Ff).call(this,e,t)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",e=>{e.preventDefault(),e.stopPropagation()},{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ca,{signal:h}),s.addEventListener("pointermove",vs(_f,this,Rf).bind(this,e),{signal:h}),this._freeHighlight=new Dg({x:i,y:a},[r,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static async deserialize(e,t,n){let s=null;if(e instanceof im){const{data:{quadPoints:t,rect:n,rotation:i,id:a,color:r,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;s=e={annotationType:Ks.HIGHLIGHT,color:Array.from(r),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}else if(e instanceof sm){const{data:{inkLists:t,rect:n,rotation:i,id:a,color:r,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;s=e={annotationType:Ks.HIGHLIGHT,color:Array.from(r),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}const{color:i,quadPoints:a,inkLists:r,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=Zi.makeHexColor(...i),bs(ff,l,o||1),r&&bs(xf,l,e.thickness),l.annotationElementId=e.id||null,l._initialData=s;const[c,d]=l.pageDimensions,[h,u]=l.pageTranslation;if(a){const e=bs(af,l,[]);for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-h)/c,y:1-(a[t+1]-u)/d,width:(a[t+2]-a[t])/c,height:(a[t+1]-a[t+5])/d});vs(wf,l,Sf).call(l),vs(wf,l,Ef).call(l),l.rotate(l.rotation)}else if(r){bs(mf,l,!0);const e=r[0],n={x:e[0]-h,y:d-(e[1]-u)},s=new Dg(n,[0,0,c,d],1,xs(xf,l)/2,!0,.001);for(let t=0,r=e.length;t<r;t+=2)n.x=e[t]-h,n.y=d-(e[t+1]-u),s.add(n);const{id:i,clipPathId:a}=t.drawLayer.draw(s,l.color,l._defaultOpacity,!0);vs(wf,l,kf).call(l,{highlightOutlines:s.getOutlines(),highlightId:i,clipPathId:a}),vs(wf,l,Ef).call(l)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=fl._colorManager.convert(this.color),s={annotationType:Ks.HIGHLIGHT,color:n,opacity:xs(ff,this),thickness:xs(xf,this),quadPoints:vs(wf,this,Df).call(this),outlines:vs(wf,this,Lf).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:vs(wf,this,Of).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!vs(wf,this,If).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function Sf(){const e=new Cg(xs(af,this),.001);bs(uf,this,e.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=xs(uf,this).box);const t=new Cg(xs(af,this),.0025,.001,"ltr"===this._uiManager.direction);bs(lf,this,t.getOutlines());const{lastPoint:n}=xs(lf,this).box;bs(gf,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function kf(e){let{highlightOutlines:t,highlightId:n,clipPathId:s}=e;bs(uf,this,t);if(bs(lf,this,t.getNewOutline(xs(xf,this)/2+1.5,.0025)),n>=0)bs(pf,this,n),bs(rf,this,s),this.parent.drawLayer.finalizeLine(n,t),bs(vf,this,this.parent.drawLayer.drawOutline(xs(lf,this)));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(xs(pf,this),t),this.parent.drawLayer.updateBox(xs(pf,this),Nf.call(Es,xs(uf,this).box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(xs(vf,this),xs(lf,this)),this.parent.drawLayer.updateBox(xs(vf,this),Nf.call(Es,xs(lf,this).box,e))}const{x:i,y:a,width:r,height:o}=t.box;switch(this.rotation){case 0:this.x=i,this.y=a,this.width=r,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-i,this.width=r*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-a,this.width=r,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=i,this.width=r*t/e,this.height=o*e/t;break}}const{lastPoint:l}=xs(lf,this).box;bs(gf,this,[(l[0]-i)/r,(l[1]-a)/o])}function Cf(e){const t=(e,t)=>{var n,s,i;this.color=e,null===(n=this.parent)||void 0===n||n.drawLayer.changeColor(xs(pf,this),e),null===(s=xs(of,this))||void 0===s||s.updateColor(e),bs(ff,this,t),null===(i=this.parent)||void 0===i||i.drawLayer.changeOpacity(xs(pf,this),t)},n=this.color,s=xs(ff,this);this.addCommands({cmd:t.bind(this,e,Es._defaultOpacity),undo:t.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function Af(e){const t=xs(xf,this),n=e=>{bs(xf,this,e),vs(wf,this,jf).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function jf(e){if(!xs(mf,this))return;vs(wf,this,kf).call(this,{highlightOutlines:xs(uf,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function Tf(){null!==xs(pf,this)&&this.parent&&(this.parent.drawLayer.remove(xs(pf,this)),bs(pf,this,null),this.parent.drawLayer.remove(xs(vf,this)),bs(vf,this,null))}function Ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===xs(pf,this)&&(({id:ps(bs,[pf,this])._,clipPathId:ps(bs,[rf,this])._}=e.drawLayer.draw(xs(uf,this),this.color,xs(ff,this))),bs(vf,this,e.drawLayer.drawOutline(xs(lf,this))),xs(hf,this)&&(xs(hf,this).style.clipPath=xs(rf,this)))}function Nf(e,t){let{x:n,y:s,width:i,height:a}=e;switch(t){case 90:return{x:1-s-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-s-a,width:i,height:a};case 270:return{x:s,y:1-n-i,width:a,height:i}}return{x:n,y:s,width:i,height:a}}function Pf(e){Es._keyboardManager.exec(this,e)}function Mf(e){if(!xs(nf,this))return;const t=window.getSelection();e?t.setPosition(xs(nf,this),xs(sf,this)):t.setPosition(xs(cf,this),xs(df,this))}function Of(){return xs(mf,this)?this.rotation:0}function Df(){if(xs(mf,this))return null;const[e,t]=this.pageDimensions,[n,s]=this.pageTranslation,i=xs(af,this),a=new Float32Array(8*i.length);let r=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+n,h=(1-l-d)*t+s;a[r]=a[r+4]=i,a[r+1]=a[r+3]=h,a[r+2]=a[r+6]=i+c*e,a[r+5]=a[r+7]=h+d*t,r+=8}return a}function Lf(e){return xs(uf,this).serialize(e,vs(wf,this,Of).call(this))}function Rf(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function Ff(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function If(e){const{color:t}=this._initialData;return e.color.some((e,n)=>e!==t[n])}Es=_f,l(_f,"_defaultColor",null),l(_f,"_defaultOpacity",1),l(_f,"_defaultThickness",12),l(_f,"_type","highlight"),l(_f,"_editorType",Ks.HIGHLIGHT),l(_f,"_freeHighlightId",-1),l(_f,"_freeHighlight",null),l(_f,"_freeHighlightClipId","");var Bf=new WeakMap,Wf=new WeakMap,Uf=new WeakMap,zf=new WeakMap,Gf=new WeakMap,Hf=new WeakMap,Yf=new WeakMap,Vf=new WeakMap,qf=new WeakMap,Kf=new WeakMap,Xf=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,Zf=new WeakSet;class $f extends fl{constructor(e){super(d(d({},e),{},{name:"inkEditor"})),gs(this,Zf),fs(this,Bf,0),fs(this,Wf,0),fs(this,Uf,null),fs(this,zf,new Path2D),fs(this,Gf,!1),fs(this,Hf,null),fs(this,Yf,!1),fs(this,Vf,!1),fs(this,qf,null),fs(this,Kf,null),fs(this,Xf,0),fs(this,Qf,0),fs(this,Jf,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){fl.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Xs.INK_THICKNESS:$f._defaultThickness=t;break;case Xs.INK_COLOR:$f._defaultColor=t;break;case Xs.INK_OPACITY:$f._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Xs.INK_THICKNESS:vs(Zf,this,ev).call(this,t);break;case Xs.INK_COLOR:vs(Zf,this,tv).call(this,t);break;case Xs.INK_OPACITY:vs(Zf,this,nv).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Xs.INK_THICKNESS,$f._defaultThickness],[Xs.INK_COLOR,$f._defaultColor||fl._defaultLineColor],[Xs.INK_OPACITY,Math.round(100*$f._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[Xs.INK_THICKNESS,this.thickness||$f._defaultThickness],[Xs.INK_COLOR,this.color||$f._defaultColor||fl._defaultLineColor],[Xs.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:$f._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(vs(Zf,this,fv).call(this),vs(Zf,this,vv).call(this)),this.isAttachedToDOM||(this.parent.add(this),vs(Zf,this,yv).call(this)),vs(Zf,this,jv).call(this)))}remove(){var e;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,xs(Uf,this)&&(clearTimeout(xs(Uf,this)),bs(Uf,this,null)),null===(e=xs(qf,this))||void 0===e||e.disconnect(),bs(qf,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,s=this.height*t;this.setDimensions(n,s)}enableEditMode(){xs(Gf,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,vs(Zf,this,pv).call(this))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),vs(Zf,this,mv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){xs(Gf,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),bs(Gf,this,!0),this.div.classList.add("disabled"),vs(Zf,this,jv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!xs(Gf,this)&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),vs(Zf,this,av).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),vs(Zf,this,rv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),vs(Zf,this,gv).call(this,e)}canvasPointerleave(e){vs(Zf,this,gv).call(this,e)}get isResizable(){return!this.isEmpty()&&xs(Gf,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,s,i,a]=vs(Zf,this,sv).call(this);if(this.setAt(n,s,0,0),this.setDims(i,a),vs(Zf,this,fv).call(this),this.width){const[n,s]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*s),this.setAt(e*n,t*s,this.width*n,this.height*s),bs(Vf,this,!0),vs(Zf,this,yv).call(this),this.setDims(this.width*n,this.height*s),vs(Zf,this,uv).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return vs(Zf,this,vv).call(this),this.div}setDimensions(e,t){const n=Math.round(e),s=Math.round(t);if(xs(Xf,this)===n&&xs(Qf,this)===s)return;bs(Xf,this,n),bs(Qf,this,s),this.canvas.style.visibility="hidden";const[i,a]=this.parentDimensions;this.width=e/i,this.height=t/a,this.fixAndSetPosition(),xs(Gf,this)&&vs(Zf,this,xv).call(this,e,t),vs(Zf,this,yv).call(this),vs(Zf,this,uv).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,t,n){if(e instanceof sm)return null;const s=await super.deserialize(e,t,n);s.thickness=e.thickness,s.color=Zi.makeHexColor(...e.color),s.opacity=e.opacity;const[i,a]=s.pageDimensions,r=s.width*i,o=s.height*a,l=s.parentScale,c=e.thickness/2;bs(Gf,s,!0),bs(Xf,s,Math.round(r)),bs(Qf,s,Math.round(o));const{paths:d,rect:h,rotation:u}=e;for(let{bezier:m}of d){m=Sv.call($f,m,h,u);const e=[];s.paths.push(e);let t=l*(m[0]-c),n=l*(m[1]-c);for(let s=2,a=m.length;s<a;s+=6){const i=l*(m[s]-c),a=l*(m[s+1]-c),r=l*(m[s+2]-c),o=l*(m[s+3]-c),d=l*(m[s+4]-c),h=l*(m[s+5]-c);e.push([[t,n],[i,a],[r,o],[d,h]]),t=d,n=h}const i=vs($f,this,wv).call(this,e);s.bezierPath2D.push(i)}const p=vs(Zf,s,Cv).call(s);return bs(Wf,s,Math.max(fl.MIN_SIZE,p[2]-p[0])),bs(Bf,s,Math.max(fl.MIN_SIZE,p[3]-p[1])),vs(Zf,s,xv).call(s,r,o),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=fl._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ks.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:vs(Zf,this,kv).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function ev(e){const t=e=>{this.thickness=e,vs(Zf,this,jv).call(this)},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function tv(e){const t=e=>{this.color=e,vs(Zf,this,uv).call(this)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function nv(e){const t=e=>{this.opacity=e,vs(Zf,this,uv).call(this)};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xs.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function sv(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function iv(){const{ctx:e,color:t,opacity:n,thickness:s,parentScale:i,scaleFactor:a}=this;e.lineWidth=s*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat(function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n))}function av(e,t){this.canvas.addEventListener("contextmenu",Ca,{signal:this._uiManager._signal}),vs(Zf,this,mv).call(this),bs(Hf,this,new AbortController);const n=this._uiManager.combinedSignal(xs(Hf,this));var s;(this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,xs(Vf,this))||(bs(Vf,this,!0),vs(Zf,this,yv).call(this),this.thickness||(this.thickness=Ns._defaultThickness),this.color||(this.color=Ns._defaultColor||fl._defaultLineColor),null!==(s=this.opacity)&&void 0!==s||(this.opacity=Ns._defaultOpacity));this.currentPath.push([e,t]),bs(Yf,this,!1),vs(Zf,this,iv).call(this),bs(Jf,this,()=>{vs(Zf,this,cv).call(this),xs(Jf,this)&&window.requestAnimationFrame(xs(Jf,this))}),window.requestAnimationFrame(xs(Jf,this))}function rv(e,t){const[n,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===s)return;const i=this.currentPath;let a=xs(zf,this);if(i.push([e,t]),bs(Yf,this,!0),i.length<=2)return a.moveTo(...i[0]),void a.lineTo(e,t);3===i.length&&(bs(zf,this,a=new Path2D),a.moveTo(...i[0])),vs(Zf,this,dv).call(this,a,...i.at(-3),...i.at(-2),e,t)}function ov(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);xs(zf,this).lineTo(...e)}function lv(e,t){let n;if(bs(Jf,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),vs(Zf,this,rv).call(this,e,t),vs(Zf,this,ov).call(this),1!==this.currentPath.length)n=vs(Zf,this,hv).call(this);else{const s=[e,t];n=[[s,s.slice(),s.slice(),s]]}const s=xs(zf,this),i=this.currentPath;this.currentPath=[],bs(zf,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(vs(Zf,this,fv).call(this),vs(Zf,this,vv).call(this)),vs(Zf,this,jv).call(this))},mustExec:!0})}function cv(){if(!xs(Yf,this))return;bs(Yf,this,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map(e=>e[0]),s=t.map(e=>e[1]),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...s),Math.max(...s),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)i.stroke(a);i.stroke(xs(zf,this)),i.restore()}function dv(e,t,n,s,i,a,r){const o=(t+s)/2,l=(n+i)/2,c=(s+a)/2,d=(i+r)/2;e.bezierCurveTo(o+2*(s-o)/3,l+2*(i-l)/3,c+2*(s-c)/3,d+2*(i-d)/3,c,d)}function hv(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[s,i]=e[0];for(n=1;n<e.length-2;n++){const[a,r]=e[n],[o,l]=e[n+1],c=(a+o)/2,d=(r+l)/2,h=[s+2*(a-s)/3,i+2*(r-i)/3],u=[c+2*(a-c)/3,d+2*(r-d)/3];t.push([[s,i],h,u,[c,d]]),[s,i]=[c,d]}const[a,r]=e[n],[o,l]=e[n+1],c=[s+2*(a-s)/3,i+2*(r-i)/3],d=[o+2*(a-o)/3,l+2*(r-l)/3];return t.push([[s,i],c,d,[o,l]]),t}function uv(){if(this.isEmpty())return void vs(Zf,this,bv).call(this);vs(Zf,this,iv).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),vs(Zf,this,bv).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function pv(){if(xs(Kf,this))return;bs(Kf,this,new AbortController);const e=this._uiManager.combinedSignal(xs(Kf,this));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}function mv(){var e;null===(e=this.pointerdownAC)||void 0===e||e.abort(),this.pointerdownAC=null}function gv(e){var t;null===(t=xs(Hf,this))||void 0===t||t.abort(),bs(Hf,this,null),vs(Zf,this,pv).call(this),xs(Uf,this)&&clearTimeout(xs(Uf,this)),bs(Uf,this,setTimeout(()=>{bs(Uf,this,null),this.canvas.removeEventListener("contextmenu",Ca)},10)),vs(Zf,this,lv).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function fv(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function vv(){bs(qf,this,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),xs(qf,this).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;null===(e=xs(qf,this))||void 0===e||e.disconnect(),bs(qf,this,null)},{once:!0})}function yv(){if(!xs(Vf,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),vs(Zf,this,bv).call(this)}function xv(e,t){const n=vs(Zf,this,Av).call(this),s=(e-n)/xs(Wf,this),i=(t-n)/xs(Bf,this);this.scaleFactor=Math.min(s,i)}function bv(){const e=vs(Zf,this,Av).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function wv(e){const t=new Path2D;for(let n=0,s=e.length;n<s;n++){const[s,i,a,r]=e[n];0===n&&t.moveTo(...s),t.bezierCurveTo(i[0],i[1],a[0],a[1],r[0],r[1])}return t}function _v(e,t,n){const[s,i,a,r]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=s,e[t+1]=r-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+s,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=r-n}break;default:throw new Error("Invalid rotation")}return e}function Sv(e,t,n){const[s,i,a,r]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=s,e[t+1]=r-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=r-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function kv(e,t,n,s){const i=[],a=this.thickness/2,r=e*t+a,o=e*n+a;for(const l of this.paths){const t=[],n=[];for(let s=0,i=l.length;s<i;s++){const[a,c,d,h]=l[s];if(a[0]===h[0]&&a[1]===h[1]&&1===i){const s=e*a[0]+r,i=e*a[1]+o;t.push(s,i),n.push(s,i);break}const u=e*a[0]+r,p=e*a[1]+o,m=e*c[0]+r,g=e*c[1]+o,f=e*d[0]+r,v=e*d[1]+o,y=e*h[0]+r,x=e*h[1]+o;0===s&&(t.push(u,p),n.push(u,p)),t.push(m,g,f,v,y,x),n.push(m,g),s===i-1&&n.push(y,x)}i.push({bezier:_v.call(Ns,t,s,this.rotation),points:_v.call(Ns,n,s,this.rotation)})}return i}function Cv(){let e=1/0,t=-1/0,n=1/0,s=-1/0;for(const i of this.paths)for(const[a,r,o,l]of i){const i=Zi.bezierBoundingBox(...a,...r,...o,...l);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),s=Math.max(s,i[3])}return[e,n,t,s]}function Av(){return xs(Gf,this)?Math.ceil(this.thickness*this.parentScale):0}function jv(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!xs(Gf,this))return void vs(Zf,this,uv).call(this);const t=vs(Zf,this,Cv).call(this),n=vs(Zf,this,Av).call(this);bs(Wf,this,Math.max(fl.MIN_SIZE,t[2]-t[0])),bs(Bf,this,Math.max(fl.MIN_SIZE,t[3]-t[1]));const s=Math.ceil(n+xs(Wf,this)*this.scaleFactor),i=Math.ceil(n+xs(Bf,this)*this.scaleFactor),[a,r]=this.parentDimensions;this.width=s/a,this.height=i/r,this.setAspectRatio(s,i);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],vs(Zf,this,yv).call(this),vs(Zf,this,uv).call(this),bs(Xf,this,s),bs(Qf,this,i),this.setDims(s,i);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}Ns=$f,l($f,"_defaultColor",null),l($f,"_defaultOpacity",1),l($f,"_defaultThickness",1),l($f,"_type","ink"),l($f,"_editorType",Ks.INK);var Tv=new WeakMap,Ev=new WeakMap,Nv=new WeakMap,Pv=new WeakMap,Mv=new WeakMap,Ov=new WeakMap,Dv=new WeakMap,Lv=new WeakMap,Rv=new WeakMap,Fv=new WeakMap,Iv=new WeakMap,Bv=new WeakSet;class Wv extends fl{constructor(e){super(d(d({},e),{},{name:"stampEditor"})),gs(this,Bv),fs(this,Tv,null),fs(this,Ev,null),fs(this,Nv,null),fs(this,Pv,null),fs(this,Mv,null),fs(this,Ov,""),fs(this,Dv,null),fs(this,Lv,null),fs(this,Rv,null),fs(this,Fv,!1),fs(this,Iv,!1),bs(Pv,this,e.bitmapUrl),bs(Mv,this,e.bitmapFile)}static initialize(e,t){fl.initialize(e,t)}static get supportedTypes(){return Ii(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>"image/".concat(e)))}static get supportedTypesStr(){return Ii(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Ks.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const s=e.get("hasAltText");return{hasAltText:null!==(t=s.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=s.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:i,height:a}=e||this.copyCanvas(null,null,!0).imageData,r=await n.guess({name:"altText",request:{data:s,width:i,height:a,channels:s.length/(i*a)}});if(!r)throw new Error("No response from the AI service.");if(r.error)throw new Error("Error from the AI service.");if(r.cancel)return null;if(!r.output)throw new Error("No valid response from the AI service.");const o=r.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e,t;xs(Ev,this)&&(bs(Tv,this,null),this._uiManager.imageManager.deleteId(xs(Ev,this)),null===(e=xs(Dv,this))||void 0===e||e.remove(),bs(Dv,this,null),null===(t=xs(Lv,this))||void 0===t||t.disconnect(),bs(Lv,this,null),xs(Rv,this)&&(clearTimeout(xs(Rv,this)),bs(Rv,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(xs(Ev,this)&&null===xs(Dv,this)&&vs(Bv,this,Gv).call(this),this.isAttachedToDOM||this.parent.add(this))):xs(Ev,this)&&vs(Bv,this,Gv).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(xs(Nv,this)||xs(Tv,this)||xs(Pv,this)||xs(Mv,this)||xs(Ev,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),xs(Tv,this)?vs(Bv,this,Hv).call(this):vs(Bv,this,Gv).call(this),this.width&&!this.annotationElementId){const[n,s]=this.parentDimensions;this.setAt(e*n,t*s,this.width*n,this.height*s)}return this.div}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:s,height:i}=xs(Tv,this),a=new Da;let r=xs(Tv,this),o=s,l=i,c=null;if(t){var d,h;if(s>t||i>t){const e=Math.min(t/s,t/i);o=Math.floor(s*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);xs(Fv,this)||(r=vs(Bv,this,Vv).call(this,e,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let p="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":null!==(d=(h=window).matchMedia)&&void 0!==d&&d.call(h,"(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",m="#42414d");const g=15,f=g*a.sx,v=g*a.sy,y=new OffscreenCanvas(2*f,2*v),x=y.getContext("2d");x.fillStyle=p,x.fillRect(0,0,2*f,2*v),x.fillStyle=m,x.fillRect(0,0,f,v),x.fillRect(f,v,f,v),u.fillStyle=u.createPattern(y,"repeat"),u.fillRect(0,0,e,n),u.drawImage(r,0,0,r.width,r.height,0,0,e,n)}let u=null;if(n){let t,n;if(a.symmetric&&r.width<e&&r.height<e)t=r.width,n=r.height;else if(r=xs(Tv,this),s>e||i>e){const a=Math.min(e/s,e/i);t=Math.floor(s*a),n=Math.floor(i*a),xs(Fv,this)||(r=vs(Bv,this,Vv).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(r,0,0,r.width,r.height,0,0,t,n),u={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:u}}getImageForAltText(){return xs(Dv,this)}static async deserialize(e,t,n){let s=null;if(e instanceof lm){var i;const{data:{rect:a,rotation:r,id:o,structParent:l,popupRef:c},container:d,parent:{page:{pageNumber:h}}}=e,u=d.querySelector("canvas"),p=n.imageManager.getFromCanvas(d.id,u);u.remove();const m=(null===(i=await t._structTree.getAriaAttributes("".concat(ia).concat(o)))||void 0===i?void 0:i.get("aria-label"))||"";s=e={annotationType:Ks.STAMP,bitmapId:p.id,bitmap:p.bitmap,pageIndex:h-1,rect:a.slice(0),rotation:r,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:m},isSvg:!1,structParent:l,popupRef:c}}const a=await super.deserialize(e,t,n),{rect:r,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:d,accessibilityData:h}=e;c&&n.imageManager.isValidId(c)?(bs(Ev,a,c),o&&bs(Tv,a,o)):bs(Pv,a,l),bs(Fv,a,d);const[u,p]=a.pageDimensions;return a.width=(r[2]-r[0])/u,a.height=(r[3]-r[1])/p,a.annotationElementId=e.id||null,h&&(a.altTextData=h),a._initialData=s,bs(Iv,a,!!s),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Ks.STAMP,bitmapId:xs(Ev,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:xs(Fv,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=vs(Bv,this,Kv).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:s,altText:i}=this.serializeAltText(!1);if(!s&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=vs(Bv,this,Qv).call(this,n);if(e.isSame)return null;var a;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const r=xs(Fv,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(xs(Ev,this))){if(xs(Fv,this)){const e=t.stamps.get(xs(Ev,this));r>e.area&&(e.area=r,e.serialized.bitmap.close(),e.serialized.bitmap=vs(Bv,this,Kv).call(this,!1))}}else t.stamps.set(xs(Ev,this),{area:r,serialized:n}),n.bitmap=vs(Bv,this,Kv).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function Uv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(bs(Tv,this,e.bitmap),t||(bs(Ev,this,e.id),bs(Fv,this,e.isSvg)),e.file&&bs(Ov,this,e.file.name),vs(Bv,this,Hv).call(this)):this.remove()}function zv(){if(bs(Nv,this,null),this._uiManager.enableWaiting(!1),xs(Dv,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&xs(Tv,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&xs(Tv,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Gv(){if(xs(Ev,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(xs(Ev,this)).then(e=>vs(Bv,this,Uv).call(this,e,!0)).finally(()=>vs(Bv,this,zv).call(this));if(xs(Pv,this)){const e=xs(Pv,this);return bs(Pv,this,null),this._uiManager.enableWaiting(!0),void bs(Nv,this,this._uiManager.imageManager.getFromUrl(e).then(e=>vs(Bv,this,Uv).call(this,e)).finally(()=>vs(Bv,this,zv).call(this)))}if(xs(Mv,this)){const e=xs(Mv,this);return bs(Mv,this,null),this._uiManager.enableWaiting(!0),void bs(Nv,this,this._uiManager.imageManager.getFromFile(e).then(e=>vs(Bv,this,Uv).call(this,e)).finally(()=>vs(Bv,this,zv).call(this)))}const e=document.createElement("input");e.type="file",e.accept=Ps.supportedTypesStr;const t=this._uiManager._signal;bs(Nv,this,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),vs(Bv,this,Uv).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>vs(Bv,this,zv).call(this))),e.click()}function Hv(){const{div:e}=this;let{width:t,height:n}=xs(Tv,this);const[s,i]=this.pageDimensions,a=.75;if(this.width)t=this.width*s,n=this.height*i;else if(t>a*s||n>a*i){const e=Math.min(a*s/t,a*i/n);t*=e,n*=e}const[r,o]=this.parentDimensions;this.setDims(t*r/s,n*o/i),this._uiManager.enableWaiting(!1);const l=bs(Dv,this,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),vs(Bv,this,qv).call(this,t,n),vs(Bv,this,Xv).call(this),xs(Iv,this)||(this.parent.addUndoableEditor(this),bs(Iv,this,!0)),this._reportTelemetry({action:"inserted_image"}),xs(Ov,this)&&l.setAttribute("aria-label",xs(Ov,this))}function Yv(e,t){var n;const[s,i]=this.parentDimensions;this.width=e/s,this.height=t/i,null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==xs(Rv,this)&&clearTimeout(xs(Rv,this));bs(Rv,this,setTimeout(()=>{bs(Rv,this,null),vs(Bv,this,qv).call(this,e,t)},200))}function Vv(e,t){const{width:n,height:s}=xs(Tv,this);let i=n,a=s,r=xs(Tv,this);for(;i>2*e||a>2*t;){const n=i,s=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(r,0,0,n,s,0,0,i,a),r=o.transferToImageBitmap()}return r}function qv(e,t){const n=new Da,s=Math.ceil(e*n.sx),i=Math.ceil(t*n.sy),a=xs(Dv,this);if(!a||a.width===s&&a.height===i)return;a.width=s,a.height=i;const r=xs(Fv,this)?xs(Tv,this):vs(Bv,this,Vv).call(this,s,i),o=a.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(r,0,0,r.width,r.height,0,0,s,i)}function Kv(e){if(e){if(xs(Fv,this)){const e=this._uiManager.imageManager.getSvgUrl(xs(Ev,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=xs(Tv,this));return e.getContext("2d").drawImage(xs(Tv,this),0,0),e.toDataURL()}if(xs(Fv,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*ga.PDF_TO_CSS_UNITS),s=Math.round(this.height*t*ga.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,s);return i.getContext("2d").drawImage(xs(Tv,this),0,0,xs(Tv,this).width,xs(Tv,this).height,0,0,n,s),i.transferToImageBitmap()}return structuredClone(xs(Tv,this))}function Xv(){this._uiManager._signal&&(bs(Lv,this,new ResizeObserver(e=>{const t=e[0].contentRect;t.width&&t.height&&vs(Bv,this,Yv).call(this,t.width,t.height)})),xs(Lv,this).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;null===(e=xs(Lv,this))||void 0===e||e.disconnect(),bs(Lv,this,null)},{once:!0}))}function Qv(e){var t;const{rect:n,pageIndex:s,accessibilityData:{altText:i}}=this._initialData,a=e.rect.every((e,t)=>Math.abs(e-n[t])<1),r=e.pageIndex===s,o=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:a&&r&&o,isSameAltText:o}}Ps=Wv,l(Wv,"_type","stamp"),l(Wv,"_editorType",Ks.STAMP);var Jv=new WeakMap,Zv=new WeakMap,$v=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,sy=new WeakMap,iy=new WeakMap,ay=new WeakMap,ry=new WeakMap,oy=new WeakMap,ly=new WeakMap,cy=new WeakSet;class dy{constructor(e){let{uiManager:t,pageIndex:n,div:s,structTreeLayer:i,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;gs(this,cy),fs(this,Jv,void 0),fs(this,Zv,!1),fs(this,$v,null),fs(this,ey,null),fs(this,ty,null),fs(this,ny,new Map),fs(this,sy,!1),fs(this,iy,!1),fs(this,ay,!1),fs(this,ry,null),fs(this,oy,null),fs(this,ly,void 0);const h=[...fy._.values()];if(!dy._initialized){dy._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),bs(ly,this,t),this.pageIndex=n,this.div=s,bs(Jv,this,a),bs($v,this,r),this.viewport=c,bs(ry,this,l),this.drawLayer=o,this._structTree=i,xs(ly,this).addLayer(this)}get isEmpty(){return 0===xs(ny,this).size}get isInvisible(){return this.isEmpty&&xs(ly,this).getMode()===Ks.NONE}updateToolbar(e){xs(ly,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs(ly,this).getMode();switch(vs(cy,this,gy).call(this),e){case Ks.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Ks.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Ks.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of fy._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=xs(ry,this))||void 0===t?void 0:t.div)}addInkEditorIfNeeded(e){if(xs(ly,this).getMode()!==Ks.INK)return;if(!e)for(const t of xs(ny,this).values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){xs(ly,this).setEditingState(e)}addCommands(e){xs(ly,this).addCommands(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=xs($v,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of xs(ny,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(xs(ly,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!xs($v,this))return;const t=xs($v,this).getEditableAnnotations();for(const n of t){if(n.hide(),xs(ly,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){bs(ay,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of xs(ny,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if(xs($v,this)){const n=xs($v,this).getEditableAnnotations();for(const s of n){const{id:n}=s.data;if(xs(ly,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(s),i.show(!1),s.show()):(i=e.get(n),i&&(xs(ly,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(s)&&i.show(!1)),s.show())}}vs(cy,this,gy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of fy._.values())s.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),bs(ay,this,!1)}getEditableAnnotation(e){var t;return(null===(t=xs($v,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){xs(ly,this).getActive()!==e&&xs(ly,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=xs(ry,this))&&void 0!==e&&e.div&&!xs(oy,this)){bs(oy,this,new AbortController);const e=xs(ly,this).combinedSignal(xs(oy,this));xs(ry,this).div.addEventListener("pointerdown",vs(cy,this,hy).bind(this),{signal:e}),xs(ry,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=xs(ry,this))&&void 0!==e&&e.div&&xs(oy,this)&&(xs(oy,this).abort(),bs(oy,this,null),xs(ry,this).div.classList.remove("highlighting"))}enableClick(){if(xs(ey,this))return;bs(ey,this,new AbortController);const e=xs(ly,this).combinedSignal(xs(ey,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;null===(e=xs(ey,this))||void 0===e||e.abort(),bs(ey,this,null)}attach(e){xs(ny,this).set(e.id,e);const{annotationElementId:t}=e;t&&xs(ly,this).isDeletedAnnotationElement(t)&&xs(ly,this).removeDeletedAnnotationElement(e)}detach(e){var t;xs(ny,this).delete(e.id),null===(t=xs(Jv,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!xs(ay,this)&&e.annotationElementId&&xs(ly,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),xs(ly,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,xs(iy,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(xs(ly,this).addDeletedAnnotationElement(e.annotationElementId),fl.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),xs(ly,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),xs(ly,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!xs(ty,this)&&(e._focusEventsAllowed=!1,bs(ty,this,setTimeout(()=>{bs(ty,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:xs(ly,this)._signal}),n.focus())},0))),e._structTreeParentId=null===(t=xs(Jv,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return xs(ly,this).getId()}combinedSignal(e){return xs(ly,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=ys(cy,this,uy))||void 0===e?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){xs(ly,this).updateToolbar(e),xs(ly,this).updateMode(e);const{offsetX:n,offsetY:s}=vs(cy,this,my).call(this),i=this.getNextId(),a=vs(cy,this,py).call(this,d({parent:this,id:i,x:n,y:s,uiManager:xs(ly,this),isCentered:!0},t));a&&this.add(a)}async deserialize(e){var t,n;return await(null===(t=fy._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,xs(ly,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getNextId(),i=vs(cy,this,py).call(this,d({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:xs(ly,this),isCentered:t},n));return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(vs(cy,this,my).call(this),!0)}setSelected(e){xs(ly,this).setSelected(e)}toggleSelected(e){xs(ly,this).toggleSelected(e)}unselect(e){xs(ly,this).unselect(e)}pointerup(e){const{isMac:t}=Qi.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&xs(sy,this)&&(bs(sy,this,!1),xs(Zv,this)?xs(ly,this).getMode()!==Ks.STAMP?this.createAndAddNewEditor(e,!1):xs(ly,this).unselectAll():bs(Zv,this,!0))}pointerdown(e){if(xs(ly,this).getMode()===Ks.HIGHLIGHT&&this.enableTextSelection(),xs(sy,this))return void bs(sy,this,!1);const{isMac:t}=Qi.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;bs(sy,this,!0);const n=xs(ly,this).getActive();bs(Zv,this,!n||n.isEmpty())}findNewParent(e,t,n){const s=xs(ly,this).findParent(t,n);return null!==s&&s!==this&&(s.changeParent(e),!0)}destroy(){var e;(null===(e=xs(ly,this).getActive())||void 0===e?void 0:e.parent)===this&&(xs(ly,this).commitOrRemove(),xs(ly,this).setActiveEditor(null)),xs(ty,this)&&(clearTimeout(xs(ty,this)),bs(ty,this,null));for(const n of xs(ny,this).values()){var t;null===(t=xs(Jv,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,xs(ny,this).clear(),xs(ly,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,Oa(this.div,t);for(const n of xs(ly,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;xs(ly,this).commitOrRemove(),vs(cy,this,gy).call(this);const n=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Oa(this.div,{rotation:s}),n!==s)for(const i of xs(ny,this).values())i.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return xs(ly,this).viewParameters.realScale}}function hy(e){xs(ly,this).unselectAll();const{target:t}=e;if(t===xs(ry,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&xs(ry,this).div.contains(t)){const{isMac:t}=Qi.platform;if(0!==e.button||e.ctrlKey&&t)return;xs(ly,this).showAllEditors("highlight",!0,!0),xs(ry,this).div.classList.add("free"),this.toggleDrawing(),_f.startHighlighting(this,"ltr"===xs(ly,this).direction,{target:xs(ry,this).div,x:e.x,y:e.y}),xs(ry,this).div.addEventListener("pointerup",()=>{xs(ry,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:xs(ly,this)._signal}),e.preventDefault()}}function uy(e){return fy._.get(xs(ly,e).getMode())}function py(e){const t=ys(cy,this,uy);return t?new t.prototype.constructor(e):null}function my(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),r=(i+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+s))/2-t,[l,c]=this.viewport.rotation%180===0?[r,o]:[o,r];return{offsetX:l,offsetY:c}}function gy(){bs(iy,this,!0);for(const e of xs(ny,this).values())e.isEmpty()&&e.remove();bs(iy,this,!1)}l(dy,"_initialized",!1);var fy={_:new Map([Tm,$f,Wv,_f].map(e=>[e._editorType,e]))},vy=new WeakMap,yy=new WeakMap,xy=new WeakMap,by=new WeakMap,wy=new WeakSet;class _y{constructor(e){let{pageIndex:t}=e;gs(this,wy),fs(this,vy,null),fs(this,yy,0),fs(this,xy,new Map),fs(this,by,new Map),this.pageIndex=t}setParent(e){if(xs(vy,this)){if(xs(vy,this)!==e){if(xs(xy,this).size>0)for(const t of xs(xy,this).values())t.remove(),e.append(t);bs(vy,this,e)}}else bs(vy,this,e)}static get _svgFactory(){return Ii(this,"_svgFactory",new Gu)}draw(e,t,n){var s,i;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=(bs(yy,this,(s=xs(yy,this),i=s++,s)),i),o=vs(wy,this,ky).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=_y._svgFactory.createElement("defs");o.append(l);const c=_y._svgFactory.createElement("path");l.append(c);const d="path_p".concat(this.pageIndex,"_").concat(r);c.setAttribute("id",d),c.setAttribute("d",e.toSVGPath()),a&&xs(by,this).set(r,c);const h=vs(wy,this,Cy).call(this,l,d),u=_y._svgFactory.createElement("use");return o.append(u),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),u.setAttribute("href","#".concat(d)),xs(xy,this).set(r,o),{id:r,clipPathId:"url(#".concat(h,")")}}drawOutline(e){var t,n;const s=(bs(yy,this,(t=xs(yy,this),n=t++,t)),n),i=vs(wy,this,ky).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const a=_y._svgFactory.createElement("defs");i.append(a);const r=_y._svgFactory.createElement("path");a.append(r);const o="path_p".concat(this.pageIndex,"_").concat(s);let l;if(r.setAttribute("id",o),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke"),e.mustRemoveSelfIntersections){const e=_y._svgFactory.createElement("mask");a.append(e),l="mask_p".concat(this.pageIndex,"_").concat(s),e.setAttribute("id",l),e.setAttribute("maskUnits","objectBoundingBox");const t=_y._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=_y._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=_y._svgFactory.createElement("use");i.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),xs(xy,this).set(s,i),s}finalizeLine(e,t){const n=xs(by,this).get(e);xs(by,this).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){xs(xy,this).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){xs(by,this).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Sy.call(_y,xs(xy,this).get(e),t)}show(e,t){xs(xy,this).get(e).classList.toggle("hidden",!t)}rotate(e,t){xs(xy,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){xs(xy,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){xs(xy,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){xs(xy,this).get(e).classList.add(t)}removeClass(e,t){xs(xy,this).get(e).classList.remove(t)}getSVGRoot(e){return xs(xy,this).get(e)}remove(e){xs(by,this).delete(e),null!==xs(vy,this)&&(xs(xy,this).get(e).remove(),xs(xy,this).delete(e))}destroy(){bs(vy,this,null);for(const e of xs(xy,this).values())e.remove();xs(xy,this).clear(),xs(by,this).clear()}}function Sy(e){let{x:t=0,y:n=0,width:s=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:a}=e;a.top="".concat(100*n,"%"),a.left="".concat(100*t,"%"),a.width="".concat(100*s,"%"),a.height="".concat(100*i,"%")}function ky(e){const t=Ms._svgFactory.create(1,1,!0);return xs(vy,this).append(t),t.setAttribute("aria-hidden",!0),Sy.call(Ms,t,e),t}function Cy(e,t){const n=Ms._svgFactory.createElement("clipPath");e.append(n);const s="clip_".concat(t);n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Ms._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),s}Ms=_y;var Ay=Ds.AnnotationLayer,jy=Ds.AnnotationMode,Ty=Ds.GlobalWorkerOptions,Ey=Ds.PDFDataRangeTransport,Ny=Ds.TextLayer,Py=Ds.getDocument,My=Ds.version;function Oy(e){var t=!1;return{promise:new Promise(function(n,s){e.then(function(e){return!t&&n(e)}).catch(function(e){return!t&&s(e)})}),cancel:function(){t=!0}}}var Dy=function(e,t,n){if(n||2===arguments.length)for(var s,i=0,a=t.length;i<a;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Ly=Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy(Dy([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Ry(e,t){var n={};return Ly.forEach(function(s){var i=e[s];i&&(n[s]=t?function(e){return i(e,t(s))}:i)}),n}function Fy(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Fy(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}const Iy=function(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Fy(e))&&(s&&(s+=" "),s+=t);return s};function By(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach(function(t){"function"===typeof t?t(e):t&&(t.current=e)})}}var Wy="Invariant failed";function Uy(e,t){if(!e)throw new Error(Wy)}var zy=n(6440);const Gy=(0,s.createContext)(null);function Hy(e){let{children:t,type:n}=e;return(0,qt.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:t})}const Yy={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Vy=/^H(\d+)$/;function qy(e){return"children"in e}function Ky(e){return!!qy(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function Xy(e){const t={};if(qy(e)){const{role:n}=e,s=n.match(Vy);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(function(e){return e in Yy}(n)){const e=Yy[n];e&&(t.role=e)}}return t}function Qy(e){const t={};if(qy(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),Ky(e)){const[n]=e.children;if(n){const e=Qy(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Jy(e){return e?Object.assign(Object.assign({},Xy(e)),Qy(e)):null}function Zy(e){let{className:t,node:n}=e;const i=(0,s.useMemo)(()=>Jy(n),[n]),a=(0,s.useMemo)(()=>qy(n)?Ky(n)?null:n.children.map((e,t)=>(0,qt.jsx)(Zy,{node:e},t)):null,[n]);return(0,qt.jsx)("span",Object.assign({className:t},i,{children:a}))}function $y(){return(0,s.useContext)(Gy)}function ex(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function tx(){return(0,s.useReducer)(ex,{value:void 0,error:void 0})}const nx="undefined"!==typeof window,sx=nx&&"file:"===window.location.protocol;function ix(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function ax(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function rx(e){Uy(ax(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function ox(){return nx&&window.devicePixelRatio||1}const lx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function cx(){zy(!sx,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(lx))}function dx(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function hx(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function ux(){const e=$y();Uy(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,a]=tx(),{value:r,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,s.useEffect)(function(){a({type:"RESET"})},[a,c]),(0,s.useEffect)(function(){if(l)return;if(!c)return;const e=Oy(c.getStructTree()),t=e;return e.promise.then(e=>{a({type:"RESOLVE",value:e})}).catch(e=>{a({type:"REJECT",error:e})}),()=>dx(t)},[l,c,a]),(0,s.useEffect)(()=>{void 0!==r&&(!1!==r?r&&n&&n(r):o&&(zy(!1,o.toString()),t&&t(o)))},[r]),r?(0,qt.jsx)(Zy,{className:"react-pdf__Page__structTree structTree",node:r}):null}const px=jy;function mx(e){const t=$y();Uy(t);const n=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:a,devicePixelRatio:r=ox(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:h,rotate:u,scale:p}=n,{canvasRef:m}=e;Uy(c);const g=(0,s.useRef)(null);function f(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(zy(!1,e.toString()),o&&o(e))}const v=(0,s.useMemo)(()=>c.getViewport({scale:p*r,rotation:u}),[r,c,u,p]),y=(0,s.useMemo)(()=>c.getViewport({scale:p,rotation:u}),[c,u,p]);(0,s.useEffect)(function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(y.width),"px"),e.style.height="".concat(Math.floor(y.height),"px"),e.style.visibility="hidden";const t={annotationMode:d?px.ENABLE_FORMS:px.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};a&&(t.background=a);const n=c.render(t),s=n;return n.promise.then(()=>{e.style.visibility="",c&&l&&l(hx(c,p))}).catch(f),()=>dx(s)},[a,c,d,v,y]);const x=(0,s.useCallback)(()=>{const{current:e}=g;e&&(e.width=0,e.height=0)},[]);return(0,s.useEffect)(()=>x,[x]),(0,qt.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:By(m,g),style:{display:"block",userSelect:"none"},children:h?(0,qt.jsx)(ux,{}):null})}function gx(){const e=$y();Uy(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:r,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:h}=e;Uy(o);const[u,p]=tx(),{value:m,error:g}=u,f=(0,s.useRef)(null);zy(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,s.useEffect)(function(){p({type:"RESET"})},[o,p]),(0,s.useEffect)(function(){if(!o)return;const e=Oy(o.getTextContent()),t=e;return e.promise.then(e=>{p({type:"RESOLVE",value:e})}).catch(e=>{p({type:"REJECT",error:e})}),()=>dx(t)},[o,p]),(0,s.useEffect)(()=>{void 0!==m&&(!1!==m?m&&i&&i(m):g&&(zy(!1,g.toString()),n&&n(g)))},[m]);const v=(0,s.useCallback)(()=>{r&&r()},[r]),y=(0,s.useCallback)(e=>{zy(!1,e.toString()),a&&a(e)},[a]);const x=(0,s.useMemo)(()=>o.getViewport({scale:h,rotation:d}),[o,d,h]);return(0,s.useLayoutEffect)(function(){if(!o||!m)return;const{current:e}=f;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),s=new Ny({container:e,textContentSource:n,viewport:x}),i=s;return s.render().then(()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const s=e.querySelectorAll('[role="presentation"]');if(t){let e=0;m.items.forEach((n,i)=>{if(!function(e){return"str"in e}(n))return;const a=s[e];if(!a)return;const r=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:i},n));a.innerHTML=r,e+=n.str&&n.hasEOL?2:1})}v()}).catch(y),()=>dx(i)},[t,y,v,o,l,c,m,x]),(0,qt.jsx)("div",{className:Iy("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=f.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=f.current;e&&e.classList.add("selecting")},ref:f})}const fx=(0,s.createContext)(null);function vx(){return(0,s.useContext)(fx)}function yx(){const e=vx(),t=$y();Uy(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:u,rotate:p,scale:m=1}=n;Uy(h),Uy(d),Uy(a);const[g,f]=tx(),{value:v,error:y}=g,x=(0,s.useRef)(null);zy(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,s.useEffect)(function(){f({type:"RESET"})},[f,d]),(0,s.useEffect)(function(){if(!d)return;const e=Oy(d.getAnnotations()),t=e;return e.promise.then(e=>{f({type:"RESOLVE",value:e})}).catch(e=>{f({type:"REJECT",error:e})}),()=>{dx(t)}},[f,d]),(0,s.useEffect)(()=>{void 0!==v&&(!1!==v?v&&o&&o(v):y&&(zy(!1,y.toString()),r&&r(y)))},[v]);const b=(0,s.useMemo)(()=>d.getViewport({scale:m,rotation:p}),[d,p,m]);return(0,s.useEffect)(function(){if(!h||!d||!a||!v)return;const{current:e}=x;if(!e)return;const t=b.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:d,structTreeLayer:null,viewport:t},s={annotations:v,annotationStorage:h.annotationStorage,div:e,imageResourcesPath:i,linkService:a,page:d,renderForms:u,viewport:t};e.innerHTML="";try{new Ay(n).render(s),c&&c()}catch(r){!function(e){zy(!1,"".concat(e)),l&&l(e)}(r)}return()=>{}},[v,i,a,d,h,u,b]),(0,qt.jsx)("div",{className:Iy("react-pdf__Page__annotations","annotationLayer"),ref:x})}var xx=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};const bx=1;function wx(e){const t=vx(),n=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:r,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:h,devicePixelRatio:u,error:p="Failed to load the page.",height:m,inputRef:g,loading:f="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:w,onGetTextError:_,onGetTextSuccess:S,onLoadError:k,onLoadSuccess:C,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:j,onRenderError:T,onRenderSuccess:E,onRenderTextLayerError:N,onRenderTextLayerSuccess:P,pageIndex:M,pageNumber:O,pdf:D,registerPage:L,renderAnnotationLayer:R=!0,renderForms:F=!1,renderMode:I="canvas",renderTextLayer:B=!0,rotate:W,scale:U=bx,unregisterPage:z,width:G}=n,H=xx(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Y,V]=tx(),{value:q,error:K}=Y,X=(0,s.useRef)(null);Uy(D);const Q=ix(O)?O-1:null!==M&&void 0!==M?M:null,J=null!==O&&void 0!==O?O:ix(M)?M+1:null,Z=null!==W&&void 0!==W?W:q?q.rotate:null,$=(0,s.useMemo)(()=>{if(!q)return null;let e=1;const t=null!==U&&void 0!==U?U:bx;if(G||m){const t=q.getViewport({scale:1,rotation:Z});G?e=G/t.width:m&&(e=m/t.height)}return t*e},[m,q,Z,U,G]);(0,s.useEffect)(function(){return()=>{ix(Q)&&a&&z&&z(Q)}},[a,D,Q,z]),(0,s.useEffect)(function(){V({type:"RESET"})},[V,D,Q]),(0,s.useEffect)(function(){if(!D||!J)return;const e=Oy(D.getPage(J)),t=e;return e.promise.then(e=>{V({type:"RESOLVE",value:e})}).catch(e=>{V({type:"REJECT",error:e})}),()=>dx(t)},[V,D,J]),(0,s.useEffect)(()=>{void 0!==q&&(!1!==q?function(){if(C){if(!q||!$)return;C(hx(q,$))}if(a&&L){if(!ix(Q)||!X.current)return;L(Q,X.current)}}():K&&(zy(!1,K.toString()),k&&k(K)))},[q,$]);const ee=(0,s.useMemo)(()=>q&&ix(Q)&&J&&ix(Z)&&ix($)?{_className:i,canvasBackground:r,customTextRenderer:h,devicePixelRatio:u,onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:w,onGetTextError:_,onGetTextSuccess:S,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:j,onRenderError:T,onRenderSuccess:E,onRenderTextLayerError:N,onRenderTextLayerSuccess:P,page:q,pageIndex:Q,pageNumber:J,renderForms:F,renderTextLayer:B,rotate:Z,scale:$}:null,[i,r,h,u,y,x,b,w,_,S,A,j,T,E,N,P,q,Q,J,F,B,Z,$]),te=(0,s.useMemo)(()=>Ry(H,()=>q?$?hx(q,$):void 0:q),[H,q,$]),ne="".concat(Q,"@").concat($,"/").concat(Z);function se(){switch(I){case"custom":return Uy(d),(0,qt.jsx)(d,{},"".concat(ne,"_custom"));case"none":return null;default:return(0,qt.jsx)(mx,{canvasRef:o},"".concat(ne,"_canvas"))}}return(0,qt.jsx)("div",Object.assign({className:Iy(i,c),"data-page-number":J,ref:By(g,X),style:{"--scale-factor":"".concat($),backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:J?null===D||void 0===q||null===q?(0,qt.jsx)(Hy,{type:"loading",children:"function"===typeof f?f():f}):!1===D||!1===q?(0,qt.jsx)(Hy,{type:"error",children:"function"===typeof p?p():p}):(0,qt.jsxs)(Gy.Provider,{value:ee,children:[se(),B?(0,qt.jsx)(gx,{},"".concat(ne,"_text")):null,R?(0,qt.jsx)(yx,{},"".concat(ne,"_annotations")):null,l]}):(0,qt.jsx)(Hy,{type:"no-data",children:"function"===typeof v?v():v})}))}var _x=Object.prototype.hasOwnProperty;function Sx(e,t,n){for(n of e.keys())if(kx(n,t))return n}function kx(e,t){var n,s,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&kx(e[s],t[s]););return-1===s}if(n===Set){if(e.size!==t.size)return!1;for(s of e){if((i=s)&&"object"===typeof i&&!(i=Sx(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e){if((i=s[0])&&"object"===typeof i&&!(i=Sx(t,i)))return!1;if(!kx(s[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return-1===s}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return-1===s}if(!n||"object"===typeof e){for(n in s=0,e){if(_x.call(e,n)&&++s&&!_x.call(t,n))return!1;if(!(n in t)||!kx(e[n],t[n]))return!1}return Object.keys(t).length===s}}return e!==e&&t!==t}class Cx{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Uy(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Uy(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Uy(this.pdfDocument),Uy(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(e=>{Uy(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise(e=>{Uy(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(t=>{e(t)}).catch(()=>{Uy(!1,'"'.concat(t,'" is not a valid page reference.'))}):"number"===typeof t?e(t):Uy(!1,'"'.concat(t,'" is not a valid destination reference.'))}).then(t=>{const n=t+1;Uy(this.pdfViewer),Uy(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Uy(this.pdfViewer),Uy(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ax={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var jx=function(e,t,n,s){return new(n||(n=Promise))(function(i,a){function r(e){try{l(s.next(e))}catch(Cw){a(Cw)}}function o(e){try{l(s.throw(e))}catch(Cw){a(Cw)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,t||[])).next())})},Tx=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};const{Tm:Ex}=e,Nx=(e,t)=>{switch(t){case Ax.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Ax.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function Px(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const Mx=(0,s.forwardRef)(function(e,t){var{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF\u2026",noData:u="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:g,onLoadSuccess:f,onPassword:v=Nx,onSourceError:y,onSourceSuccess:x,options:b,renderMode:w,rotate:_}=e,S=Tx(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[k,C]=tx(),{value:A,error:j}=k,[T,E]=tx(),{value:N,error:P}=T,M=(0,s.useRef)(new Cx),O=(0,s.useRef)([]),D=(0,s.useRef)(void 0),L=(0,s.useRef)(void 0);l&&l!==D.current&&Px(l)&&(zy(!kx(l,D.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),D.current=l),b&&b!==L.current&&(zy(!kx(b,L.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),L.current=b);const R=(0,s.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:s=n-1}=e;if(p)return void p({dest:t,pageIndex:s,pageNumber:n});const i=O.current[s];i?i.scrollIntoView():zy(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,s.useImperativeHandle)(t,()=>({linkService:M,pages:O,viewer:R}),[]),(0,s.useEffect)(function(){C({type:"RESET"})},[l,C]);const F=(0,s.useCallback)(()=>jx(this,void 0,void 0,function*(){if(!l)return null;if("string"===typeof l){if(ax(l)){return{data:rx(l)}}return cx(),{url:l}}if(l instanceof Ex)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(nx&&function(e){return Uy(nx),e instanceof Blob}(l)){const e=yield function(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return n(new Error("Error while reading a file."));t(s.result)},s.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},s.readAsArrayBuffer(e)})}(l);return{data:e}}if(Uy("object"===typeof l),Uy(Px(l)),"url"in l&&"string"===typeof l.url){if(ax(l.url)){const{url:e}=l,t=Tx(l,["url"]),n=rx(e);return Object.assign({data:n},t)}cx()}return l}),[l]);(0,s.useEffect)(()=>{const e=Oy(F());return e.promise.then(e=>{C({type:"RESOLVE",value:e})}).catch(e=>{C({type:"REJECT",error:e})}),()=>{dx(e)}},[F,C]),(0,s.useEffect)(()=>{"undefined"!==typeof A&&(!1!==A?x&&x():j&&(zy(!1,j.toString()),y&&y(j)))},[A]),(0,s.useEffect)(function(){E({type:"RESET"})},[E,A]),(0,s.useEffect)(function(){if(!A)return;const e=b?Object.assign(Object.assign({},A),b):A,t=Py(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,s=n.promise.then(e=>{E({type:"RESOLVE",value:e})}).catch(e=>{n.destroyed||E({type:"REJECT",error:e})});return()=>{s.finally(()=>n.destroy())}},[b,E,A]),(0,s.useEffect)(()=>{"undefined"!==typeof N&&(!1!==N?N&&(f&&f(N),O.current=new Array(N.numPages),M.current.setDocument(N)):P&&(zy(!1,P.toString()),m&&m(P)))},[N]),(0,s.useEffect)(function(){M.current.setViewer(R.current),M.current.setExternalLinkRel(r),M.current.setExternalLinkTarget(o)},[r,o]);const I=(0,s.useCallback)((e,t)=>{O.current[e]=t},[]),B=(0,s.useCallback)(e=>{delete O.current[e]},[]),W=(0,s.useMemo)(()=>({imageResourcesPath:d,linkService:M.current,onItemClick:p,pdf:N,registerPage:I,renderMode:w,rotate:_,unregisterPage:B}),[d,p,N,I,w,_,B]),U=(0,s.useMemo)(()=>Ry(S,()=>N),[S,N]);return(0,qt.jsx)("div",Object.assign({className:Iy("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},U,{children:l?void 0===N||null===N?(0,qt.jsx)(Hy,{type:"loading",children:"function"===typeof h?h():h}):!1===N?(0,qt.jsx)(Hy,{type:"error",children:"function"===typeof a?a():a}):(0,qt.jsx)(fx.Provider,{value:W,children:n}):(0,qt.jsx)(Hy,{type:"no-data",children:"function"===typeof u?u():u})}))}),Ox=Mx;Ty.workerSrc="//unpkg.com/pdfjs-dist@".concat(My,"/build/pdf.worker.min.mjs");const Dx=()=>{const[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0),[a,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(0),c=(0,s.useRef)(null),d=e=>{let{pageNumber:t}=e;return(0,qt.jsx)("div",{className:"pdf-page-container",children:(0,qt.jsx)(wx,{pageNumber:t,width:1080,renderMode:"canvas",renderTextLayer:!1,renderAnnotationLayer:!1})})};return(0,qt.jsxs)("div",{className:"deckContainer",children:[(0,qt.jsx)(rs,{style:{zIndex:"2"}}),(0,qt.jsx)("div",{className:"deckheader",children:(0,qt.jsxs)("div",{className:"decklogoandtitle",children:[(0,qt.jsx)("img",{src:os,alt:"Stech Logo",className:"deckheaderlogo"}),(0,qt.jsx)("h1",{className:"decktitle",children:"IR Deck"})]})}),(0,qt.jsx)("div",{className:"deckmain",children:(0,qt.jsxs)("div",{className:"pdfViewer",ref:c,children:[n&&(0,qt.jsx)("div",{className:"pdf-loading-container",children:(0,qt.jsxs)("div",{className:"pdf-loading",children:[(0,qt.jsx)("div",{className:"loading-spinner"}),(0,qt.jsxs)("div",{className:"loading-text",children:["PDF \ub85c\ub529 \uc911... ",o,"%"]}),(0,qt.jsx)("div",{className:"loading-bar",children:(0,qt.jsx)("div",{className:"loading-progress",style:{width:"".concat(o,"%")}})})]})}),a&&(0,qt.jsxs)("div",{className:"pdf-error",children:[(0,qt.jsx)("p",{children:a}),(0,qt.jsx)("button",{onClick:()=>window.location.reload(),children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]}),(0,qt.jsx)(Ox,{file:"/pdf/KOR_Stech_Deck_Public.pdf",onLoadSuccess:e=>{let{numPages:n}=e;t(n),i(!1)},onLoadError:e=>{console.error("PDF \ub85c\ub4dc \uc5d0\ub7ec:",e),r("PDF\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),i(!1)},onLoadProgress:e=>{let{loaded:t,total:n}=e;l(Math.round(t/n*100))},loading:null,children:e&&Array.from(new Array(e),(e,t)=>(0,qt.jsx)(d,{pageNumber:t+1},"page_".concat(t+1)))})]})}),(0,qt.jsx)("div",{className:"deckmessage",children:(0,qt.jsxs)("p",{children:["Stech Pro\ub294 AI \uac1d\uccb4 \uc778\uc2dd \uae30\uc220\uc744 \uae30\ubc18\uc73c\ub85c, \uacbd\uae30 \uc601\uc0c1\uc744 \uc790\ub3d9 \ubd84\uc11d\ud574 \ucf54\uce58\uc640 \uc120\uc218\ub4e4\uc774 \ub354 \ube60\ub974\uace0 \uc815\ud655\ud55c \uc778\uc0ac\uc774\ud2b8\ub97c \uc5bb\uc744 \uc218 \uc788\ub3c4\ub85d \ub3d5\uc2b5\ub2c8\ub2e4."," ",(0,qt.jsx)("br",{}),"\uc9c0\uae08\uae4c\uc9c0\ub294 \uc218\uc791\uc5c5 \uc911\uc2ec\uc758 \ub370\uc774\ud130 \uc785\ub825\uacfc \uc9c0\uc5f0\ub41c \ubd84\uc11d \uacb0\uacfc \ub54c\ubb38\uc5d0 \ucf54\uce58\ub4e4\uc740 \uc804\ub7b5 \uc218\ub9bd\uacfc \ud604\uc7a5 \uc9c0\ub3c4\uc5d0 \uc9d1\uc911\ud558\uae30 \uc5b4\ub824\uc6e0\uc2b5\ub2c8\ub2e4. ",(0,qt.jsx)("br",{}),"Stech Pro\ub294 \uc774\ub7ec\ud55c \ud55c\uacc4\ub97c \ud574\uacb0\ud558\uba70, \ucf54\uce6d \ud6a8\uc728\uc744 \ud06c\uac8c \ud5a5\uc0c1\uc2dc\ud0b5\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),(0,qt.jsx)("br",{}),"\uc6b0\ub9ac\uc758 IR Deck\uc740 Stech\uc774 \ubc14\ub77c\ubcf4\ub294 \ubb38\uc81c\uc640 \ud574\uacb0 \ubc29\uc548, \uadf8\ub9ac\uace0 \uc6b0\ub9ac\uac00 \uc900\ube44\ud55c \uc2dc\uc7a5 \uae30\ud68c\xb7\uc81c\ud488\uacfc \uae30\uc220\xb7\ube44\uc988\ub2c8\uc2a4 \ubaa8\ub378\xb7\uc131\uc7a5 \ub85c\ub4dc\ub9f5\uc744 \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4. ",(0,qt.jsx)("br",{}),"\uae00\ub85c\ubc8c \uc2a4\ud3ec\uce20 \ub370\uc774\ud130 \ubd84\uc11d \uc2dc\uc7a5\uc740 \ube60\ub974\uac8c \uc131\uc7a5\ud558\uace0 \uc788\uc73c\uba70, Stech\uc740 Stech Pro\ub97c \ud55c\uad6d\uc2dc\uc7a5\uc5d0\uc11c \uac80\uc99d\uc744 \uac70\uccd0 \ubbf8\uad6d\uacfc \uc544\uc2dc\uc544 \uc2dc\uc7a5\uae4c\uc9c0 \ud655\uc7a5\ud560 \uacc4\ud68d\uc785\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),(0,qt.jsx)("br",{}),"\ud22c\uc790\uc790\uc640 \ud30c\ud2b8\ub108\ub294 IR Deck\uc744 \ud1b5\ud574 Stech\uc774 \uc5b4\ub5bb\uac8c \uc2a4\ud3ec\uce20 \ub370\uc774\ud130 \ud601\uc2e0\uc744 \uc8fc\ub3c4\ud558\uace0, \uc9c0\uc18d \uac00\ub2a5\ud55c \uc218\uc775 \ubaa8\ub378\uc744 \uad6c\ucd95\ud558\uba70, ",(0,qt.jsx)("br",{})," \uae00\ub85c\ubc8c \ub9ac\ub354\uc2ed\uc744 \ud655\ubcf4\ud558\ub824\ub294\uc9c0 \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),(0,qt.jsx)(sn,{})]})},Lx=()=>{const[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)({fullName:"",email:"",reason:"",message:""}),[a,r]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),c=[{question:"StechPro\ub294 \ubb34\uc2a8 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\ub098\uc694?",answer:"Stech Pro\ub294 \ucf54\uce58\uc640 \ud300\uc744 \uc704\ud55c \uac1d\uccb4\uc778\uc2dd AI \uae30\ubc18 \uc2a4\ud3ec\uce20 \ubd84\uc11d \ud50c\ub7ab\ud3fc\uc785\ub2c8\ub2e4. \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc\ud558\uba74 AI\uac00 \uc790\ub3d9\uc73c\ub85c \uac1d\uccb4\ub97c \uc778\uc2dd\ud558\uace0 \uacbd\uae30 \ub370\uc774\ud130\ub97c \ubd84\uc11d\ud574 \ub9ac\ud3ec\ud2b8\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4."},{question:"\uc5b4\ub5bb\uac8c \uc774\uc6a9\ud558\ub098\uc694?",answer:"\uacbd\uae30 \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc \ud558\uba74 AI\uac00 \uc790\ub3d9\uc73c\ub85c \ubd84\uc11d\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. \n \ubcc4\ub3c4\uc758 \uc7a5\ube44 \uc5c6\uc774 \ub370\uc774\ud130 \ubc0f \ubd84\uc11d \ub9ac\ud3ec\ud2b8\ub97c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "},{question:"StechPro\ub85c\ubd80\ud130 \uc5b4\ub5a4 \ub3c4\uc6c0\uc744 \ubc1b\uc744 \uc218 \uc788\ub098\uc694?",answer:"\ud50c\ub808\uc774 \uc720\ud615, \uc8fc\uc694 \uacbd\uae30 \uc0c1\ud669 \ub4f1\uc758 \ubd84\uc11d\uc744 \ud1b5\ud574 \uacbd\uae30 \ub370\uc774\ud130\uc640 \uc120\uc218 \ub370\uc774\ud130\ub97c \uad6c\uccb4\ud654\ud558\uace0 \ub9ac\ud3ec\ud2b8\ub97c \ud1b5\ud574 \uacbd\uae30 \ud53c\ub4dc\ubc31\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{question:"\ud2b9\ubcc4\ud55c \ucd2c\uc601 \uc7a5\ube44\uac00 \ud544\uc694\ud55c\uac00\uc694?",answer:"\uc77c\ubc18 \uc2a4\ub9c8\ud2b8\ud3f0, \ucea0\ucf54\ub354\ub85c \uc0ac\uc774\ub4dc\ub77c\uc778\uc5d0\uc11c \ucd2c\uc601\ud55c \uc601\uc0c1\uc744 \n\uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694."},{question:"\ubd84\uc11d \ub9ac\ud3ec\ud2b8\ub294 \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c \uc81c\uacf5\ub418\ub098\uc694?",answer:"\ud3ec\uc9c0\uc158\ubcc4 \uc6c0\uc9c1\uc784, \uc8fc\uc694 \uc2a4\ud0ef \ub4f1\uc774 \uc2dc\uac01\uc801\uc73c\ub85c \uc815\ub9ac\ub41c PDF \n\ub9ac\ud3ec\ud2b8\uc640 \ud568\uaed8, \ub300\uc2dc\ubcf4\ub4dc \uc0c1\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\ub294 \uc778\ud130\ub799\ud2f0\ube0c \n\ubd84\uc11d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."},{question:"\ubd84\uc11d\uc5d0 \uac78\ub9ac\ub294 \uc2dc\uac04\uc740 \uc5bc\ub9c8\ub098 \uac78\ub9ac\ub098\uc694?",answer:"\uc601\uc0c1 \uc5c5\ub85c\ub4dc \uc774\ud6c4 24\uc2dc\uac04 \uc774\ub0b4\uc5d0 \uc81c\uacf5\ub429\ub2c8\ub2e4. \n\uc601\uc0c1 \uae38\uc774\ub098 \ud654\uc9c8\uc5d0 \ub530\ub77c \uc18c\uc694 \uc2dc\uac04\uc740 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{question:"\uc5b4\ub5a4 \uc885\ubaa9\uc744 \uc9c0\uc6d0\ud558\ub098\uc694?",answer:"\ud604\uc7ac\ub294 \ubbf8\uc2dd\ucd95\uad6c\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \n\ucd94\ud6c4 \ud0c0 \uc885\ubaa9\ub3c4 \ud655\uc7a5 \uc608\uc815\uc785\ub2c8\ub2e4."},{question:"\uc11c\ube44\uc2a4 \uc774\uc6a9 \uc694\uae08\uc740 \uc5b4\ub5bb\uac8c \ub418\ub098\uc694?",answer:"\uacbd\uae30 \uc601\uc0c1 1\uac74 \ub2f9 \ubd84\uc11d \ub2e8\uc704\ub85c \uacfc\uae08\ub418\uba70, \uc815\uc561\uc81c \uc694\uae08\uc81c\ub098 \n\ud300 \ub2e8\uc704 \uc694\uae08\uc81c\ub3c4 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc694\uae08 \uc548\ub0b4 \n\ud398\uc774\uc9c0\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694."}],h=n=>{t(e===n?null:n)},u=e=>{const{id:t,value:n}=e.target;console.log("\uc785\ub825 \ubcc0\uacbd:",t,n),i(e=>d(d({},e),{},{[t]:n}))};return(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("div",{className:"contactContainer",children:[(0,qt.jsx)(rs,{style:{zIndex:"2"}}),(0,qt.jsxs)("section",{className:"contactSection",children:[(0,qt.jsxs)("div",{className:"contactHeader",children:[(0,qt.jsx)("h1",{children:"Hello We are"}),(0,qt.jsx)("img",{src:os,alt:"Stech Logo",className:"contactLogo"})]}),(0,qt.jsxs)("div",{className:"contactLinks",children:[(0,qt.jsxs)("a",{href:"mailto:ethos614@stechpro.ai",className:"contactLink",children:[(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgB7ZbbcdpAFIb/lVBA2JkhHcgVGDqADpwKDBUEPxgeDW8ReUCuANwBHZgOnFSASiATJ4JI7MlZCREuxlwMmvEM3xO77OXf85+zK+DEiXeCeKnzVz1V1CEuSdInHHxH+p79O+kLB8O1Qrw6LMDo8M8ijosrSd6ctSa9uENb/N94TECEwtKF1okOviTEYzvUACQEATmCUV0RMpFkIWE4Ly6xLOT826TLOptIDOoDegX/RS3i1TOWQNAmiCscB5dFVEw76M93ziLyfGvkVfKY9sjN2MFnlliJJh0Ozov7zPisEIv4XdOvVoQAMi9gPP2ppcMEMr/6XQ5diUD3eDPUn0gUsrZfFc5wqO4pr24MNKF9iUeklhTnhJBtHsQD/JKKDndX2S6H01mVtoUd4EMMQaKZbQVO2K4iN04bd7xPXC1uPFZbs4bFd8qABXViu0zbvxCEG2xpl7LBHJ9fZFt+KGLEh/PSqcGciAW0DeuV1SXn1Yxr1ciEi+olSXh4ZY7LMkqxDc+34NwzHlmAIyBy6yalsBmLE7fLi5XZrsrUrjInWo89bmNql7JBqCjYQSNsr9rwKpsiMk8xtKv24U411Duh7FLVJSU1BVKFWIRKxlHaeNpWhGKbiCwiqBFGh9AwW/5DVF2K4E2P5u5CImZ28al7UsifGml5tuea7cnts+C+QmKKvHFRp9hhgX3ZJUeOyknIMjMhuiZcJAwn+g8sC5m+iH0kRHQB6s6KkAj94E//OhFcafEtHfJivanvVymP8xFNOrlno4899Q7hxIn3yD/zOu+KpfZ6jAAAAABJRU5ErkJggg==",alt:"Email",className:"contacticon"})," ","ethos614@stechpro.ai"]}),(0,qt.jsxs)("a",{href:"tel:+821023887500",className:"contactLink",children:[(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJMSURBVHgB7ZffbRpBEMa/2bsDIhLFVGA6CB0AHYQKgiswLzF5s/MU4TxAKgiuIKSC0EFwB7gDrFgBfLCTWSLOnHX/AC8Plj/pdNzyne6n2dnZWeBFYdHjgT9tt+aA3slVMc9L8K2r0c999UewqBDI/Mw910QXUUbNulG8XA5gSWr94+6j14yDWBlJncKiAhBH4UOSUUJX4RaOYBtEVE4yMnB0l3crOABIulmrGixpOxDFVVjSViA282QrEJt5EoAwY5LlhZzLb2FBAYgiHmfwj/XCu4YFBSAauEkySn5IiXfqrzqzMayCaE7aS/r5edEaRAjE9+P3Ea3phnqTTDm0N0ipt0rWYZTJUXxqs7yHQIxk5fyMMpll+9fLtXAokPm935ePRk6Bicq0nbwfPRmImR7S/C3KaKJC8H4crLLO/EUvLioyXpnlvS4siKIGZ2deiwnd+JdokJ/fn1AvGtg0WZ6iqrSZI7mu33QWQ+wCYjRte7/kVkO8xrLopbaY+4Nmba8rkQslNoMnAj+S8UEcWAJIoSyts4EpI1l9AfpsgEwkpNP7jnSNxXeR++JfpYKsYRjL32JKTVAzXRq6JvfMyVyY+6X19Ca2Aaaka406EA5/lCT877eBMNpsKVL7kder84yTCWYfZWqM/m92Tl0zrmBJmTs0A1O89JuSDCd4oujkNQXLn7Cjpp+8piTGObBb2SfwoNBZNB6e99RUzsqaqakI1axQpsliOI3N/mZvkDBUoazZrzikjpeaS66i483/l8Atsx7aPEM/H/0DdY7a4BgaEegAAAAASUVORK5CYII=",alt:"phone",className:"contacticon"})," +82 10 2388 7500"]}),(0,qt.jsxs)("a",{href:"https://maps.app.goo.gl/9kVkpUNULNxzgyHS6",className:"contactLink",children:[(0,qt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJpSURBVHgB7ZfPcdpAFMa/lRCWjDNjOlAqCK4gpoKQCmJXYHww5Ga4Rc4hUIFxB+4AdRDSgVJBnEk8oJHYzVs8GTNY+0eyDj74d2FG7z3tt8vu91bAKy8Uhor8vfA6cHmHrVn4+DaxcNh6EURIUJJSQkQfh6tm80ww3mdgh5rUmAs+bV2tb2GJtZD7QbPHGL82CNhlBmRjmxWyEpIOGpecsRGqkZCYrkmMUcgzRViLcXTVyyHCGkRIQsC71iVohVDxHPVxvBx4n1BWyP3A7WEzEyMJnadYQNyZEgVDH2WFUKgHDbS5Fi7HURBlb4Mo7+5HeZsJnBtqOn+GjePC0ZRFDB+gJtlLW93m12yx/dC/yiY02qmmDq5gHdgK+UXGReqVfuE6GLHJXeFfEXzJZvQTq2ppgu9gK8Tf8/WmleOHLswFfmrCIWyFmFg7rnFjlqWSEM75iS7uMLxXxQTY78KaoodBtEoEoJy164gzaXZFMenE0Bx7wfnCWohEHk/lyzYb2ZtvG9SmMw+9byYnbjTFd8V4xSwvGiNa40vYkcDO/OCnWZtNnq62ckVWWT6BPaFl3qxIhFZI+6EgRo3kEDeqmOHUiDHqI34T5TGqCKEeIpvZFLXgaq3f6CNpmo+A8pfhbTjYWFqCLsfqqihv7I6Dua7/qKAVvaXO/NGUZ+WsB9RlqVmdozxJkB6c2iRaW/ymqxpa/K4I2hddVZeuLGRbjM7+JdKV/bR1ZNoXOzXlWQ79kHqwvM+GuzESOd2Psj5KUqn7PszU7dK94+ZRAN1ZabWqiJBU/vb9z/KzdyIEOkHaGtnuh1ds+AeJQ9IZgoVsJwAAAABJRU5ErkJggg==",alt:"location",className:"contacticon"})," ","\uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uc1a1\ud30c\uad6c \uc1a1\ud30c\ub300\ub85c"]})]}),(0,qt.jsxs)("form",{className:"contactForm",onSubmit:async e=>{if(e.preventDefault(),console.log("\uc81c\ucd9c\ud560 \ud3fc \ub370\uc774\ud130:",n),n.fullName&&n.email&&n.reason&&n.message){r(!0),l("");try{console.log("\uc804\uc1a1\ud560 \ub370\uc774\ud130:",d(d({},n),{},{timestamp:(new Date).toISOString()}));const e="https://api.stechpro.ai/api";console.log("API URL:",e);if(!(await fetch("".concat(e,"/contact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d(d({},n),{},{timestamp:(new Date).toISOString()}))})).ok)throw new Error("\uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");l("success"),i({fullName:"",email:"",reason:"",message:""}),alert("\ubb38\uc758\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")}catch(t){console.error("Contact form error:",t),l("error"),alert("\ubb38\uc758 \uc804\uc1a1 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}finally{r(!1)}}else alert("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:[(0,qt.jsxs)("div",{className:"ContactformGroup",children:[(0,qt.jsxs)("div",{className:"inputRow",children:[(0,qt.jsxs)("div",{className:"inputWrapper",children:[(0,qt.jsx)("label",{htmlFor:"fullName",children:"\uc774\ub984"}),(0,qt.jsx)("input",{type:"text",id:"fullName",value:n.fullName,onChange:u,placeholder:"Type here",required:!0})]}),(0,qt.jsxs)("div",{className:"inputWrapper",children:[(0,qt.jsx)("label",{htmlFor:"email",children:"\uc774\uba54\uc77c"}),(0,qt.jsx)("input",{type:"email",id:"email",value:n.email,onChange:u,placeholder:"Type here",required:!0})]})]}),(0,qt.jsxs)("div",{className:"inputWrapper",children:[(0,qt.jsx)("label",{htmlFor:"reason",children:"\ubb38\uc758\ud558\uc2dc\ub294 \uc774\uc720\uac00 \ubb34\uc5c7\uc785\ub2c8\uae4c?"}),(0,qt.jsx)("textarea",{id:"reason",value:n.reason,onChange:u,placeholder:"Type here",required:!0})]}),(0,qt.jsxs)("div",{className:"inputWrapper",children:[(0,qt.jsx)("label",{htmlFor:"message",children:"\ub0b4\uc6a9"}),(0,qt.jsx)("textarea",{id:"message",value:n.message,onChange:u,placeholder:"Type here",required:!0})]})]}),(0,qt.jsx)("button",{type:"submit",className:"contactsubmitButton",disabled:a,children:a?"\uc804\uc1a1 \uc911...":"\uc81c\ucd9c\ud558\uae30"})]})]}),(0,qt.jsxs)("section",{className:"faqSection",children:[(0,qt.jsxs)("div",{className:"faqContent",children:[(0,qt.jsx)("h2",{children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38 (FAQ)"}),(0,qt.jsxs)("p",{children:["\uc5ec\uc804\ud788 \uad81\uae08\ud558\uc2e0 \uc810\uc774 \uc788\uc73c\uc2e0\uac00\uc694?",(0,qt.jsx)("br",{}),"ethos614@stechpro.ai"]})]}),(0,qt.jsxs)("div",{className:"faqGrid",children:[(0,qt.jsx)("div",{className:"faqColumn",children:c.slice(0,4).map((t,n)=>{const i=t.answer.split("\n");return(0,qt.jsxs)("div",{className:"faqItem ".concat(e===n?"expanded":""),children:[(0,qt.jsxs)("div",{className:"faqHeader ".concat(e===n?"expanded":""),onClick:()=>h(n),children:[(0,qt.jsxs)("span",{className:"faqNumber",children:["0",n+1]}),(0,qt.jsx)("h4",{children:t.question}),(0,qt.jsx)("span",{className:"toggleIcon",children:e===n?"\u2014":"+"})]}),(0,qt.jsx)("div",{className:"faqBody ".concat(e===n?"expanded":""),children:(0,qt.jsx)("p",{children:i.map((e,t)=>(0,qt.jsxs)(s.Fragment,{children:[e,t<i.length-1&&(0,qt.jsx)("br",{})]},t))})})]},n)})}),(0,qt.jsx)("div",{className:"faqColumn",children:c.slice(4).map((t,n)=>{const i=n+4,a=t.answer.split("\n");return(0,qt.jsxs)("div",{className:"faqItem ".concat(e===i?"expanded":""),children:[(0,qt.jsxs)("div",{className:"faqHeader ".concat(e===i?"expanded":""),onClick:()=>h(i),children:[(0,qt.jsxs)("span",{className:"faqNumber",children:["0",n+5]}),(0,qt.jsx)("h4",{children:t.question}),(0,qt.jsx)("span",{className:"toggleIcon",children:e===i?"\u2014":"+"})]}),(0,qt.jsx)("div",{className:"faqBody ".concat(e===i?"expanded":""),children:(0,qt.jsx)("p",{children:a.map((e,t)=>(0,qt.jsxs)(s.Fragment,{children:[e,t<a.length-1&&(0,qt.jsx)("br",{})]},t))})})]},i)})})]})]})]}),(0,qt.jsx)(sn,{})]})},Rx=n.p+"static/media/stech.02fd9a2489aed7312826.png";var Fx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ix=s.createContext&&s.createContext(Fx),Bx=["attr","size","title"];function Wx(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ux.apply(this,arguments)}function zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zx(Object(n),!0).forEach(function(t){Hx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yx(e){return e&&e.map((e,t)=>s.createElement(e.tag,Gx({key:t},e.attr),Yx(e.child)))}function Vx(e){return t=>s.createElement(qx,Ux({attr:Gx({},e.attr)},t),Yx(e.child))}function qx(e){var t=t=>{var n,{attr:i,size:a,title:r}=e,o=Wx(e,Bx),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",Ux({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:n,style:Gx(Gx({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&s.createElement("title",null,r),e.children)};return void 0!==Ix?s.createElement(Ix.Consumer,null,e=>t(e)):t(Fx)}function Kx(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Login"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.944,18.432a2.577,2.577,0,0,1-2.729,2.5c-2.153.012-4.307,0-6.46,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.63a1.545,1.545,0,0,0-.969-1.471,3.027,3.027,0,0,0-1.061-.095H11.755a.5.5,0,0,1,0-1c2.225,0,4.465-.085,6.688,0a2.566,2.566,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M15.794,12.354a.459.459,0,0,0,.138-.312A.3.3,0,0,0,15.938,12a.29.29,0,0,0-.006-.041.455.455,0,0,0-.138-.313L12.125,7.978a.5.5,0,0,0-.707.707L14.234,11.5H3.492a.5.5,0,0,0,0,1H14.234l-2.816,2.815a.5.5,0,0,0,.707.707Z"},child:[]}]}]}]})(e)}function Xx(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(e)}function Qx(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"},child:[]}]})(e)}function Jx(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5c-3.81 0-6.5 2.743-6.5 6.119 0 1.536.632 2.572 1.425 3.56.172.215.347.422.527.635l.096.112c.21.25.427.508.63.774.404.531.783 1.128.995 1.834a.75.75 0 0 1-1.436.432c-.138-.46-.397-.89-.753-1.357a18.111 18.111 0 0 0-.582-.714l-.092-.11c-.18-.212-.37-.436-.555-.667C4.87 12.016 4 10.651 4 8.618 4 4.363 7.415 1 12 1s8 3.362 8 7.619c0 2.032-.87 3.397-1.755 4.5-.185.23-.375.454-.555.667l-.092.109c-.21.248-.405.481-.582.714-.356.467-.615.898-.753 1.357a.751.751 0 0 1-1.437-.432c.213-.706.592-1.303.997-1.834.202-.266.419-.524.63-.774l.095-.112c.18-.213.355-.42.527-.634.793-.99 1.425-2.025 1.425-3.561C18.5 5.243 15.81 2.5 12 2.5ZM8.75 18h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5Zm.75 3.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"},child:[]}]})(e)}function Zx(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.75 15a.75.75 0 0 1 .75.75v3.5c0 .138.112.25.25.25h3.5a.75.75 0 0 1 0 1.5h-3.5A1.75 1.75 0 0 1 3 19.25v-3.5a.75.75 0 0 1 .75-.75Zm16.5 0a.75.75 0 0 1 .75.75v3.5A1.75 1.75 0 0 1 19.25 21h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 .75-.75ZM4.75 4.5a.25.25 0 0 0-.25.25v3.5a.75.75 0 0 1-1.5 0v-3.5C3 3.784 3.784 3 4.75 3h3.5a.75.75 0 0 1 0 1.5ZM15 3.75a.75.75 0 0 1 .75-.75h3.5c.966 0 1.75.784 1.75 1.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1-.75-.75Z"},child:[]}]})(e)}function $x(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.75 3a.75.75 0 0 1 .75.75v3.5c0 .138.112.25.25.25h3.5a.75.75 0 0 1 0 1.5h-3.5A1.75 1.75 0 0 1 15 7.25v-3.5a.75.75 0 0 1 .75-.75Zm-7.5 0a.75.75 0 0 1 .75.75v3.5A1.75 1.75 0 0 1 7.25 9h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25v-3.5A.75.75 0 0 1 8.25 3ZM3 15.75a.75.75 0 0 1 .75-.75h3.5c.966 0 1.75.784 1.75 1.75v3.5a.75.75 0 0 1-1.5 0v-3.5a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1-.75-.75Zm12 1c0-.966.784-1.75 1.75-1.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v3.5a.75.75 0 0 1-1.5 0Z"},child:[]}]})(e)}function eb(e){return Vx({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814z"},child:[]},{tag:"path",attr:{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z"},child:[]}]})(e)}function tb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 21H3a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1zm7 0h-3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v17a1 1 0 0 1-1 1zm7 0h-3a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1z"},child:[]}]})(e)}function nb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zm-6.49-5.84c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66zm-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05z"},child:[]}]})(e)}function sb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.67 18.17-5.3-5.3h-.99l-2.54 2.54v.99l5.3 5.3c.39.39 1.02.39 1.41 0l2.12-2.12a.996.996 0 0 0 0-1.41zm-2.83 1.42-4.24-4.24.71-.71 4.24 4.24-.71.71z"},child:[]},{tag:"path",attr:{d:"m17.34 10.19 1.41-1.41 2.12 2.12a3 3 0 0 0 0-4.24l-3.54-3.54-1.41 1.41V1.71l-.7-.71-3.54 3.54.71.71h2.83l-1.41 1.41 1.06 1.06-2.89 2.89-4.13-4.13V5.06L4.83 2.04 2 4.87 5.03 7.9h1.41l4.13 4.13-.85.85H7.6l-5.3 5.3a.996.996 0 0 0 0 1.41l2.12 2.12c.39.39 1.02.39 1.41 0l5.3-5.3v-2.12l5.15-5.15 1.06 1.05zm-7.98 5.15-4.24 4.24-.71-.71 4.24-4.24.71.71z"},child:[]}]})(e)}function ib(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"13",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"13",r:"1"},child:[]},{tag:"path",attr:{d:"M18 11.03A6.04 6.04 0 0 0 12.05 6c-3.03 0-6.29 2.51-6.03 6.45a8.075 8.075 0 0 0 4.86-5.89c1.31 2.63 4 4.44 7.12 4.47z"},child:[]}]})(e)}function ab(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320 192 192m0 128 128-128"},child:[]}]})(e)}function rb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function ob(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M208 192v128m96-128v128"},child:[]}]})(e)}function lb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{d:"m216.32 334.44 114.45-69.14a10.89 10.89 0 0 0 0-18.6l-114.45-69.14a10.78 10.78 0 0 0-16.32 9.31v138.26a10.78 10.78 0 0 0 16.32 9.31z"},child:[]}]})(e)}function cb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m465.94 119.76-73.7-73.7A47.68 47.68 0 0 0 358.3 32H96a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V153.7a47.68 47.68 0 0 0-14.06-33.94zM120 112h176a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8H120a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8zm139.75 319.91a80 80 0 1 1 76.16-76.16 80.06 80.06 0 0 1-76.16 76.16z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"352",r:"48"},child:[]}]})(e)}function db(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function hb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",d:"M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8z"},child:[]},{tag:"path",attr:{d:"M432 96h-96V72a40 40 0 0 0-40-40h-80a40 40 0 0 0-40 40v24H80a16 16 0 0 0 0 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 0 0 0-32zM192.57 416H192a16 16 0 0 1-16-15.43l-8-224a16 16 0 1 1 32-1.14l8 224A16 16 0 0 1 192.57 416zM272 400a16 16 0 0 1-32 0V176a16 16 0 0 1 32 0zm32-304h-96V72a7.91 7.91 0 0 1 8-8h80a7.91 7.91 0 0 1 8 8zm32 304.57A16 16 0 0 1 320 416h-.58A16 16 0 0 1 304 399.43l8-224a16 16 0 1 1 32 1.14z"},child:[]}]})(e)}function ub(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M264 416.19a23.92 23.92 0 0 1-14.21-4.69l-.66-.51-91.46-75H88a24 24 0 0 1-24-24V200a24 24 0 0 1 24-24h69.65l91.46-75 .66-.51A24 24 0 0 1 288 119.83v272.34a24 24 0 0 1-24 24zM352 336a16 16 0 0 1-14.29-23.18c9.49-18.9 14.3-38 14.3-56.82 0-19.36-4.66-37.92-14.25-56.73a16 16 0 0 1 28.5-14.54C378.2 208.16 384 231.47 384 256c0 23.83-6 47.78-17.7 71.18A16 16 0 0 1 352 336z"},child:[]},{tag:"path",attr:{d:"M400 384a16 16 0 0 1-13.87-24C405 327.05 416 299.45 416 256c0-44.12-10.94-71.52-29.83-103.95A16 16 0 0 1 413.83 136C434.92 172.16 448 204.88 448 256c0 50.36-13.06 83.24-34.12 120a16 16 0 0 1-13.88 8z"},child:[]}]})(e)}function pb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M416 432 64 80"},child:[]},{tag:"path",attr:{d:"M243.33 98.86a23.89 23.89 0 0 0-25.55 1.82l-.66.51-28.52 23.35a8 8 0 0 0-.59 11.85l54.33 54.33a8 8 0 0 0 13.66-5.66v-64.49a24.51 24.51 0 0 0-12.67-21.71zm8 236.43L96.69 180.69A16 16 0 0 0 85.38 176H56a24 24 0 0 0-24 24v112a24 24 0 0 0 24 24h69.76l92 75.31a23.9 23.9 0 0 0 25.87 1.69A24.51 24.51 0 0 0 256 391.45v-44.86a16 16 0 0 0-4.67-11.3zM352 256c0-24.56-5.81-47.87-17.75-71.27a16 16 0 1 0-28.5 14.55C315.34 218.06 320 236.62 320 256q0 4-.31 8.13a8 8 0 0 0 2.32 6.25l14.36 14.36a8 8 0 0 0 13.55-4.31A146 146 0 0 0 352 256zm64 0c0-51.18-13.08-83.89-34.18-120.06a16 16 0 0 0-27.64 16.12C373.07 184.44 384 211.83 384 256c0 23.83-3.29 42.88-9.37 60.65a8 8 0 0 0 1.9 8.26L389 337.4a8 8 0 0 0 13.13-2.79C411 311.76 416 287.26 416 256z"},child:[]},{tag:"path",attr:{d:"M480 256c0-74.25-20.19-121.11-50.51-168.61a16 16 0 1 0-27 17.22C429.82 147.38 448 189.5 448 256c0 46.19-8.43 80.27-22.43 110.53a8 8 0 0 0 1.59 9l11.92 11.92a8 8 0 0 0 12.92-2.16C471.6 344.9 480 305 480 256z"},child:[]}]})(e)}function mb(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(e)}const gb=()=>{const{isAuthenticated:e,logout:t,user:n}=Qt(),i=fe(),a=ue(),[r,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)({}),p=[{path:"/service",label:"\ud648",icon:(0,qt.jsx)(Qx,{}),description:"Dashboard overview"},{path:"/service/guest/game",label:"\uacbd\uae30",icon:(0,qt.jsx)(eb,{}),description:"Video analysis"},{path:"/service/guest/clip",label:"\uacbd\uae30\ud074\ub9bd",icon:(0,qt.jsx)(eb,{}),description:"Performance analytics"},{path:"/service/guest/stat/league",label:"\uc2a4\ud0ef",icon:(0,qt.jsx)(tb,{}),description:"AI recommendations",hasSubmenu:!0,submenu:[{path:"/service/guest/stat/league",label:"\ub9ac\uadf8 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"League rankings"},{path:"/service/guest/stat/team",label:"\ub9ac\uadf8 \ud300 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Team rankings"},{path:"/service/guest/stat/position",label:"\ub9ac\uadf8 \ud3ec\uc9c0\uc158 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Position rankings"}]}],m=[{path:"/service",label:"\ud648",icon:(0,qt.jsx)(Qx,{}),description:"Dashboard overview"},{path:"/service/game",label:"\uc18c\uc18d\ud300 \uacbd\uae30",icon:(0,qt.jsx)(eb,{}),description:"Video analysis"},{path:"/service/stat/league",label:"\uc2a4\ud0ef",icon:(0,qt.jsx)(tb,{}),description:"Performance analytics",hasSubmenu:!0,submenu:[{path:"/service/stat/league",label:"\ub9ac\uadf8 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"League rankings"},{path:"/service/stat/team",label:"\ub9ac\uadf8 \ud300 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Team rankings"},{path:"/service/stat/position",label:"\ub9ac\uadf8 \ud3ec\uc9c0\uc158 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Position rankings"}]},{path:"/service/suggestion",label:"Stech \uc81c\uc548",icon:(0,qt.jsx)(Jx,{}),description:"AI recommendations",badge:"\u03b2eta"}],g=[{path:"/service",label:"\ud648",icon:(0,qt.jsx)(Qx,{}),description:"Dashboard overview"},{path:"/service/game",label:"\uc18c\uc18d\ud300 \uacbd\uae30",icon:(0,qt.jsx)(eb,{}),description:"Video analysis"},{path:"/service/stat/league",label:"\uc2a4\ud0ef",icon:(0,qt.jsx)(tb,{}),description:"Performance analytics",hasSubmenu:!0,submenu:[{path:"/service/stat/league",label:"\ub9ac\uadf8 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"League rankings"},{path:"/service/stat/team",label:"\ub9ac\uadf8 \ud300 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Team rankings"},{path:"/service/stat/position",label:"\ub9ac\uadf8 \ud3ec\uc9c0\uc158 \uc21c\uc704",icon:(0,qt.jsx)(tb,{}),description:"Position rankings"}]},{path:"/service/suggestion",label:"Stech \uc81c\uc548",icon:(0,qt.jsx)(Jx,{}),description:"AI recommendations",badge:"\u03b2eta"},{path:"/service/admin/analysis",label:"Analysis",icon:(0,qt.jsx)(tb,{})},{path:"/service/admin",label:"JSON Explorer",icon:(0,qt.jsx)(tb,{})}],f=[{path:"/service/faq",label:"FAQ",icon:(0,qt.jsx)(nb,{}),description:"Frequently Asked Questions"},{path:"/service/support",label:"\ubb38\uc758\ud558\uae30",icon:(0,qt.jsx)(ib,{}),description:"Get help",modal:!0},{path:"/service/profile",label:"\ub0b4 \ud398\uc774\uc9c0",icon:(0,qt.jsx)(mb,{}),description:"Profile Settings"},{path:"/service/settings",label:"\uc2dc\uc2a4\ud15c \uc124\uc815",icon:(0,qt.jsx)(db,{}),description:"Settings"}],v=[{path:"/service/support",label:"\ubb38\uc758\ud558\uae30",icon:(0,qt.jsx)(ib,{}),description:"Get help"}],y=()=>{u({})};s.useEffect(()=>{[...p,...m].forEach(e=>{e.hasSubmenu&&(e=>!!e.hasSubmenu&&(a.pathname===e.path||e.submenu.some(e=>a.pathname===e.path)))(e)&&u(t=>d(d({},t),{},{[e.path]:!0}))})},[a.pathname]);const x=e=>{if(e.hasSubmenu){const t=h[e.path],n=a.pathname===e.path||(e=>!!e.hasSubmenu&&e.submenu.some(e=>a.pathname===e.path))(e);return(0,qt.jsxs)("li",{className:"navItem",children:[(0,qt.jsxs)("div",{className:"navLink ".concat(n?"navLinkActive":""," ").concat(r===e.path?"navLinkHovered":""," expandableMenu"),onMouseEnter:()=>o(e.path),onMouseLeave:()=>o(null),onClick:()=>i(e.path),title:e.description,children:[(0,qt.jsx)("span",{className:"navIcon",children:e.icon}),(0,qt.jsx)("span",{className:"navLabel",children:e.label}),e.badge&&(0,qt.jsx)("span",{className:"badge",children:e.badge}),r===e.path&&(0,qt.jsx)("div",{className:"navTooltip",children:(0,qt.jsx)("span",{children:e.description})})]}),t&&(0,qt.jsx)("ul",{className:"submenu",children:e.submenu.map(e=>(0,qt.jsx)("li",{className:"submenuItem",children:(0,qt.jsxs)(bt,{to:e.path,className:e=>{let{isActive:t}=e;return"submenuLink ".concat(t?"submenuLinkActive":"")},title:e.description,children:[(0,qt.jsx)("span",{className:"submenuIcon",children:e.icon}),(0,qt.jsx)("span",{className:"submenuLabel",children:e.label}),a.pathname===e.path&&(0,qt.jsx)("div",{className:"activeIndicator"})]})},e.path))})]},e.path)}return(0,qt.jsx)("li",{className:"navItem",onMouseEnter:()=>o(e.path),onMouseLeave:()=>o(null),children:(0,qt.jsxs)(bt,{to:e.path,end:"/service"===e.path,className:t=>{let{isActive:n}=t,s="navLink ".concat(n?"navLinkActive":"");return r===e.path&&(s+=" navLinkHovered"),s},title:e.description,onClick:y,children:[(0,qt.jsx)("span",{className:"navIcon",children:e.icon}),(0,qt.jsx)("span",{className:"navLabel",children:e.label}),e.badge&&(0,qt.jsx)("span",{className:"badge",children:e.badge}),a.pathname===e.path&&(0,qt.jsx)("div",{className:"activeIndicator"}),r===e.path&&(0,qt.jsx)("div",{className:"navTooltip",children:(0,qt.jsx)("span",{children:e.description})})]})},e.path)};return(0,qt.jsxs)("aside",{className:"sidebar",children:[(0,qt.jsxs)("div",{className:"sidebarHeader",children:[(0,qt.jsx)("div",{className:"stech-logo-box",children:(0,qt.jsx)("img",{className:"stech-logo",src:Rx,alt:"STECH Logo",onClick:()=>i("/service")})}),(0,qt.jsx)("div",{className:"authSection",children:e?(0,qt.jsxs)("button",{onClick:async()=>{c(!0);try{await t(),i("/service")}finally{c(!1)}},className:"logoutButton ".concat(l?"loading":""),disabled:l,children:[(0,qt.jsx)("div",{className:"logoutIcon",children:l?(0,qt.jsx)("div",{className:"spinner"}):(0,qt.jsx)(Xx,{})}),(0,qt.jsx)("span",{className:"logoutText",children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,qt.jsxs)("button",{onClick:()=>{i("/auth")},className:"loginButton",children:[(0,qt.jsx)("div",{className:"loginIcon",children:(0,qt.jsx)(Kx,{})}),(0,qt.jsx)("span",{className:"loginText",children:"\ub85c\uadf8\uc778"})]})})]}),(0,qt.jsx)("nav",{className:"sidebarNav",children:(0,qt.jsxs)("div",{className:"menuSection",children:[(0,qt.jsx)("div",{className:"sectionTitle",children:"Main Menu"}),"admin"===(null===n||void 0===n?void 0:n.role)?(0,qt.jsx)("ul",{className:"navMenu",children:g.map(e=>x(e))}):e?(0,qt.jsx)("ul",{className:"navMenu",children:m.map(e=>x(e))}):(0,qt.jsx)("ul",{className:"navMenu",children:p.map(e=>x(e))})]})}),(0,qt.jsx)("div",{className:"sidebarFooter",children:(0,qt.jsxs)("div",{className:"menuSection",children:[(0,qt.jsx)("div",{className:"sectionTitle",children:"Support"}),e?(0,qt.jsx)("ul",{className:"navMenu",children:f.map(e=>x(e))}):(0,qt.jsx)("ul",{className:"navMenu",children:v.map(e=>x(e))})]})})]})};var fb=n(7950);function vb(e){let{onClose:t}=e;return(0,s.useEffect)(()=>{const e=e=>"Escape"===e.key&&t();return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,fb.createPortal)((0,qt.jsx)("div",{onClick:t,style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:(0,qt.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{width:"56.25rem",height:"31.25rem",background:"#2C2C2C",borderRadius:12,padding:24,boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[(0,qt.jsxs)("div",{style:{display:"grid",gridTemplateRows:"1fr auto",alignItems:"center",marginBottom:0},children:[(0,qt.jsx)(ab,{onClick:t,style:{width:"4rem",color:" #fff",height:"4rem",justifySelf:"end"}}),(0,qt.jsx)("img",{src:Rx,alt:"Logo",style:{width:"21rem",justifySelf:"center"}})]}),(0,qt.jsx)("div",{style:{paddingTop:"3rem"},children:(0,qt.jsxs)("p",{style:{color:"#fff",fontSize:"1.875rem",fontFamily:"Inter",lineHeight:"normal",fontWeight:"600",marginBottom:24,textAlign:"center"},children:["\ubd88\ud3b8\ud558\uc2dc\uac70\ub098 \ubb38\uc81c\uac00 \uc788\uc73c\uc2dc\uba74 \uc544\ub798 \uc5f0\ub77d\ucc98\ub85c \ubb38\uc758\ud574\uc8fc\uc138\uc694.",(0,qt.jsx)("br",{}),"\ucd5c\ub300\ud55c \ube68\ub9ac \ub2f5\ubcc0\ud574 \ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),(0,qt.jsx)("br",{}),"\uc774\uba54\uc77c : stechpro.ai@gmail.com",(0,qt.jsx)("br",{})]})})]})}),document.body)}const yb=[{id:"YSeagles",name:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",logo:"/assets/images/svg/teams/Yonsei.png",region:"Seoul"},{id:"SNgreenterrors",name:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",logo:"/assets/images/svg/teams/SNU.png",region:"Seoul"},{id:"HYlions",name:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",logo:"/assets/images/svg/teams/Hanyang.png",region:"Seoul"},{id:"KMrazorbacks",name:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",logo:"/assets/images/svg/teams/Kookmin.png",region:"Seoul"},{id:"UScityhawks",name:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",logo:"/assets/images/svg/teams/UOS.png",region:"Seoul"},{id:"HFblackKnights",name:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",logo:"/assets/images/svg/teams/HUFS.png",region:"Seoul"},{id:"KKragingbulls",name:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",logo:"/assets/images/svg/teams/Konkuk.png",region:"Seoul"},{id:"HIcowboys",name:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",logo:"/assets/images/svg/teams/Hongik.png",region:"Seoul"},{id:"KUtigers",name:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",logo:"/assets/images/svg/teams/KoreaUniversity.png",region:"Seoul"},{id:"DongkukTuskers",name:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",logo:"/assets/images/svg/teams/Dongguk.png",region:"Seoul"},{id:"SScrusaders",name:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",logo:"/assets/images/svg/teams/Soongsil.png",region:"Seoul"},{id:"CAbluedragons",name:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",logo:"/assets/images/svg/teams/ChungAng.png",region:"Seoul"},{id:"KHcommanders",name:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",logo:"/assets/images/svg/teams/Kyunghee.png",region:"Seoul"},{id:"SGalbatross",name:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",logo:"/assets/images/svg/teams/Sogang.png",region:"Seoul"},{id:"SKroyals",name:"\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4",logo:"/assets/images/svg/teams/SKKU.png",region:"Gyeonggi-Gangwon"},{id:"KWcapra",name:"\uac15\uc6d0\ub300 \uce74\ud504\ub77c",logo:"/assets/images/svg/teams/Kangwon.png",region:"Gyeonggi-Gangwon"},{id:"DKkodiakbears",name:"\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4",logo:"/assets/images/svg/teams/Dankook.png",region:"Gyeonggi-Gangwon"},{id:"YIwhitetigers",name:"\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4",logo:"/assets/images/svg/teams/YIU.png",region:"Gyeonggi-Gangwon"},{id:"IHtealdragons",name:"\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4",logo:"/assets/images/svg/teams/Inha.png",region:"Gyeonggi-Gangwon"},{id:"HLphoenix",name:"\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4",logo:"/assets/images/svg/teams/Hallym.png",region:"Gyeonggi-Gangwon"},{id:"HSkillerwhales",name:"\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4",logo:"/assets/images/svg/teams/Hanshin.png",region:"Gyeonggi-Gangwon"},{id:"KAmavericks",name:"\uce74\uc774\uc2a4\ud2b8 \ub9e4\ubc84\ub9ad\uc2a4",logo:"/assets/images/svg/teams/KAmavericks.png",region:"Gyeonggi-Gangwon"},{id:"KPorangefighters",name:"\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4",logo:"/assets/images/svg/teams/KNU.png",region:"Daegu-Gyeongbuk"},{id:"KIblackbears",name:"\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4",logo:"/assets/images/svg/teams/KIU.png",region:"Daegu-Gyeongbuk"},{id:"KeimyungSuperlions",name:"\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4",logo:"/assets/images/svg/teams/Keimyung.png",region:"Daegu-Gyeongbuk"},{id:"KOTravens",name:"\uae08\uc624\uacf5\uacfc\ub300 \ub808\uc774\ube10\uc2a4",logo:"/assets/images/svg/teams/Kumho.png",region:"Daegu-Gyeongbuk"},{id:"DCscudangels",name:"\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4",logo:"/assets/images/svg/teams/DaeguCatholic.png",region:"Daegu-Gyeongbuk"},{id:"DGflyingyigers",name:"\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4",logo:"/assets/images/svg/teams/Daegu.png",region:"Daegu-Gyeongbuk"},{id:"DHrhinos",name:"\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4",logo:"/assets/images/svg/teams/DaeguHaany.png",region:"Daegu-Gyeongbuk"},{id:"DongkukWhiteelephants",name:"\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20",logo:"/assets/images/svg/teams/DaeguDongguk.png",region:"Daegu-Gyeongbuk"},{id:"YNpegasus",name:"\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4",logo:"/assets/images/svg/teams/Yeungnam.png",region:"Daegu-Gyeongbuk"},{id:"HDholyrams",name:"\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4",logo:"/assets/images/svg/teams/Handong.png",region:"Daegu-Gyeongbuk"},{id:"GSdragons",name:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",logo:"/assets/images/svg/teams/Kyungsung.png",region:"Busan-Gyeongnam"},{id:"BSeagles",name:"\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4",logo:"/assets/images/svg/teams/Pusan.png",region:"Busan-Gyeongnam"},{id:"HHvikings",name:"\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4",logo:"/assets/images/svg/teams/KMOU.png",region:"Busan-Gyeongnam"},{id:"SLdevils",name:"\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4",logo:"/assets/images/svg/teams/Silla.png",region:"Busan-Gyeongnam"},{id:"BKmadmobydicks",name:"\ubd80\uacbd\ub300 \ub9e4\ub4dc\ubaa8\ube44\ub515\uc2a4",logo:"/assets/images/svg/teams/BKmadmobydicks.png",region:"Busan-Gyeongnam"},{id:"DUturtlefighters",name:"\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4",logo:"/assets/images/svg/teams/Dongeui.png",region:"Busan-Gyeongnam"},{id:"DAleopards",name:"\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988",logo:"/assets/images/svg/teams/Dong-A.png",region:"Busan-Gyeongnam"},{id:"DSbluedolphins",name:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4",logo:"/assets/images/svg/teams/Dongseo.png",region:"Busan-Gyeongnam"},{id:"BFtornado",name:"\ubd80\uc0b0\uc678\uad6d\uc5b4\ub300 \ud1a0\ub124\uc774\ub3c4",logo:"/assets/images/svg/teams/BUFS.png",region:"Busan-Gyeongnam"},{id:"UUunicorns",name:"\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4",logo:"/assets/images/svg/teams/Ulsan.png",region:"Busan-Gyeongnam"},{id:"GunwiPhoenix",name:"\uad70\uc704 \ud53c\ub2c9\uc2a4",logo:"/assets/images/svg/teams/Phoenix.png",region:"Amateur"},{id:"BusanGryphons",name:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",logo:"/assets/images/svg/teams/Gryphons.png",region:"Amateur"},{id:"samsungBT",name:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",logo:"/assets/images/svg/teams/BlueStorm.png",region:"Amateur"},{id:"seoulGE",name:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",logo:"/assets/images/svg/teams/GoldenEagles.png",region:"Amateur"},{id:"seoulDF",name:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",logo:"/assets/images/svg/teams/Defenders.png",region:"Amateur"},{id:"seoulVI",name:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",logo:"/assets/images/svg/teams/Vikings.png",region:"Amateur"},{id:"IncheonRH",name:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",logo:"/assets/images/svg/teams/Rhinos.png",region:"Amateur"},{id:"ADMIN",name:"\uad00\ub9ac\uc790",logo:"/assets/images/svg/teams/Stechlogo.svg",region:"Admin"}],xb=[{id:"seoulVI",name:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",logo:"/assets/images/svg/teams/Vikings.png",region:"Amateur"},{id:"GCF",name:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",logo:"/assets/images/svg/teams/gcf.png",region:"Gyeonggi-Gangwon"}],bb=Object.fromEntries(yb.map(e=>[e.id,e]));Object.fromEntries(yb.map(e=>[e.name,e]));let wb=null;async function _b(){const e=Ut();return e?Vt(e)?(wb||(wb=(async()=>{try{const t=await async function(e){const t=await fetch("".concat(jt).concat(Et.REFRESH_TOKEN),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),n=await Pt(t);if(t.ok)return n;throw new Nt("object"===typeof n&&n.message||"\ud1a0\ud070 \uac31\uc2e0 \uc2e4\ud328",t.status,n)}(e);return Wt(t.token||t.accessToken),t.token}catch(t){return zt(),null}finally{wb=null}})()),wb):e:null}async function Sb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.startsWith("http")?e:"".concat(jt).concat(e);let s=await _b();const i=new Headers(t.headers||{});s&&i.set("Authorization","Bearer ".concat(s));let a=await fetch(n,d(d({},t),{},{headers:i}));return 401===a.status&&Ut()&&(s=await _b(),s&&(i.set("Authorization","Bearer ".concat(s)),a=await fetch(n,d(d({},t),{},{headers:i})))),a}const kb=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}};function Cb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=null===Ut||void 0===Ut?void 0:Ut();return d(d({},t?{Authorization:"Bearer ".concat(t)}:{}),{},{"Content-Type":"application/json"},e)}async function Ab(e,t){let{contentType:n,contentTypeStrategy:s="omit"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new FormData;i.append("file",t),i.append("gameKey",e.gameKey),i.append("fileName",e.fileName),i.append("s3Path",e.s3Path);const a=null===Ut||void 0===Ut?void 0:Ut(),r={};let o;a&&(r.Authorization="Bearer ".concat(a));try{o=await fetch("".concat(jt,"/game/upload-video"),{method:"POST",headers:r,body:i})}catch(Cw){throw Cw}if(!o.ok){const e=await o.text().catch(()=>"");throw new Error("\ubc31\uc5d4\ub4dc \uc5c5\ub85c\ub4dc \uc2e4\ud328 (HTTP ".concat(o.status,") ").concat(e||""))}const l=await o.json().catch(()=>({}));if(!l.success)throw new Error(l.message||"\uc5c5\ub85c\ub4dc \uc2e4\ud328");return!0}var jb=n(446),Tb=n.n(jb);n(8456);function Eb(e){let{value:t,onChange:n}=e;const i=Tb()(t||new Date).startOf("day"),[a,r]=(0,s.useState)(i),o=(0,s.useMemo)(()=>a.startOf("month").startOf("week"),[a]),l=(0,s.useMemo)(()=>a.endOf("month").endOf("week"),[a]),c=(0,s.useMemo)(()=>{const e=l.diff(o,"day")+1;return Array.from({length:e},(e,t)=>o.add(t,"day"))},[o,l]);return(0,qt.jsxs)("div",{className:"dtpCal-box",children:[(0,qt.jsxs)("div",{className:"dtpCal-header",children:[(0,qt.jsx)("button",{type:"button",className:"dtpCal-nav",onClick:()=>r(e=>e.subtract(1,"month")),"aria-label":"\uc774\uc804 \ub2ec",children:"\u2039"}),(0,qt.jsxs)("span",{className:"dtpCal-title",children:[a.format("YYYY")," / ",a.format("MM")]}),(0,qt.jsx)("button",{type:"button",className:"dtpCal-nav",onClick:()=>r(e=>e.add(1,"month")),"aria-label":"\ub2e4\uc74c \ub2ec",children:"\u203a"})]}),(0,qt.jsx)("div",{className:"dtpCal-weekrow",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map(e=>(0,qt.jsx)("div",{className:"dtpCal-weekcell",children:e},e))}),(0,qt.jsx)("div",{className:"dtpCal-grid",children:c.map(e=>{const s=e.isSame(Tb()(),"day"),i=e.isSame(a,"month"),r=!!t&&e.isSame(Tb()(t),"day");return(0,qt.jsx)("button",{type:"button",className:["dtpCal-cell",i?"":"dim",s?"today":"",r?"selected":""].filter(Boolean).join(" "),onClick:()=>null===n||void 0===n?void 0:n(e),children:e.format("D")},e.format("YYYY-MM-DD"))})})]})}function Nb(e){let{value:t,onChange:n,onClose:i,minuteStep:a=10}=e;const r=Tb()(t||new Date),[o,l]=(0,s.useState)(r.startOf("day")),[c,d]=(0,s.useState)(r.hour()),[h,u]=(0,s.useState)(Math.floor(r.minute()/a)*a),p=(0,s.useRef)(n),m=(0,s.useRef)(i);(0,s.useEffect)(()=>{p.current=n},[n]),(0,s.useEffect)(()=>{m.current=i},[i]);const g=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{var t;g.current&&!g.current.contains(e.target)&&(null===(t=m.current)||void 0===t||t.call(m))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const f=(0,s.useMemo)(()=>Array.from({length:24},(e,t)=>t),[]),v=(0,s.useMemo)(()=>Array.from({length:Math.floor(60/a)},(e,t)=>t*a),[a]),y=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=o.hour(c).minute(h).second(0).millisecond(0),t=e.valueOf();var n;Number.isNaN(t)||y.current!==t&&(y.current=t,null===(n=p.current)||void 0===n||n.call(p,e))},[o,c,h]),(0,s.useEffect)(()=>{if(!t)return;const e=Tb()(t).second(0).millisecond(0),n=Math.floor(e.minute()/a)*a,s=e.minute(n);o.hour(c).minute(h).second(0).millisecond(0).valueOf()!==s.valueOf()&&(l(s.startOf("day")),d(s.hour()),u(n))},[t,a]),(0,qt.jsx)("div",{className:"dtpPopover",ref:g,role:"dialog","aria-label":"\ub0a0\uc9dc/\uc2dc\uac04 \uc120\ud0dd",children:(0,qt.jsxs)("div",{className:"dtpWrap",children:[(0,qt.jsx)("div",{className:"dtpCalendar",children:(0,qt.jsx)(Eb,{value:o,onChange:e=>l(Tb()(e).startOf("day"))})}),(0,qt.jsxs)("div",{className:"dtpSide",children:[(0,qt.jsx)("div",{className:"dtpPreview",children:o.hour(c).minute(h).format("YYYY-MM-DD (ddd) HH:mm")}),(0,qt.jsxs)("div",{className:"dtpRow",children:[(0,qt.jsx)("label",{className:"dtpLabel",htmlFor:"dtp-hour",children:"\uc2dc\uac04"}),(0,qt.jsx)("select",{id:"dtp-hour",className:"dtpSelect",value:c,onChange:e=>d(Number(e.target.value)),children:f.map(e=>(0,qt.jsx)("option",{value:e,children:String(e).padStart(2,"0")},e))})]}),(0,qt.jsxs)("div",{className:"dtpRow",children:[(0,qt.jsx)("label",{className:"dtpLabel",htmlFor:"dtp-minute",children:"\ubd84"}),(0,qt.jsx)("select",{id:"dtp-minute",className:"dtpSelect",value:h,onChange:e=>u(Number(e.target.value)),children:v.map(e=>(0,qt.jsx)("option",{value:e,children:String(e).padStart(2,"0")},e))})]}),(0,qt.jsxs)("div",{className:"dtpActions",children:[(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{const e=Tb()();l(e.startOf("day")),d(e.hour()),u(Math.floor(e.minute()/a)*a)},children:"\uc9c0\uae08\uc73c\ub85c"}),(0,qt.jsx)("button",{type:"button",className:"btn",onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.call(m)},children:"\ub2eb\uae30"})]})]})]})})}Tb().locale("ko");var Pb=n(8259),Mb=n.n(Pb),Ob=n(5030),Db=n.n(Ob);Tb().extend(Mb()),Tb().extend(Db());const Lb="Asia/Seoul";function Rb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,t)).toFixed(1)," ").concat(["B","KB","MB","GB","TB"][t])}function Fb(e){let{file:t,onDelete:n}=e;const i=function(e){const[t,n]=(0,s.useState)(null),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!e)return void n(null);if(i.current&&i.current.name===e.name&&i.current.size===e.size&&i.current.lastModified===e.lastModified&&t)return;i.current=e;const s=URL.createObjectURL(e);return n(s),()=>{URL.revokeObjectURL(s)}},[e]),t}(t),a=/^video\//.test((null===t||void 0===t?void 0:t.type)||""),r="".concat(t.name,"-").concat(t.size,"-").concat(t.lastModified||0);return(0,qt.jsxs)("li",{className:"fpm-item",children:[(0,qt.jsxs)("div",{className:"fpm-meta",children:[(0,qt.jsx)("div",{className:"fpm-name",title:t.name,children:t.name}),(0,qt.jsxs)("div",{className:"fpm-sub",children:[(0,qt.jsx)("span",{children:Rb(t.size)}),(0,qt.jsx)("span",{className:"sep",children:"\u2022"}),(0,qt.jsx)("span",{children:t.type||"unknown"})]})]}),(0,qt.jsxs)("div",{className:"fpm-preview",children:[a?(0,qt.jsx)("video",{className:"fpm-video",src:i||void 0,controls:!0,preload:"metadata",onError:e=>console.warn("Video error for",t.name,i,null===e||void 0===e?void 0:e.nativeEvent)}):(0,qt.jsx)("div",{className:"fpm-nonvideo",children:"\ubbf8\ub9ac\ubcf4\uae30 \ubd88\uac00"}),(0,qt.jsxs)("div",{className:"fpm-actions-inline",children:[(0,qt.jsx)("a",{className:"fpm-download",href:i||"#",download:t.name,onClick:e=>{i||e.preventDefault()},children:"\ub2e4\uc6b4\ub85c\ub4dc"}),(0,qt.jsx)("button",{type:"button",className:"fpm-delete",onClick:n,title:"\uc774 \ud30c\uc77c \uc0ad\uc81c",children:"\uc0ad\uc81c"})]})]})]},r)}const Ib={Seoul:6,"Gyeonggi-Gangwon":3,"Daegu-Gyeongbuk":5,"Busan-Gyeongnam":6,Amateur:12},Bb=yb.filter(e=>"ADMIN"!==e.id&&"Admin"!==e.region),Wb={Seoul:["\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5","\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5","\uad6d\ubbfc\ub300\ud559\uad50","\uc0b4\uacf6\uc774 \ucd95\uad6c\uc7a5","\ud654\ucc3d\uc6b4\ub3d9\uc7a5"],"Busan-Gyeongnam":["\uc6c5\ucd0c\uccb4\uc721\uacf5\uc6d0","\ucca0\ub9c8\uccb4\uc721\uacf5\uc6d0","\uc6b8\uc0b0\ub300\ud559\uad50"],"Daegu-Gyeongbuk":["\uad70\uc704 \uc885\ud569\uc6b4\ub3d9\uc7a5","\uacbd\uc77c\ub300\ud559\uad50","\ub300\uad6c\uacfc\ud559\ub300\ud559\uad50","\ub300\uad6c\ud55c\uc758\ub300\ud559\uad50","\uacc4\uba85\ub300\ud559\uad50","\ub300\uad6c\uac00\ud1a8\ub9ad\ub300\ud559\uad50","\uc601\ub0a8\ub300\ud559\uad50","\ud55c\ub3d9\ub300\ud559\uad50"],"Gyeonggi-Gangwon":["\ud55c\ub9bc\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5","\ud64d\ucc9c \uc11c\uba74\uccb4\uc721\uacf5\uc6d0","\ub2e8\uad6d\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5 (\uc8fd\uc804)","\uc6a9\uc778\ub300\ud559\uad50 \uc885\ud569\uc6b4\ub3d9\uc7a5","\ucc9c\uc548\uc885\ud569\uc6b4\ub3d9\uc7a5"],Amateur:["\uad70\uc704 \uc885\ud569\uc6b4\ub3d9\uc7a5"]},Ub=Array.from(new Set(Object.values(Wb).flat())),zb={Seoul:"\uc11c\uc6b8","Gyeonggi-Gangwon":"\uacbd\uae30\uac15\uc6d0","Daegu-Gyeongbuk":"\ub300\uad6c\uacbd\ubd81","Busan-Gyeongnam":"\ubd80\uc0b0\uacbd\ub0a8",Amateur:"\uc0ac\ud68c\uc778"},Gb=["Seoul","Gyeonggi-Gangwon","Daegu-Gyeongbuk","Busan-Gyeongnam","Amateur"],Hb=(()=>{const e=Array.from(new Set(Bb.map(e=>e.region))).filter(Boolean),t=e.sort((e,t)=>Gb.indexOf(e)-Gb.indexOf(t));return t.map(e=>({key:e,label:zb[e]||e}))})();const Yb=["\ub9ac\uadf8","\uce5c\uc120\uc804","\uc2a4\ud06c\ub9ac\ubbf8\uc9c0"],Vb=e=>"\ub9ac\uadf8"===e?"League":"\uce5c\uc120\uc804"===e?"Friendly":"Scrimmage";function qb(e){let{value:t,options:n=[],onChange:i,placeholder:a="Select"}=e;const[r,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const h=(0,s.useMemo)(()=>{const e={};return(n||[]).forEach(t=>{const n=zb[t.region]||"\uae30\ud0c0";(e[n]||(e[n]=[])).push(t)}),e},[n]),u=(0,s.useMemo)(()=>{const e=["\uc11c\uc6b8","\uacbd\uae30\uac15\uc6d0","\ub300\uad6c\uacbd\ubd81","\ubd80\uc0b0\uacbd\ub0a8","\uc0ac\ud68c\uc778"],t=Object.keys(h),n=t.filter(t=>!e.includes(t)).sort();return[...e.filter(e=>t.includes(e)),...n]},[h]);return(0,s.useEffect)(()=>{if(!r)return;const e=u[0];e&&!l&&c(e)},[r]),(0,qt.jsxs)("div",{className:"teamSelect",ref:d,children:[(0,qt.jsxs)("button",{type:"button",className:"teamSelect-trigger ".concat(r?"open":""),onClick:()=>o(e=>!e),children:[(null===t||void 0===t?void 0:t.logo)&&(0,qt.jsx)("img",{src:t.logo,alt:t.name,className:"teamSelect-logo ".concat(String(t.logo).endsWith(".svg")?"svg-logo":"png-logo")}),(0,qt.jsx)("span",{className:"teamSelect-label ".concat(t?"":"placeholder"),children:(null===t||void 0===t?void 0:t.name)||a})]}),r&&(0,qt.jsxs)("div",{className:"oppsMega",children:[(0,qt.jsx)("ul",{className:"oppsLeagues",children:u.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{type:"button",className:"leagueItem ".concat(l===e?"active":""),onMouseEnter:()=>c(e),onFocus:()=>c(e),onClick:()=>c(e),children:e})},e))}),(0,qt.jsxs)("ul",{className:"oppsTeams",children:[(h[l]||[]).map(e=>(0,qt.jsx)("li",{children:(0,qt.jsxs)("button",{type:"button",className:"oppsItem",onClick:()=>{null===i||void 0===i||i(e),o(!1)},children:[e.logo&&(0,qt.jsx)("span",{className:"opps-team-logo-img-box",children:(0,qt.jsx)("img",{src:e.logo,alt:e.name,className:"opps-team-logo-img ".concat(String(e.logo).endsWith(".svg")?"svg-logo":"png-logo")})}),e.name]})},e.id)),(!l||0===(h[l]||[]).length)&&(0,qt.jsx)("li",{className:"oppsEmpty",children:"\ud574\ub2f9 \ub9ac\uadf8 \ud300\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})]})}function Kb(e){let{q:t,files:n,onPick:i,onClear:a}=e;const r=(0,s.useRef)(null);return(0,qt.jsxs)("div",{className:"quarterRow",children:[(0,qt.jsx)("input",{ref:r,type:"file",accept:"video/*",className:"hiddenFile",multiple:!0,onChange:e=>{e.target.files&&i(Array.from(e.target.files))}}),(0,qt.jsxs)("button",{className:"qbtn primary",type:"button",onClick:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.click()},children:[t," \uacbd\uae30 \uc601\uc0c1 \uc5c5\ub85c\ub4dc"]}),(0,qt.jsx)("button",{className:"qbtn ghost",type:"button",disabled:0===n.length,onClick:a,title:n.length>0?"\uc120\ud0dd\ud55c \ud30c\uc77c \ubaa8\ub450 \uc81c\uac70":"\ud30c\uc77c \uc5c6\uc74c",children:"\ucd08\uae30\ud654"}),(0,qt.jsx)("span",{className:"quarterFilename",children:n.length>0?"".concat(n.length,"\uac1c \ud30c\uc77c \uc120\ud0dd\ub428"):"\uc120\ud0dd\ub41c \ud30c\uc77c \uc5c6\uc74c"})]})}const Xb=e=>{var t;let{isOpen:n,onClose:i,onUploaded:a,defaultHomeTeam:r,defaultAwayTeam:o}=e;const l=Bb,[c,h]=(0,s.useState)("form"),[u,p]=(0,s.useState)("Q1"),[m,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(null!==(t=null===r||void 0===r?void 0:r.region)&&void 0!==t?t:""),[y,x]=(0,s.useState)(null!==r&&void 0!==r?r:null),[b,w]=(0,s.useState)(null!==o&&void 0!==o?o:null),[_,S]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[A,j]=(0,s.useState)(""),[T,E]=(0,s.useState)("Week1"),[N,P]=(0,s.useState)(""),[M,O]=(0,s.useState)("select"),[D,L]=(0,s.useState)([]),[R,F]=(0,s.useState)([]),[I,B]=(0,s.useState)([]),[W,U]=(0,s.useState)([]),[z,G]=(0,s.useState)(!1),[H,Y]=(0,s.useState)(!1),[V,q]=(0,s.useState)(""),K=()=>{document.querySelectorAll(".fpm-video").forEach(e=>{var t;return null===e||void 0===e||null===(t=e.pause)||void 0===t?void 0:t.call(e)})},X="\ub9ac\uadf8"===m,Q=(0,s.useMemo)(()=>{const e=X?l.filter(e=>e.region===f):l;return e},[l,X,f]),J=(0,s.useMemo)(()=>{const e=X?l.filter(e=>e.region===f):l;return e.filter(e=>(null===e||void 0===e?void 0:e.id)!==(null===y||void 0===y?void 0:y.id))},[l,X,f,y]),Z=(0,s.useMemo)(()=>{var e;return X?f&&null!==(e=Wb[f])&&void 0!==e?e:[]:Ub},[X,f]),$=()=>{H||null===i||void 0===i||i()};(0,s.useEffect)(()=>{X&&null!==y&&void 0!==y&&y.region&&y.region!==f&&v(y.region)},[y,X,f]),(0,s.useEffect)(()=>{X&&(y&&y.region!==f&&x(null),b&&b.region!==f&&w(null))},[f,X,y,b]),(0,s.useEffect)(()=>{var e;if(!X)return void O("select");if(!f)return O("select"),void P("");const t=(null!==(e=Wb[f])&&void 0!==e?e:[]).length>0;O(t?"select":"custom"),P("")},[X,f]);const ee=(0,s.useMemo)(()=>{var e;if(!X||!f)return[];const t=null!==(e=Ib[f])&&void 0!==e?e:0;return Array.from({length:t},(e,t)=>"Week".concat(t+1))},[X,f]);(0,s.useEffect)(()=>{var e;if(!X||!f)return;const t=null!==(e=Ib[f])&&void 0!==e?e:0;if(!t)return void E("");const n=String(T||"");(!n||!/^Week\d+$/.test(n)||Number(n.replace("Week",""))>t)&&E("Week1")},[X,f,T]);const te=(0,s.useMemo)(()=>({Q1:D,Q2:R,Q3:I,Q4:W}),[D,R,I,W]),ne=(0,s.useMemo)(()=>!!m&&("\ub9ac\uadf8"!==m||Boolean(f&&T&&N)),[m,f,T,N]);return n?(0,qt.jsx)("div",{className:"uvm-overlay",onClick:$,children:(0,qt.jsxs)("div",{className:"uvm-card",onClick:e=>e.stopPropagation(),children:[(0,qt.jsxs)("div",{className:"uvm-topbar",children:[(0,qt.jsx)("div",{className:"uvm-topbar-col1"}),(0,qt.jsx)("div",{className:"uvm-topbar-col2",children:(0,qt.jsx)("img",{className:"uvm-logo",src:Rx,alt:"Stech"})}),(0,qt.jsx)("div",{className:"uvm-topbar-col3",children:(0,qt.jsx)(ab,{className:"uvm-close",onClick:$})})]}),"form"===c?(0,qt.jsxs)("form",{className:"uvm-body",onSubmit:async e=>{if(e.preventDefault(),q(""),!m)return q("\uacbd\uae30 \uc720\ud615\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if("\ub9ac\uadf8"===m&&!f)return q("\ub9ac\uadf8 \uacbd\uae30\uc758 \uc9c0\uc5ed\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if(!N)return q("\uacbd\uae30\uc7a5\uc744 \uc785\ub825/\uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if(!y||!b)return q("\ud648/\uc6d0\uc815 \ud300\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if((null===y||void 0===y?void 0:y.id)===(null===b||void 0===b?void 0:b.id))return q("\ud648\ud300\uacfc \uc6d0\uc815\ud300\uc774 \ub3d9\uc77c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");if(!_)return q("\uacbd\uae30 \ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");if(D.length+R.length+I.length+W.length===0)return q("\ucd5c\uc18c 1\uac1c \ubd84\uae30 \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc\ud574 \uc8fc\uc138\uc694.");try{Y(!0);const e=Tb()(_).tz(Lb),t=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"][e.day()],n="".concat(e.format("YYYY-MM-DD"),"(").concat(t,") ").concat(e.format("HH:mm")),s="\ub9ac\uadf8"===m?function(e,t){const n=e?Tb()(e).tz(Lb).year():Tb()().tz(Lb).year(),s=zb[t]||t||"";return"Amateur"===t?"".concat(n," \uc0ac\ud68c\uc778"):"".concat(n," ").concat(s," \ucd94\uacc4")}(e,f):void 0,i="".concat(String(y.id).slice(0,2).toUpperCase()).concat(String(b.id).slice(0,2).toUpperCase()).concat(e.format("YYYYMMDD")),r=d({homeTeam:y.id,awayTeam:b.id,date:n,type:Vb(m),score:{home:Number(k||0),away:Number(A||0)},location:N,region:f},"\ub9ac\uadf8"===m?{week:T,leagueName:s}:{}),o={Q1:D.length,Q2:R.length,Q3:I.length,Q4:W.length},l=await async function(e){const t=await fetch("".concat(jt).concat(Et.PREPARE_MATCH_UPLOAD),{method:"POST",headers:Cb(),body:JSON.stringify(e)}),n=await kb(t);if(!t.ok)throw new Error((null===n||void 0===n?void 0:n.message)||"prepare-match-upload \uc2e4\ud328");return n}({gameKey:i,gameInfo:r,quarterVideoCounts:o}),{data:c}=l,h={Q1:D,Q2:R,Q3:I,Q4:W},u=c.uploadUrls||{},p=[];if(Object.keys(u).forEach(e=>{(u[e]||[]).forEach((t,n)=>{var s;const a=null===(s=h[e])||void 0===s?void 0:s[n];a&&p.push({quarter:e,idx:n,url:t.uploadUrl,file:a,uploadData:{gameKey:i,fileName:t.fileName,s3Path:t.s3Path}})})}),0===p.length)throw new Error("\uc5c5\ub85c\ub4dc\ud560 \ud30c\uc77c/URL\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");const g=3;for(let a=0;a<p.length;a+=g){const e=p.slice(a,a+g),t=await Promise.allSettled(e.map(e=>Ab(e.uploadData,e.file,{contentTypeStrategy:"omit",timeoutMs:3e5}))),n=e.filter((e,n)=>"rejected"===t[n].status);if(n.length){const s=await Promise.allSettled(n.map(e=>Ab(e.uploadData,e.file,{contentTypeStrategy:"omit",timeoutMs:3e5}))),i=s.filter(e=>"rejected"===e.status).length;if(i)throw console.error("S3 \uc5c5\ub85c\ub4dc \uc2e4\ud328 \ubc30\uce58:",{batch:e,first:t,second:s}),new Error("S3 \uc5c5\ub85c\ub4dc \uc2e4\ud328 ".concat(i,"\uac1c"))}}const v={Q1:(u.Q1||[]).map(e=>e.fileName),Q2:(u.Q2||[]).map(e=>e.fileName),Q3:(u.Q3||[]).map(e=>e.fileName),Q4:(u.Q4||[]).map(e=>e.fileName)};await async function(e){const t=await fetch("".concat(jt).concat(Et.COMPLETE_MATCH_UPLOAD),{method:"POST",headers:Cb(),body:JSON.stringify(e)}),n=await t.text().catch(()=>"");if(!t.ok)throw new Error("complete-match-upload \uc2e4\ud328 (".concat(t.status,") ").concat(n||""));if(!n)return{};try{return JSON.parse(n)}catch(s){return{raw:n}}}({gameKey:i,uploadedVideos:v}),null===a||void 0===a||a(),$()}catch(t){q((null===t||void 0===t?void 0:t.message)||"\uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{Y(!1)}},children:[(0,qt.jsxs)("section",{className:"uvm-col left",children:[(0,qt.jsx)("h3",{className:"uvm-section-title",children:"\uacbd\uae30 \uc815\ubcf4 \uc785\ub825"}),(0,qt.jsxs)("div",{className:"uvm-row",children:[(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uacbd\uae30 \uc720\ud615"}),(0,qt.jsxs)("select",{value:m,onChange:e=>{return t=e.target.value,g(t),void("\ub9ac\uadf8"===t?P(""):(v(""),E(""),P(""),O("select")));var t},children:[(0,qt.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\uacbd\uae30 \uc720\ud615 \uc120\ud0dd"}),Yb.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))]})]}),m?"\ub9ac\uadf8"===m?(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uc9c0\uc5ed(\ub9ac\uadf8)"}),(0,qt.jsxs)("select",{value:f,onChange:e=>v(e.target.value),children:[(0,qt.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\uc9c0\uc5ed \uc120\ud0dd"}),Hb.map(e=>(0,qt.jsx)("option",{value:e.key,children:e.label},e.key))]})]}):(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uacbd\uae30\uc7a5"}),"select"===M&&Z.length>0?(0,qt.jsxs)("div",{className:"stadium-select-line",children:[(0,qt.jsxs)("select",{value:N||"",onChange:e=>P(e.target.value),children:[(0,qt.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\uacbd\uae30\uc7a5 \uc120\ud0dd"}),Z.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))]}),(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{P(""),O("custom")},style:{marginLeft:8},children:"\uc9c1\uc811 \uc785\ub825"})]}):(0,qt.jsxs)("div",{className:"stadium-input-line",children:[(0,qt.jsx)("input",{value:N,onChange:e=>P(e.target.value),placeholder:"\uacbd\uae30\uc7a5\uc744 \uc785\ub825\ud558\uc138\uc694"}),Z.length>0&&(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{P(""),O("select")},style:{marginLeft:8},children:"\ubaa9\ub85d\uc5d0\uc11c \uc120\ud0dd"})]})]}):(0,qt.jsx)("div",{className:"uvm-field two uvm-spacer"})]}),"\ub9ac\uadf8"===m&&f&&(0,qt.jsxs)("div",{className:"uvm-row",children:[(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uc8fc\ucc28"}),(0,qt.jsxs)("select",{value:T,onChange:e=>E(e.target.value),disabled:!X||!f||0===ee.length,children:[!T&&(0,qt.jsx)("option",{value:"",disabled:!0,children:"\uc8fc\ucc28 \uc120\ud0dd"}),ee.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))]})]}),(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uacbd\uae30\uc7a5"}),"select"===M&&Z.length>0&&(0,qt.jsxs)("div",{className:"stadium-select-line",children:[(0,qt.jsxs)("select",{value:N||"",onChange:e=>P(e.target.value),children:[(0,qt.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"\uacbd\uae30\uc7a5 \uc120\ud0dd"}),Z.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))]}),(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{P(""),O("custom")},style:{marginLeft:8},children:"\uc9c1\uc811 \uc785\ub825"})]}),("custom"===M||0===Z.length)&&(0,qt.jsxs)("div",{className:"stadium-input-line",children:[(0,qt.jsx)("input",{value:N,onChange:e=>P(e.target.value),placeholder:"\uacbd\uae30\uc7a5\uc744 \uc785\ub825\ud558\uc138\uc694"}),Z.length>0&&(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{P(""),O("select")},style:{marginLeft:8},children:"\ubaa9\ub85d\uc5d0\uc11c \uc120\ud0dd"})]})]})]}),ne&&(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsxs)("div",{className:"uvm-row",children:[(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\ud648\ud300 (HOME)"}),(0,qt.jsx)(qb,{value:y,options:Q,onChange:x,placeholder:"\ub9ac\uadf8"===m?"\ud574\ub2f9 \uc9c0\uc5ed \ud648\ud300 \uc120\ud0dd":"\ud648\ud300 \uc120\ud0dd"})]}),(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uc6d0\uc815\ud300 (AWAY)"}),(0,qt.jsx)(qb,{value:b,options:J,onChange:w,placeholder:"\ub9ac\uadf8"===m?"\ud574\ub2f9 \uc9c0\uc5ed \uc6d0\uc815\ud300 \uc120\ud0dd":"\uc6d0\uc815\ud300 \uc120\ud0dd"})]})]}),(0,qt.jsxs)("div",{className:"uvm-row",children:[(0,qt.jsxs)("div",{className:"uvm-field two uvm-dtp-wrap",children:[(0,qt.jsx)("label",{children:"\uacbd\uae30 \ub0a0\uc9dc/\uc2dc\uac04"}),(0,qt.jsx)("button",{type:"button",className:"dtpButton uvm-dtp",onClick:()=>G(e=>!e),children:_?Tb()(_).tz(Lb).format("YYYY-MM-DD HH:mm"):"\ub0a0\uc9dc/\uc2dc\uac04 \uc120\ud0dd"}),z&&(0,qt.jsx)(Nb,{value:_?Tb()(_).tz(Lb):Tb()().tz(Lb),onChange:e=>S(e.tz(Lb).format()),onClose:()=>G(!1),minuteStep:10})]}),(0,qt.jsxs)("div",{className:"uvm-field two",children:[(0,qt.jsx)("label",{children:"\uc2a4\ucf54\uc5b4 (\ud648\ud300 | \uc5b4\uc6e8\uc774\ud300)"}),(0,qt.jsxs)("div",{className:"uvm-row uvm-row-3col",children:[(0,qt.jsx)("input",{type:"number",min:"0",value:k,onChange:e=>C(e.target.value),placeholder:"HOME"}),(0,qt.jsx)("span",{className:"uvm-sep",children:":"}),(0,qt.jsx)("input",{type:"number",min:"0",value:A,onChange:e=>j(e.target.value),placeholder:"AWAY"})]})]})]})]})]}),(0,qt.jsxs)("section",{className:"uvm-col right",children:[(0,qt.jsx)("h3",{className:"uvm-section-title",children:"\uacbd\uae30 \uc601\uc0c1 \uc5c5\ub85c\ub4dc"}),(0,qt.jsxs)("div",{className:"uvm-quarter-rows",children:[(0,qt.jsx)(Kb,{q:"Q1",files:D,onPick:e=>L(t=>[...t,...e]),onClear:()=>L([])}),(0,qt.jsx)(Kb,{q:"Q2",files:R,onPick:e=>F(t=>[...t,...e]),onClear:()=>F([])}),(0,qt.jsx)(Kb,{q:"Q3",files:I,onPick:e=>B(t=>[...t,...e]),onClear:()=>B([])}),(0,qt.jsx)(Kb,{q:"Q4",files:W,onPick:e=>U(t=>[...t,...e]),onClear:()=>U([])}),V&&(0,qt.jsx)("p",{className:"uvm-error",children:V})]}),(0,qt.jsxs)("div",{className:"uvm-actions",children:[(0,qt.jsx)("button",{type:"button",className:"btn",onClick:()=>{p("Q1"),h("preview")},disabled:H||D.length+R.length+I.length+W.length===0,style:{marginRight:8},children:"\uc601\uc0c1 \ud655\uc778"}),(0,qt.jsx)("button",{type:"submit",className:"btn primary",disabled:H,children:H?"\uc5c5\ub85c\ub4dc \uc911\u2026":"\uacbd\uae30 \uc5c5\ub85c\ub4dc"})]})]})]}):(0,qt.jsx)("div",{className:"uvm-body uvm-body-preview",children:(0,qt.jsxs)("section",{className:"uvm-col left",style:{gridColumn:"1 / -1"},children:[(0,qt.jsxs)("div",{className:"uvm-preview-head",children:[(0,qt.jsx)("h3",{className:"uvm-section-title",children:"\ubd84\uae30\ubcc4 \uc601\uc0c1 \ud655\uc778"}),(0,qt.jsxs)("div",{className:"uvm-tabline",children:[["Q1","Q2","Q3","Q4"].map(e=>(0,qt.jsxs)("button",{type:"button",className:"fpm-tab inline ".concat(u===e?"active":""),onClick:()=>{K(),p(e)},children:[e," (",((null===te||void 0===te?void 0:te[e])||[]).length,")"]},e)),(0,qt.jsx)("div",{className:"spacer"}),(0,qt.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{K(),h("form")},children:"\ub3cc\uc544\uac00\uae30"})]})]}),(0,qt.jsx)("div",{className:"fpm-body inline",children:0===((null===te||void 0===te?void 0:te[u])||[]).length?(0,qt.jsx)("div",{className:"fpm-empty",children:"\ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,qt.jsx)("ul",{className:"fpm-list inline",children:((null===te||void 0===te?void 0:te[u])||[]).map((e,t)=>(0,qt.jsx)(Fb,{file:e,onDelete:()=>((e,t)=>{const n={Q1:L,Q2:F,Q3:B,Q4:U}[e];n&&n(e=>e.filter((e,n)=>n!==t))})(u,t)},"".concat(e.name,"-").concat(e.size,"-").concat(e.lastModified||0)))})})]})})]})}):null},Qb=()=>{const[e,t]=(0,s.useState)(window.innerWidth);return(0,s.useEffect)(()=>{const e=()=>{t(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e},Jb=()=>(0,qt.jsxs)("div",{className:"device-warning-overlay",children:[(0,qt.jsxs)("div",{className:"device-warning-text",children:[(0,qt.jsx)("h1",{children:"Stech \uc11c\ube44\uc2a4\ub294 PC\uc5d0\uc11c\ub9cc \uc2e4\ud589 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),(0,qt.jsx)("p",{children:"\ud398\uc774\uc9c0 \ub108\ube44\ub97c \ub2e4\uc2dc \ub113\ud600\uc8fc\uc138\uc694!"}),(0,qt.jsx)("p",{children:"\ubaa8\ubc14\uc77c\uacfc \ud0dc\ube14\ub9bf \ubc84\uc804\uc740 \uac1c\ubc1c \uc911\uc5d0 \uc788\uc2b5\ub2c8\ub2e4."}),(0,qt.jsx)("p",{children:"\ubd88\ud3b8\uc744 \ub4dc\ub824 \uc815\ub9d0 \uc8c4\uc1a1\ud569\ub2c8\ub2e4."})]}),(0,qt.jsxs)("div",{className:"device-warning-buttons",children:[(0,qt.jsx)("button",{onClick:()=>window.history.back(),className:"back-button",children:"\u2190 \uc774\uc804 \ud398\uc774\uc9c0"}),(0,qt.jsx)("button",{onClick:()=>window.location.href="/",className:"home-button",children:"\u2302 \ud648\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})]})]}),Zb=()=>{const e=ue(),t=fe(),[n,i]=(0,s.useState)(!1),a=!!pe("/service/video/*"),r=!!pe("/service/guest/video/*"),o=a||r;return Qb()<=1200?(0,qt.jsx)(Jb,{}):(0,qt.jsxs)(qt.Fragment,{children:[o?(0,qt.jsx)("div",{className:"flex-1",children:(0,qt.jsx)(Le,{})}):(0,qt.jsxs)("div",{className:"serviceLayoutContainer",children:[(0,qt.jsx)(gb,{className:"serviceSidebar"}),(0,qt.jsx)("main",{className:"flex-1",children:(0,qt.jsx)(Le,{})})]}),(0,qt.jsx)(Xb,{isOpen:n,onClose:()=>i(!1),onUploaded:()=>console.log("upload ok")}),e.pathname.startsWith("/service/support")&&(0,qt.jsx)(vb,{onClose:()=>t(-1)})]})},$b=()=>{fe();return(0,qt.jsxs)("div",{className:"serviceHomeContainer",children:[(0,qt.jsxs)("div",{className:"serviceHomeHeader",children:[(0,qt.jsx)("img",{src:Rx,alt:"STECH Logo",className:"serviceHomeLogo"}),(0,qt.jsx)("h1",{className:"serviceHomeTitle",children:"\uc0ac\uc6a9\ubc29\ubc95"})]}),(0,qt.jsx)("div",{className:"tutorialContainer",children:(0,qt.jsx)("iframe",{src:"https://player.vimeo.com/video/1108074372?badge=0&autopause=0&player_id=0&app_id=58479",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share",referrerPolicy:"strict-origin-when-cross-origin",className:"tutorialVideo",title:"\ubbf8\uc2dd\ucd95\uad6c \uc601\uc0c1 \ubd84\uc11d \uc11c\ube44\uc2a4 \uc0ac\uc6a9\ubc95"})})]})},ew=()=>{};function tw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 14l4 -4l-4 -4"},child:[]},{tag:"path",attr:{d:"M16 14l4 -4l-4 -4"},child:[]},{tag:"path",attr:{d:"M15 10h-7a4 4 0 1 0 0 8h1"},child:[]}]})(e)}function nw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 5v14l8 -7z"},child:[]},{tag:"path",attr:{d:"M14 5v14l8 -7z"},child:[]}]})(e)}function sw(e){return Vx({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"},child:[]}]})(e)}function iw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function aw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function rw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ow(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"},child:[]}]})(e)}function lw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007 209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 0 0 172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 0 0 5.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"},child:[]}]})(e)}function cw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"},child:[]}]})(e)}function dw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function hw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function uw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function pw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function mw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function gw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function fw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function vw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function yw(e){return Vx({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"},child:[]}]})(e)}const xw="video_player_settings",bw={playbackRate:1,skipTime:1,language:"ko",screenRatio:"1920:1080",teamRank:1,leaguePosition:1,hotkeys:{forward:"D",backward:"A",nextVideo:"N",prevVideo:"M"}},ww=()=>{const[e,t]=(0,s.useState)(()=>{try{const e=localStorage.getItem(xw);if(e){const t=JSON.parse(e);return d(d(d({},bw),t),{},{hotkeys:d(d({},bw.hotkeys),t.hotkeys||{})})}return bw}catch(e){return console.error("Failed to load settings from localStorage:",e),bw}});(0,s.useEffect)(()=>{try{localStorage.setItem(xw,JSON.stringify(e))}catch(t){console.error("Failed to save settings to localStorage:",t)}},[e]);return{settings:e,updateSetting:(e,n)=>{t(t=>d(d({},t),{},{[e]:n}))},updateHotkey:(e,n)=>{t(t=>d(d({},t),{},{hotkeys:d(d({},t.hotkeys),{},{[e]:n.toUpperCase()})}))},resetSettings:()=>{t(bw)}}},_w={quarter:null,playType:null,significantPlay:[],team:null};function Sw(e){let{persistKey:t="clipFilters:default",rawClips:n=[],teamOptions:i=[],opposites:a={},initialFilters:r={},significantPlayField:o="significantPlay"}=e;const l=(0,s.useRef)(!1),[c,h]=(0,s.useState)(()=>{if(r&&Object.keys(r).length>0)return l.current=!0,d(d({},_w),r);try{const i=localStorage.getItem(t);if(i){var e,n,s;const t=JSON.parse(i);return l.current=!0,{quarter:null!==(e=null===t||void 0===t?void 0:t.quarter)&&void 0!==e?e:null,playType:null!==(n=null===t||void 0===t?void 0:t.playType)&&void 0!==n?n:null,significantPlay:Array.isArray(null===t||void 0===t?void 0:t.significantPlay)?t.significantPlay:[],team:null!==(s=null===t||void 0===t?void 0:t.team)&&void 0!==s?s:null}}}catch(i){}return l.current=!0,d({},_w)}),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(l.current)return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{try{localStorage.setItem(t,JSON.stringify(c))}catch(e){}},500),()=>{u.current&&clearTimeout(u.current)}},[c,t]);const p=(0,s.useRef)(i);(0,s.useEffect)(()=>{JSON.stringify(p.current)!==JSON.stringify(i)&&(p.current=i,c.team&&!i.some(e=>e.value===c.team)&&h(e=>d(d({},e),{},{team:null})))},[i,c.team]);const m=(0,s.useMemo)(()=>n?n.filter(e=>{var t;if(c.team&&e.offensiveTeam!==c.team)return!1;if(c.quarter&&e.quarter!==c.quarter)return!1;if(c.playType&&e.playType!==c.playType)return!1;if(null!==(t=c.significantPlay)&&void 0!==t&&t.length){const t=e[o];if(!t||!Array.isArray(t)||0===t.length)return!1;const n=t.some(e=>c.significantPlay.includes(e));if(!n)return!1}return!0}):[],[n,c,o]),g=(0,s.useMemo)(()=>({team:c.team||"\uacf5\uaca9\ud300",quarter:c.quarter?"Q".concat(c.quarter):"\ucffc\ud130",playType:c.playType||"\uc720\ud615",significant:(()=>{const e=c.significantPlay||[];return 0===e.length?"\uc911\uc694\ud50c\ub808\uc774":1===e.length?e[0]:"".concat(e[0]," \uc678 ").concat(e.length-1)})()}),[c]);return{filters:c,setFilters:h,summaries:g,clips:m,handleFilterChange:(e,t)=>{h(n=>{const s=d({},n);switch(e){case"team":s.team=t||null;break;case"quarter":s.quarter=null!==t&&void 0!==t?t:null;break;case"playType":s.playType=t||null;break;case"significantPlay":{const e=[...n.significantPlay||[]],i=e.indexOf(t);if(i>=0)e.splice(i,1);else{const n=null===a||void 0===a?void 0:a[t];if(n){const t=e.indexOf(n);t>=0&&e.splice(t,1)}e.push(t)}s.significantPlay=e;break}}return s})},clearAllFilters:()=>h(d({},_w))}}function kw(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function Aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cw(Object(n),!0).forEach(function(t){kw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jw(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class Ew{constructor(){kw(this,"browserShadowBlurConstant",1),kw(this,"DPI",96),kw(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),kw(this,"perfLimitSizeTotal",2097152),kw(this,"maxCacheSideLimit",4096),kw(this,"minCacheSideLimit",256),kw(this,"disableStyleCopyPaste",!1),kw(this,"enableGLFiltering",!0),kw(this,"textureSize",4096),kw(this,"forceGLPutImageData",!1),kw(this,"cachesBoundsOfCurve",!1),kw(this,"fontPaths",{}),kw(this,"NUM_FRACTION_DIGITS",4)}}const Nw=new class extends Ew{constructor(e){super(),this.configure(e)}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}addFonts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=Aw(Aw({},this.fontPaths),e)}removeFonts(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(e=>{delete this.fontPaths[e]})}clearFonts(){this.fontPaths={}}restoreDefaults(e){const t=new Ew,n=(null==e?void 0:e.reduce((e,n)=>(e[n]=t[n],e),{}))||t;this.configure(n)}},Pw=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return console[e]("fabric",...n)};class Mw extends Error{constructor(e,t){super("fabric: ".concat(e),t)}}class Ow extends Mw{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class Dw{}class Lw extends Dw{testPrecision(e,t){const n="precision ".concat(t," float;\nvoid main(){}"),s=e.createShader(e.FRAGMENT_SHADER);return!!s&&(e.shaderSource(s,n),e.compileShader(s),!!e.getShaderParameter(s,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(e=>this.testPrecision(t,e)),t.getExtension("WEBGL_lose_context").loseContext(),Pw("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const Rw={};let Fw;const Iw=()=>Fw||(Fw={document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Lw,dispose(){},copyPasteData:Rw}),Bw=()=>Iw().document,Ww=()=>Iw().window,Uw=()=>{var e;return Math.max(null!==(e=Nw.devicePixelRatio)&&void 0!==e?e:Ww().devicePixelRatio,1)},zw=new class{constructor(){kw(this,"charWidthsCache",{}),kw(this,"boundsOfCurveCache",{})}getFontCache(e){let{fontFamily:t,fontStyle:n,fontWeight:s}=e;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const i=this.charWidthsCache[t],a="".concat(n.toLowerCase(),"_").concat((s+"").toLowerCase());return i[a]||(i[a]={}),i[a]}clearFontCache(e){(e=(e||"").toLowerCase())?this.charWidthsCache[e]&&delete this.charWidthsCache[e]:this.charWidthsCache={}}limitDimsByArea(e){const{perfLimitSizeTotal:t}=Nw,n=Math.sqrt(t*e);return[Math.floor(n),Math.floor(t/n)]}},Gw="6.7.1";function Hw(){}const Yw=Math.PI/2,Vw=2*Math.PI,qw=Math.PI/180,Kw=Object.freeze([1,0,0,1,0,0]),Xw=16,Qw=.4477152502,Jw="center",Zw="left",$w="top",e_="bottom",t_="right",n_="none",s_=/\r?\n/,i_="moving",a_="scaling",r_="rotating",o_="rotate",l_="skewing",c_="resizing",d_="modifyPoly",h_="modifyPath",u_="changed",p_="scale",m_="scaleX",g_="scaleY",f_="skewX",v_="skewY",y_="fill",x_="stroke",b_="modified",w_="json",__="svg",S_=new class{constructor(){this[w_]=new Map,this[__]=new Map}has(e){return this[w_].has(e)}getClass(e){const t=this[w_].get(e);if(!t)throw new Mw("No class registered for ".concat(e));return t}setClass(e,t){t?this[w_].set(t,e):(this[w_].set(e.type,e),this[w_].set(e.type.toLowerCase(),e))}getSVGClass(e){return this[__].get(e)}setSVGClass(e,t){this[__].set(null!=t?t:e.type.toLowerCase(),e)}},k_=new class extends Array{remove(e){const t=this.indexOf(e);t>-1&&this.splice(t,1)}cancelAll(){const e=this.splice(0);return e.forEach(e=>e.abort()),e}cancelByCanvas(e){if(!e)return[];const t=this.filter(t=>{var n;return t.target===e||"object"==typeof t.target&&(null===(n=t.target)||void 0===n?void 0:n.canvas)===e});return t.forEach(e=>e.abort()),t}cancelByTarget(e){if(!e)return[];const t=this.filter(t=>t.target===e);return t.forEach(e=>e.abort()),t}};class C_{constructor(){kw(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach(e=>{let[t,n]=e;this.on(t,n)}),()=>this.off(e);if(t){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),()=>this.off(n,t)}return()=>!1}once(e,t){if("object"==typeof e){const t=[];return Object.entries(e).forEach(e=>{let[n,s]=e;t.push(this.once(n,s))}),()=>t.forEach(e=>e())}if(t){const n=this.on(e,function(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];t.call(this,...s),n()});return n}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const n=this.__eventListeners[e],s=n.indexOf(t);s>-1&&n.splice(s,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(void 0===e)for(const n in this.__eventListeners)this._removeEventListener(n);else"object"==typeof e?Object.entries(e).forEach(e=>{let[t,n]=e;this._removeEventListener(t,n)}):this._removeEventListener(e,t)}fire(e,t){var n;if(!this.__eventListeners)return;const s=null===(n=this.__eventListeners[e])||void 0===n?void 0:n.concat();if(s)for(let i=0;i<s.length;i++)s[i].call(this,t||{})}}const A_=(e,t)=>{const n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},j_=e=>{if(0===e)return 1;switch(Math.abs(e)/Yw){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},T_=e=>{if(0===e)return 0;const t=e/Yw,n=Math.sign(e);switch(t){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(e)};class E_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof e?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new E_(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new E_(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new E_(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new E_(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new E_(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new E_(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new E_(this.x/e.x,this.y/e.y)}scalarDivide(e){return new E_(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new E_(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new E_(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new E_(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n}clone(){return new E_(this.x,this.y)}rotate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N_;const n=T_(e),s=j_(e),i=this.subtract(t);return new E_(i.x*s-i.y*n,i.x*n+i.y*s).add(t)}transform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new E_(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const N_=new E_(0,0),P_=e=>!!e&&Array.isArray(e._objects);function M_(e){class t extends e{constructor(){super(...arguments),kw(this,"_objects",[])}_onObjectAdded(e){}_onObjectRemoved(e){}_onStackOrderChanged(e){}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=this._objects.push(...t);return t.forEach(e=>this._onObjectAdded(e)),s}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return this._objects.splice(e,0,...n),n.forEach(e=>this._onObjectAdded(e)),this._objects.length}remove(){const e=this._objects,t=[];for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.forEach(n=>{const s=e.indexOf(n);-1!==s&&(e.splice(s,1),t.push(n),this._onObjectRemoved(n))}),t}forEachObject(e){this.getObjects().forEach((t,n,s)=>e(t,n,s))}getObjects(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?[...this._objects]:this._objects.filter(e=>e.isType(...t))}item(e){return this._objects[e]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(e,n){return!!this._objects.includes(e)||!!n&&this._objects.some(n=>n instanceof t&&n.contains(e,!0))}complexity(){return this._objects.reduce((e,t)=>e+(t.complexity?t.complexity():0),0)}sendObjectToBack(e){return!(!e||e===this._objects[0])&&(A_(this._objects,e),this._objects.unshift(e),this._onStackOrderChanged(e),!0)}bringObjectToFront(e){return!(!e||e===this._objects[this._objects.length-1])&&(A_(this._objects,e),this._objects.push(e),this._onStackOrderChanged(e),!0)}sendObjectBackwards(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(0!==n){const s=this.findNewLowerIndex(e,n,t);return A_(this._objects,e),this._objects.splice(s,0,e),this._onStackOrderChanged(e),!0}return!1}bringObjectForward(e,t){if(!e)return!1;const n=this._objects.indexOf(e);if(n!==this._objects.length-1){const s=this.findNewUpperIndex(e,n,t);return A_(this._objects,e),this._objects.splice(s,0,e),this._onStackOrderChanged(e),!0}return!1}moveObjectTo(e,t){return e!==this._objects[t]&&(A_(this._objects,e),this._objects.splice(t,0,e),this._onStackOrderChanged(e),!0)}findNewLowerIndex(e,t,n){let s;if(n){s=t;for(let n=t-1;n>=0;--n)if(e.isOverlapping(this._objects[n])){s=n;break}}else s=t-1;return s}findNewUpperIndex(e,t,n){let s;if(n){s=t;for(let n=t+1;n<this._objects.length;++n)if(e.isOverlapping(this._objects[n])){s=n;break}}else s=t+1;return s}collectObjects(e){let{left:t,top:n,width:s,height:i}=e,{includeIntersecting:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[],o=new E_(t,n),l=o.add(new E_(s,i));for(let c=this._objects.length-1;c>=0;c--){const e=this._objects[c];e.selectable&&e.visible&&(a&&e.intersectsWithRect(o,l)||e.isContainedWithinRect(o,l)||a&&e.containsPoint(o)||a&&e.containsPoint(l))&&r.push(e)}return r}}return t}class O_ extends C_{_setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this}get(e){return this[e]}}function D_(e){return Ww().requestAnimationFrame(e)}function L_(e){return Ww().cancelAnimationFrame(e)}let R_=0;const F_=()=>R_++,I_=()=>{const e=Bw().createElement("canvas");if(!e||void 0===e.getContext)throw new Mw("Failed to create `canvas` element");return e},B_=()=>Bw().createElement("img"),W_=e=>{const t=I_();return t.width=e.width,t.height=e.height,t},U_=(e,t,n)=>e.toDataURL("image/".concat(t),n),z_=(e,t,n)=>new Promise((s,i)=>{e.toBlob(s,"image/".concat(t),n)}),G_=e=>e*qw,H_=e=>e/qw,Y_=e=>e.every((e,t)=>e===Kw[t]),V_=(e,t,n)=>new E_(e).transform(t,n),q_=e=>{const t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],{x:s,y:i}=new E_(e[4],e[5]).transform(n,!0);return n[4]=-s,n[5]=-i,n},K_=(e,t,n)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]],X_=(e,t)=>e.reduceRight((e,n)=>n&&e?K_(n,e,t):n||e,void 0)||Kw.concat(),Q_=e=>{let[t,n]=e;return Math.atan2(n,t)},J_=e=>{const t=Q_(e),n=Math.pow(e[0],2)+Math.pow(e[1],2),s=Math.sqrt(n),i=(e[0]*e[3]-e[2]*e[1])/s,a=Math.atan2(e[0]*e[2]+e[1]*e[3],n);return{angle:H_(t),scaleX:s,scaleY:i,skewX:H_(a),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},Z_=function(e){return[1,0,0,1,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function $_(){let{angle:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:t=0,y:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=G_(e),i=j_(s),a=T_(s);return[i,a,-a,i,t?t-(i*t-a*n):0,n?n-(a*t+i*n):0]}const eS=function(e){return[e,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,0,0]},tS=e=>Math.tan(G_(e)),nS=e=>[1,0,tS(e),1,0,0],sS=e=>[1,tS(e),0,1,0,0],iS=e=>{let{scaleX:t=1,scaleY:n=1,flipX:s=!1,flipY:i=!1,skewX:a=0,skewY:r=0}=e,o=eS(s?-t:t,i?-n:n);return a&&(o=K_(o,nS(a),!0)),r&&(o=K_(o,sS(r),!0)),o},aS=e=>{const{translateX:t=0,translateY:n=0,angle:s=0}=e;let i=Z_(t,n);s&&(i=K_(i,$_({angle:s})));const a=iS(e);return Y_(a)||(i=K_(i,a)),i},rS=function(e){let{signal:t,crossOrigin:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(s,i){if(t&&t.aborted)return i(new Ow("loadImage"));const a=B_();let r;t&&(r=function(e){a.src="",i(e)},t.addEventListener("abort",r,{once:!0}));const o=function(){a.onload=a.onerror=null,r&&(null==t||t.removeEventListener("abort",r)),s(a)};e?(a.onload=o,a.onerror=function(){r&&(null==t||t.removeEventListener("abort",r)),i(new Mw("Error loading ".concat(a.src)))},n&&(a.crossOrigin=n),a.src=e):o()})},oS=function(e){let{signal:t,reviver:n=Hw}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((s,i)=>{const a=[];t&&t.addEventListener("abort",i,{once:!0}),Promise.all(e.map(e=>S_.getClass(e.type).fromObject(e,{signal:t}).then(t=>(n(e,t),a.push(t),t)))).then(s).catch(e=>{a.forEach(e=>{e.dispose&&e.dispose()}),i(e)}).finally(()=>{t&&t.removeEventListener("abort",i)})})},lS=function(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n,s)=>{const i=[];t&&t.addEventListener("abort",s,{once:!0});const a=Object.values(e).map(e=>e&&e.type&&S_.has(e.type)?oS([e],{signal:t}).then(e=>{let[t]=e;return i.push(t),t}):e),r=Object.keys(e);Promise.all(a).then(e=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{})).then(n).catch(e=>{i.forEach(e=>{e.dispose&&e.dispose()}),s(e)}).finally(()=>{t&&t.removeEventListener("abort",s)})})},cS=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{})},dS=(e,t)=>Object.keys(e).reduce((n,s)=>(t(e[s],s,e)&&(n[s]=e[s]),n),{}),hS=(e,t)=>parseFloat(Number(e).toFixed(t)),uS=e=>"matrix("+e.map(e=>hS(e,Nw.NUM_FRACTION_DIGITS)).join(" ")+")",pS=e=>!!e&&void 0!==e.toLive,mS=e=>!!e&&"function"==typeof e.toObject,gS=e=>!!e&&void 0!==e.offsetX&&"source"in e,fS=e=>!!e&&"multiSelectionStacking"in e;function vS(e){const t=e&&yS(e);let n=0,s=0;if(!e||!t)return{left:n,top:s};let i=e;const a=t.documentElement,r=t.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===t?(n=r.scrollLeft||a.scrollLeft||0,s=r.scrollTop||a.scrollTop||0):(n+=i.scrollLeft||0,s+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:n,top:s}}const yS=e=>e.ownerDocument||null,xS=e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null},bS=function(e,t,n){let{width:s,height:i}=n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.width=s,e.height=i,a>1&&(e.setAttribute("width",(s*a).toString()),e.setAttribute("height",(i*a).toString()),t.scale(a,a))},wS=(e,t)=>{let{width:n,height:s}=t;n&&(e.style.width="number"==typeof n?"".concat(n,"px"):n),s&&(e.style.height="number"==typeof s?"".concat(s,"px"):s)};function _S(e){return void 0!==e.onselectstart&&(e.onselectstart=()=>!1),e.style.userSelect=n_,e}class SS{constructor(e){kw(this,"_originalCanvasStyle",void 0),kw(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(n=e)&&void 0!==n.getContext?e:e&&Bw().getElementById(e)||I_();var n;if(t.hasAttribute("data-fabric"))throw new Mw("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:n}=e;const{el:s}=this.lower;s.classList.remove("lower-canvas"),s.removeAttribute("data-fabric"),s.setAttribute("width","".concat(t)),s.setAttribute("height","".concat(n)),s.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:n,ctx:s}=this.lower;bS(n,s,e,t)}setCSSDimensions(e){wS(this.lower.el,e)}calcOffset(){return function(e){var t;const n=e&&yS(e),s={left:0,top:0};if(!n)return s;const i=(null===(t=xS(e))||void 0===t?void 0:t.getComputedStyle(e,null))||{};s.left+=parseInt(i.borderLeftWidth,10)||0,s.top+=parseInt(i.borderTopWidth,10)||0,s.left+=parseInt(i.paddingLeft,10)||0,s.top+=parseInt(i.paddingTop,10)||0;let a={left:0,top:0};const r=n.documentElement;void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect());const o=vS(e);return{left:a.left+o.left-(r.clientLeft||0)+s.left,top:a.top+o.top-(r.clientTop||0)+s.top}}(this.lower.el)}dispose(){Iw().dispose(this.lower.el),delete this.lower}}const kS={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Kw]};class CS extends(M_(O_)){get lowerCanvasEl(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.el}get contextContainer(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.ctx}static getDefaults(){return CS.ownDefaults}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new SS(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const i=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Pw("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?Uw():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t){const t=Aw({width:this.width,height:this.height},e);this.elements.setDimensions(t,this.getRetinaScaling()),this.hasLostContext=!0,this.width=t.width,this.height=t.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const n=e,s=[...this.viewportTransform],i=V_(e,q_(s));s[0]=t,s[3]=t;const a=V_(i,s);s[4]+=n.x-a.x,s[5]+=n.y-a.y,this.setViewportTransform(s)}setZoom(e){this.zoomToPoint(new E_(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new E_(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=D_(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,n=q_(this.viewportTransform),s=V_({x:0,y:0},n),i=V_({x:e,y:t},n),a=s.min(i),r=s.max(i);return this.vptCoords={tl:a,tr:new E_(r.x,a.y),bl:new E_(a.x,r.y),br:r}}cancelRequestedRender(){this.nextRenderHandle&&(L_(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const n=this.viewportTransform,s=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),s&&(s._set("canvas",this),s.shouldCache(),s._transformDone=!0,s.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,s)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let n=0,s=t.length;n<s;++n)t[n]&&t[n].render(e)}_renderBackgroundOrOverlay(e,t){const n=this["".concat(t,"Color")],s=this["".concat(t,"Image")],i=this.viewportTransform,a=this["".concat(t,"Vpt")];if(!n&&!s)return;const r=pS(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=r?n.toLive(e):n,a&&e.transform(...i),r){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const t=n.gradientTransform||n.patternTransform;t&&e.transform(...t)}e.fill(),e.restore()}if(s){e.save();const{skipOffscreen:t}=this;this.skipOffscreen=a,a&&e.transform(...i),s.render(e),this.skipOffscreen=t,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new E_(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new E_(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new E_(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new E_(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new E_(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return V_(this.getCenterPoint(),q_(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Jw,Jw),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const n=this.clipPath,s=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return Aw(Aw(Aw({version:Gw},cS(this,t)),{},{objects:this._objects.filter(e=>!e.excludeFromExport).map(n=>this._toObject(n,e,t))},this.__serializeBgOverlay(e,t)),s?{clipPath:s}:null)}_toObject(e,t,n){let s;this.includeDefaultValues||(s=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=!!s),i}__serializeBgOverlay(e,t){const n={},s=this.backgroundImage,i=this.overlayImage,a=this.backgroundColor,r=this.overlayColor;return pS(a)?a.excludeFromExport||(n.background=a.toObject(t)):a&&(n.background=a),pS(r)?r.excludeFromExport||(n.overlay=r.toObject(t)):r&&(n.overlay=r),s&&!s.excludeFromExport&&(n.backgroundImage=this._toObject(s,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n}toSVG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}_setSVGHeader(e,t){const n=t.width||"".concat(this.width),s=t.height||"".concat(this.height),i=Nw.NUM_FRACTION_DIGITS,a=t.viewBox;let r;if(a)r='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){const e=this.viewportTransform;r='viewBox="'.concat(hS(-e[4]/e[0],i)," ").concat(hS(-e[5]/e[3],i)," ").concat(hS(this.width/e[0],i)," ").concat(hS(this.height/e[3],i),'" ')}else r='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',s,'" ',r,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",Gw,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(F_()),'<clipPath id="'.concat(t.clipPathId,'" >\n').concat(t.toClipPathSVG(e.reviver),"</clipPath>\n")):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(pS(t)){const n=this["".concat(e,"Vpt")],s=this.viewportTransform,i={isType:()=>!1,width:this.width/(n?s[0]:1),height:this.height/(n?s[3]:1)};return t.toSVG(i,{additionalTransform:n?uS(s):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},n=Nw.fontPaths;this._objects.forEach(function t(n){e.push(n),P_(n)&&n._objects.forEach(t)}),e.forEach(e=>{if(!(s=e)||"function"!=typeof s._renderText)return;var s;const{styles:i,fontFamily:a}=e;!t[a]&&n[a]&&(t[a]=!0,i&&Object.values(i).forEach(e=>{Object.values(e).forEach(e=>{let{fontFamily:s=""}=e;!t[s]&&n[s]&&(t[s]=!0)})}))});const s=Object.keys(t).map(e=>"\t\t@font-face {\n\t\t\tfont-family: '".concat(e,"';\n\t\t\tsrc: url('").concat(n[e],"');\n\t\t}\n")).join("");return s?'\t<style type="text/css"><![CDATA[\n'.concat(s,"]]></style>\n"):""}_setSVGObjects(e,t){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,t)})}_setSVGObject(e,t,n){e.push(t.toSVG(n))}_setSVGBgOverlayImage(e,t,n){const s=this[t];s&&!s.excludeFromExport&&s.toSVG&&e.push(s.toSVG(n))}_setSVGBgOverlayColor(e,t){const n=this["".concat(t,"Color")];if(n)if(pS(n)){const s=n.repeat||"",i=this.width,a=this.height,r=this["".concat(t,"Vpt")]?uS(q_(this.viewportTransform)):"";e.push('<rect transform="'.concat(r," translate(").concat(i/2,",").concat(a/2,')" x="').concat(n.offsetX-i/2,'" y="').concat(n.offsetY-a/2,'" width="').concat("repeat-y"!==s&&"no-repeat"!==s||!gS(n)?i:n.source.width,'" height="').concat("repeat-x"!==s&&"no-repeat"!==s||!gS(n)?a:n.source.height,'" fill="url(#SVGID_').concat(n.id,')"></rect>\n'))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")}loadFromJSON(e,t){let{signal:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return Promise.reject(new Mw("`json` is undefined"));const s="string"==typeof e?JSON.parse(e):e,{objects:i=[],backgroundImage:a,background:r,overlayImage:o,overlay:l,clipPath:c}=s,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([oS(i,{reviver:t,signal:n}),lS({backgroundImage:a,backgroundColor:r,overlayImage:o,overlayColor:l,clipPath:c},{signal:n})]).then(e=>{let[t,n]=e;return this.clear(),this.add(...t),this.set(s),this.set(n),this.renderOnAddRemove=d,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=W_(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:s=1,enableRetinaScaling:i=!1}=e,a=s*(i?this.getRetinaScaling():1);return U_(this.toCanvasElement(a,e),t,n)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:t="png",quality:n=1,multiplier:s=1,enableRetinaScaling:i=!1}=e,a=s*(i?this.getRetinaScaling():1);return z_(this.toCanvasElement(a,e),t,n)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{width:t,height:n,left:s,top:i,filter:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||this.width)*e,o=(n||this.height)*e,l=this.getZoom(),c=this.width,d=this.height,h=this.skipControlsDrawing,u=l*e,p=this.viewportTransform,m=[u,0,0,u,(p[4]-(s||0))*e,(p[5]-(i||0))*e],g=this.enableRetinaScaling,f=W_({width:r,height:o}),v=a?this._objects.filter(e=>a(e)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=m,this.width=r,this.height=o,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),v),this.viewportTransform=p,this.width=c,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=h,f}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),k_.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const n=()=>{this.destroy(),e(!0)};n.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}kw(CS,"ownDefaults",kS);const AS=["touchstart","touchmove","touchend"],jS=e=>{const t=vS(e.target),n=function(e){const t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return new E_(n.clientX+t.left,n.clientY+t.top)},TS=e=>AS.includes(e.type)||"touch"===e.pointerType,ES=e=>{e.preventDefault(),e.stopPropagation()},NS=e=>{let t=0,n=0,s=0,i=0;for(let a=0,r=e.length;a<r;a++){const{x:r,y:o}=e[a];(r>s||!a)&&(s=r),(r<t||!a)&&(t=r),(o>i||!a)&&(i=o),(o<n||!a)&&(n=o)}return{left:t,top:n,width:s-t,height:i-n}},PS=["translateX","translateY","scaleX","scaleY"],MS=(e,t)=>OS(e,K_(t,e.calcOwnMatrix())),OS=(e,t)=>{const n=J_(t),{translateX:s,translateY:i,scaleX:a,scaleY:r}=n,o=jw(n,PS),l=new E_(s,i);e.flipX=!1,e.flipY=!1,Object.assign(e,o),e.set({scaleX:a,scaleY:r}),e.setPositionByOrigin(l,Jw,Jw)},DS=e=>{e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},LS=e=>({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}),RS=(e,t,n)=>{const s=e/2,i=t/2,a=[new E_(-s,-i),new E_(s,-i),new E_(-s,i),new E_(s,i)].map(e=>e.transform(n)),r=NS(a);return new E_(r.width,r.height)},FS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kw;return K_(q_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kw),e)},IS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kw,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kw;return e.transform(FS(t,n))},BS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kw,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kw;return e.transform(FS(t,n),!0)},WS=(e,t,n)=>{const s=FS(t,n);return OS(e,K_(s,e.calcOwnMatrix())),s},US=(e,t)=>{var n;const{transform:{target:s}}=t;null===(n=s.canvas)||void 0===n||n.fire("object:".concat(e),Aw(Aw({},t),{},{target:s})),s.fire(e,t)},zS={left:-.5,top:-.5,center:0,bottom:.5,right:.5},GS=e=>"string"==typeof e?zS[e]:e-.5,HS="not-allowed";function YS(e){return GS(e.originX)===GS(Jw)&&GS(e.originY)===GS(Jw)}function VS(e){return.5-GS(e)}const qS=(e,t)=>e[t],KS=(e,t,n,s)=>({e:e,transform:t,pointer:new E_(n,s)});function XS(e,t){const n=e.getTotalAngle()+H_(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function QS(e,t,n,s,i){var a;let{target:r,corner:o}=e;const l=r.controls[o],c=(null===(a=r.canvas)||void 0===a?void 0:a.getZoom())||1,d=r.padding/c,h=function(e,t,n,s){const i=e.getRelativeCenterPoint(),a=void 0!==n&&void 0!==s?e.translateToGivenOrigin(i,Jw,Jw,n,s):new E_(e.left,e.top);return(e.angle?t.rotate(-G_(e.angle),i):t).subtract(a)}(r,new E_(s,i),t,n);return h.x>=d&&(h.x-=d),h.x<=-d&&(h.x+=d),h.y>=d&&(h.y-=d),h.y<=d&&(h.y+=d),h.x-=l.offsetX,h.y-=l.offsetY,h}const JS=(e,t,n,s)=>{const{target:i,offsetX:a,offsetY:r}=t,o=n-a,l=s-r,c=!qS(i,"lockMovementX")&&i.left!==o,d=!qS(i,"lockMovementY")&&i.top!==l;return c&&i.set(Zw,o),d&&i.set($w,l),(c||d)&&US(i_,KS(e,t,n,s)),c||d},ZS={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},$S=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),ek=(e,t,n,s)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),a=Math.min(e,t,n);let r,o;const l=(i+a)/2;if(i===a)r=o=0;else{const s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*l),s]},tk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},nk=e=>Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0"),sk=e=>{let[t,n,s,i=1]=e;const a=Math.round(.3*t+.59*n+.11*s);return[a,a,a,i]};class ik{constructor(e){if(kw(this,"isUnrecognised",!1),e)if(e instanceof ik)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,n,s,i=1]=e;this.setSource([t,n,s,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in ZS&&(e=ZS[e]),"transparent"===e?[255,255,255,0]:ik.sourceFromHex(e)||ik.sourceFromRgb(e)||ik.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,n]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,n]=ek(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}toHsla(){const[e,t,n,s]=ek(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(s,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,n,s]=this.getSource();return"".concat(nk(e)).concat(nk(t)).concat(nk(n)).concat(nk(Math.round(255*s)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(sk(this.getSource())),this}toBlackWhite(e){const[t,,,n]=sk(this.getSource()),s=t<(e||127)?0:255;return this.setSource([s,s,s,n]),this}overlayWith(e){e instanceof ik||(e=new ik(e));const t=this.getSource(),n=e.getSource(),[s,i,a]=t.map((e,t)=>Math.round(.5*e+.5*n[t]));return this.setSource([s,i,a,t[3]]),this}static fromRgb(e){return ik.fromRgba(e)}static fromRgba(e){return new ik(ik.sourceFromRgb(e))}static sourceFromRgb(e){const t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){const[e,n,s]=t.slice(1,4).map(e=>{const t=parseFloat(e);return e.endsWith("%")?Math.round(2.55*t):t});return[e,n,s,tk(t[4])]}}static fromHsl(e){return ik.fromHsla(e)}static fromHsla(e){return new ik(ik.sourceFromHsl(e))}static sourceFromHsl(e){const t=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!t)return;const n=(ik.parseAngletoDegrees(t[1])%360+360)%360/360,s=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let a,r,o;if(0===s)a=r=o=i;else{const e=i<=.5?i*(s+1):i+s-i*s,t=2*i-e;a=$S(t,e,n+1/3),r=$S(t,e,n),o=$S(t,e,n-1/3)}return[Math.round(255*a),Math.round(255*r),Math.round(255*o),tk(t[4])]}static fromHex(e){return new ik(ik.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let n;n=t.length<=4?t.split("").map(e=>e+e):t.match(/.{2}/g);const[s,i,a,r=255]=n.map(e=>parseInt(e,16));return[s,i,a,r/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),n=parseFloat(t);return t.includes("rad")?H_(n):t.includes("turn")?360*n:n}}const ak=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xw;const n=/\D{0,2}$/.exec(e),s=parseFloat(e),i=Nw.DPI;switch(null==n?void 0:n[0]){case"mm":return s*i/25.4;case"cm":return s*i/2.54;case"in":return s*i;case"pt":return s*i/72;case"pc":return s*i/72*12;case"em":return s*t;default:return s}},rk=e=>{const[t,n]=e.trim().split(" "),[s,i]=(a=t)&&a!==n_?[a.slice(1,4),a.slice(5,8)]:a===n_?[a,a]:["Mid","Mid"];var a;return{meetOrSlice:n||"meet",alignX:s,alignY:i}},ok=function(e,t){let n,s,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(t.toLive)n="url(#SVGID_".concat(t.id,")");else{const e=new ik(t),i=e.getAlpha();n=e.toRgb(),1!==i&&(s=i.toString())}else n="none";return i?"".concat(e,": ").concat(n,"; ").concat(s?"".concat(e,"-opacity: ").concat(s,"; "):""):"".concat(e,'="').concat(n,'" ').concat(s?"".concat(e,'-opacity="').concat(s,'" '):"")};class lk{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):n_,i=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",r=this.strokeLineJoin?this.strokeLineJoin:"miter",o=this.strokeMiterLimit?this.strokeMiterLimit:"4",l=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),h=ok(y_,this.fill);return[ok(x_,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",r,"; ","stroke-miterlimit: ",o,"; ",h,"fill-rule: ",t,"; ","opacity: ",l,";",d,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'.concat(uS(n));return"".concat(s).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=s,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:n,withShadow:s,additionalTransform:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t?"":'style="'.concat(this.getSvgStyles(),'" '),r=s?'style="'.concat(this.getSvgFilter(),'" '):"",o=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=o&&o.absolutePositioned,d=this.stroke,h=this.fill,u=this.shadow,p=[],m=e.indexOf("COMMON_PARTS");let g;o&&(o.clipPathId="CLIPPATH_".concat(F_()),g='<clipPath id="'.concat(o.clipPathId,'" >\n').concat(o.toClipPathSVG(n),"</clipPath>\n")),c&&p.push("<g ",r,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),c?"":r+this.getSvgCommons()," >\n");const f=[a,l,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[m]=f,pS(h)&&p.push(h.toSVG(this)),pS(d)&&p.push(d.toSVG(this)),u&&p.push(u.toSVG(this)),o&&p.push(g),p.push(e.join("")),p.push("</g>\n"),c&&p.push("</g>\n"),n?n(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==y_?' paint-order="'.concat(this.paintFirst,'" '):""}}function ck(e){return new RegExp("^("+e.join("|")+")\\b","i")}const dk="textDecorationThickness",hk=["fontSize","fontWeight","fontFamily","fontStyle"],uk=["underline","overline","linethrough"],pk=[...hk,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],mk=[...pk,...uk,"textBackgroundColor","direction",dk],gk=[...hk,...uk,x_,"strokeWidth",y_,"deltaY","textBackgroundColor",dk],fk={_reNewline:s_,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Zw,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Zw,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[dk]:66.667},vk="justify",yk="justify-left",xk="justify-right",bk="justify-center";var wk,_k,Sk;const kk=String.raw(wk||(wk=Tw(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Ck=String.raw(_k||(_k=Tw(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),Ak=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+kk+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+kk+"))?\\s+(.*)"),jk={cx:Zw,x:Zw,r:"radius",cy:$w,y:$w,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":dk},Tk="font-size",Ek="clip-path",Nk=(ck(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),ck(["symbol","image","marker","pattern","view","svg"]),ck(["symbol","g","a","svg","clipPath","defs"])),Pk=(new RegExp(String.raw(Sk||(Sk=Tw(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),kk,Ck,kk,Ck,kk,Ck,kk)),new E_(1,0)),Mk=new E_,Ok=(e,t)=>e.rotate(t),Dk=(e,t)=>new E_(t).subtract(e),Lk=e=>e.distanceFrom(Mk),Rk=(e,t)=>Math.atan2(Wk(e,t),Uk(e,t)),Fk=e=>Rk(Pk,e),Ik=e=>e.eq(Mk)?e:e.scalarDivide(Lk(e)),Bk=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ik(new E_(-e.y,e.x).scalarMultiply(t?1:-1))},Wk=(e,t)=>e.x*t.y-e.y*t.x,Uk=(e,t)=>e.x*t.x+e.y*t.y,zk=(e,t,n)=>{if(e.eq(t)||e.eq(n))return!0;const s=Wk(t,n),i=Wk(t,e),a=Wk(n,e);return s>=0?i>=0&&a<=0:!(i<=0&&a>=0)},Gk="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Hk=new RegExp("(?:\\s|^)"+Gk+Gk+"("+kk+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Yk{constructor(e){const t="string"==typeof e?Yk.parseShadow(e):e;Object.assign(this,Yk.ownDefaults,t),this.id=F_()}static parseShadow(e){const t=e.trim(),[,n=0,s=0,i=0]=(Hk.exec(t)||[]).map(e=>parseFloat(e)||0);return{color:(t.replace(Hk,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:s,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=Ok(new E_(this.offsetX,this.offsetY),G_(-e.angle)),n=new ik(this.color);let s=40,i=40;return e.width&&e.height&&(s=100*hS((Math.abs(t.x)+this.blur)/e.width,Nw.NUM_FRACTION_DIGITS)+20,i=100*hS((Math.abs(t.y)+this.blur)/e.height,Nw.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(s,'%" width="').concat(100+2*s,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(hS(this.blur?this.blur/2:0,Nw.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(hS(t.x,Nw.NUM_FRACTION_DIGITS),'" dy="').concat(hS(t.y,Nw.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Yk.ownDefaults;return this.includeDefaultValues?e:dS(e,(e,n)=>e!==t[n])}static async fromObject(e){return new this(e)}}kw(Yk,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),kw(Yk,"type","shadow"),S_.setClass(Yk,"shadow");const Vk=(e,t,n)=>Math.max(e,Math.min(t,n)),qk=[$w,Zw,m_,g_,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",f_,v_],Kk=[y_,x_,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Xk={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Zw,originY:$w,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:y_,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Qk=(e,t,n,s)=>(e<Math.abs(t)?(e=t,s=n/4):s=0===t&&0===e?n/Vw*Math.asin(1):n/Vw*Math.asin(t/e),{a:e,c:t,p:n,s:s}),Jk=(e,t,n,s,i)=>e*Math.pow(2,10*(s-=1))*Math.sin((s*i-t)*Vw/n),Zk=(e,t,n,s)=>-n*Math.cos(e/s*Yw)+n+t,$k=(e,t,n,s)=>(e/=s)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,eC=(e,t,n,s)=>n-$k(s-e,0,n,s)+t;var tC=Object.freeze({__proto__:null,defaultEasing:Zk,easeInBack:function(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*(e/=s)*e*((i+1)*e-i)+t},easeInBounce:eC,easeInCirc:(e,t,n,s)=>-n*(Math.sqrt(1-(e/=s)*e)-1)+t,easeInCubic:(e,t,n,s)=>n*(e/s)**3+t,easeInElastic:(e,t,n,s)=>{const i=n;let a=0;if(0===e)return t;if(1===(e/=s))return t+n;a||(a=.3*s);const{a:r,s:o,p:l}=Qk(i,n,a,1.70158);return-Jk(r,o,l,e,s)+t},easeInExpo:(e,t,n,s)=>0===e?t:n*2**(10*(e/s-1))+t,easeInOutBack:function(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=s/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInOutBounce:(e,t,n,s)=>e<s/2?.5*eC(2*e,0,n,s)+t:.5*$k(2*e-s,0,n,s)+.5*n+t,easeInOutCirc:(e,t,n,s)=>(e/=s/2)<1?-n/2*(Math.sqrt(1-e**2)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t,easeInOutCubic:(e,t,n,s)=>(e/=s/2)<1?n/2*e**3+t:n/2*((e-2)**3+2)+t,easeInOutElastic:(e,t,n,s)=>{const i=n;let a=0;if(0===e)return t;if(2===(e/=s/2))return t+n;a||(a=s*(.3*1.5));const{a:r,s:o,p:l,c:c}=Qk(i,n,a,1.70158);return e<1?-.5*Jk(r,o,l,e,s)+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*s-o)*Vw/l)*.5+c+t},easeInOutExpo:(e,t,n,s)=>0===e?t:e===s?t+n:(e/=s/2)<1?n/2*2**(10*(e-1))+t:n/2*-(2**(-10*--e)+2)+t,easeInOutQuad:(e,t,n,s)=>(e/=s/2)<1?n/2*e**2+t:-n/2*(--e*(e-2)-1)+t,easeInOutQuart:(e,t,n,s)=>(e/=s/2)<1?n/2*e**4+t:-n/2*((e-=2)*e**3-2)+t,easeInOutQuint:(e,t,n,s)=>(e/=s/2)<1?n/2*e**5+t:n/2*((e-2)**5+2)+t,easeInOutSine:(e,t,n,s)=>-n/2*(Math.cos(Math.PI*e/s)-1)+t,easeInQuad:(e,t,n,s)=>n*(e/=s)*e+t,easeInQuart:(e,t,n,s)=>n*(e/=s)*e**3+t,easeInQuint:(e,t,n,s)=>n*(e/s)**5+t,easeInSine:(e,t,n,s)=>-n*Math.cos(e/s*Yw)+n+t,easeOutBack:function(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return n*((e=e/s-1)*e*((i+1)*e+i)+1)+t},easeOutBounce:$k,easeOutCirc:(e,t,n,s)=>n*Math.sqrt(1-(e=e/s-1)*e)+t,easeOutCubic:(e,t,n,s)=>n*((e/s-1)**3+1)+t,easeOutElastic:(e,t,n,s)=>{const i=n;let a=0;if(0===e)return t;if(1===(e/=s))return t+n;a||(a=.3*s);const{a:r,s:o,p:l,c:c}=Qk(i,n,a,1.70158);return r*2**(-10*e)*Math.sin((e*s-o)*Vw/l)+c+t},easeOutExpo:(e,t,n,s)=>e===s?t+n:n*-(2**(-10*e/s)+1)+t,easeOutQuad:(e,t,n,s)=>-n*(e/=s)*(e-2)+t,easeOutQuart:(e,t,n,s)=>-n*((e=e/s-1)*e**3-1)+t,easeOutQuint:(e,t,n,s)=>n*((e/s-1)**5+1)+t,easeOutSine:(e,t,n,s)=>n*Math.sin(e/s*Yw)+t});const nC=()=>!1;class sC{constructor(e){let{startValue:t,byValue:n,duration:s=500,delay:i=0,easing:a=Zk,onStart:r=Hw,onChange:o=Hw,onComplete:l=Hw,abort:c=nC,target:d}=e;kw(this,"_state","pending"),kw(this,"durationProgress",0),kw(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=s,this.delay=i,this.easing=a,this._onStart=r,this._onChange=o,this._onComplete=l,this._abort=c,this.target=d,this.startValue=t,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return"aborted"===this._state||"completed"===this._state}start(){const e=e=>{"pending"===this._state&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>D_(e),this.delay):D_(e)}tick(e){const t=(e||+new Date)-this.startTime,n=Math.min(t,this.duration);this.durationProgress=n/this.duration;const{value:s,valueProgress:i}=this.calculate(n);this.value=Object.freeze(s),this.valueProgress=i,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),D_(this.tick)))}register(){k_.push(this)}unregister(){k_.remove(this)}abort(){this._state="aborted",this.unregister()}}const iC=["startValue","endValue"];class aC extends sC{constructor(e){let{startValue:t=0,endValue:n=100}=e;super(Aw(Aw({},jw(e,iC)),{},{startValue:t,byValue:n-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const rC=["startValue","endValue"];class oC extends sC{constructor(e){let{startValue:t=[0],endValue:n=[100]}=e;super(Aw(Aw({},jw(e,rC)),{},{startValue:t,byValue:n.map((e,n)=>e-t[n])}))}calculate(e){const t=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const lC=["startValue","endValue","easing","onChange","onComplete","abort"],cC=(e,t,n,s)=>t+n*(1-Math.cos(e/s*Yw)),dC=e=>e&&((t,n,s)=>e(new ik(t).toRgba(),n,s));class hC extends sC{constructor(e){let{startValue:t,endValue:n,easing:s=cC,onChange:i,onComplete:a,abort:r}=e,o=jw(e,lC);const l=new ik(t).getSource(),c=new ik(n).getSource();super(Aw(Aw({},o),{},{startValue:l,byValue:c.map((e,t)=>e-l[t]),easing:s,onChange:dC(i),onComplete:dC(a),abort:dC(r)}))}calculate(e){const[t,n,s,i]=this.startValue.map((t,n)=>this.easing(e,t,this.byValue[n],this.duration,n)),a=[...[t,n,s].map(Math.round),Vk(0,i,1)];return{value:a,valueProgress:a.map((e,t)=>0!==this.byValue[t]?Math.abs((e-this.startValue[t])/this.byValue[t]):0).find(e=>0!==e)||0}}}function uC(e){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(e)?new oC(e):new aC(e);return t.start(),t}function pC(e){const t=new hC(e);return t.start(),t}class mC{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.points=this.points.concat(t.filter(e=>!this.includes(e))),this}static isPointContained(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.eq(n))return e.eq(t);if(t.x===n.x)return e.x===t.x&&(s||e.y>=Math.min(t.y,n.y)&&e.y<=Math.max(t.y,n.y));if(t.y===n.y)return e.y===t.y&&(s||e.x>=Math.min(t.x,n.x)&&e.x<=Math.max(t.x,n.x));{const i=Dk(t,n),a=Dk(t,e).divide(i);return s?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}}static isPointInPolygon(e,t){const n=new E_(e).setX(Math.min(e.x-1,...t.map(e=>e.x)));let s=0;for(let i=0;i<t.length;i++){const a=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,n);if(a.includes(e))return!0;s+=Number("Intersection"===a.status)}return s%2==1}static intersectLineLine(e,t,n,s){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const r=t.x-e.x,o=t.y-e.y,l=s.x-n.x,c=s.y-n.y,d=e.x-n.x,h=e.y-n.y,u=l*h-c*d,p=r*h-o*d,m=c*r-l*o;if(0!==m){const t=u/m,n=p/m;return(i||0<=t&&t<=1)&&(a||0<=n&&n<=1)?new mC("Intersection").append(new E_(e.x+t*r,e.y+t*o)):new mC}if(0===u||0===p){const r=i||a||mC.isPointContained(e,n,s)||mC.isPointContained(t,n,s)||mC.isPointContained(n,e,t)||mC.isPointContained(s,e,t);return new mC(r?"Coincident":void 0)}return new mC("Parallel")}static intersectSegmentLine(e,t,n,s){return mC.intersectLineLine(e,t,n,s,!1,!0)}static intersectSegmentSegment(e,t,n,s){return mC.intersectLineLine(e,t,n,s,!1,!1)}static intersectLinePolygon(e,t,n){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new mC,a=n.length;for(let r,o,l,c=0;c<a;c++){if(r=n[c],o=n[(c+1)%a],l=mC.intersectLineLine(e,t,r,o,s,!1),"Coincident"===l.status)return l;i.append(...l.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,n){return mC.intersectLinePolygon(e,t,n,!1)}static intersectPolygonPolygon(e,t){const n=new mC,s=e.length,i=[];for(let a=0;a<s;a++){const r=e[a],o=e[(a+1)%s],l=mC.intersectSegmentPolygon(r,o,t);"Coincident"===l.status?(i.push(l),n.append(r,o)):n.append(...l.points)}return i.length>0&&i.length===e.length?new mC("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,t,n){const s=t.min(n),i=t.max(n),a=new E_(i.x,s.y),r=new E_(s.x,i.y);return mC.intersectPolygonPolygon(e,[s,a,i,r])}}class gC extends O_{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?V_(e,this.group.calcTransformMatrix()):e}setXY(e,t,n){this.group&&(e=V_(e,q_(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,n)}getRelativeXY(){return new E_(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(e,t,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:n,bl:s}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,n,s];if(this.group){const e=this.group.calcTransformMatrix();return i.map(t=>V_(t,e))}return i}intersectsWithRect(e,t){return"Intersection"===mC.intersectPolygonRectangle(this.getCoords(),e,t).status}intersectsWithObject(e){const t=mC.intersectPolygonPolygon(this.getCoords(),e.getCoords());return"Intersection"===t.status||"Coincident"===t.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:n,top:s,width:i,height:a}=this.getBoundingRect();return n>=e.x&&n+i<=t.x&&s>=e.y&&s+a<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return mC.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=t.x&&n.x>=e.x&&n.y<=t.y&&n.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.intersectsWithRect(e,t)||this.getCoords().every(n=>(n.x>=t.x||n.x<=e.x)&&(n.y>=t.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return NS(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(m_,e),this._set(g_,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?H_(Q_(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.viewportTransform)||Kw.concat()}calcACoords(){const e=$_({angle:this.angle}),{x:t,y:n}=this.getRelativeCenterPoint(),s=Z_(t,n),i=K_(s,e),a=this._getTransformedDimensions(),r=a.x/2,o=a.y/2;return{tl:V_({x:-r,y:-o},i),tr:V_({x:r,y:-o},i),bl:V_({x:-r,y:o},i),br:V_({x:r,y:o},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,GS(this.originX),GS(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const n=this.transformMatrixKey(e),s=this.matrixCache;return s&&s.key.every((e,t)=>e===n[t])?s.value:(this.group&&(t=K_(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:n,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const n=this.getRelativeCenterPoint(),s={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=aS(s);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new E_(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Aw({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=t.strokeWidth;let s=n,i=0;this.strokeUniform&&(s=0,i=n);const a=t.width+s,r=t.height+s;let o;return o=0===t.skewX&&0===t.skewY?new E_(a*t.scaleX,r*t.scaleY):RS(a,r,iS(t)),o.scalarAdd(i)}translateToGivenOrigin(e,t,n,s,i){let a=e.x,r=e.y;const o=GS(s)-GS(t),l=GS(i)-GS(n);if(o||l){const e=this._getTransformedDimensions();a+=o*e.x,r+=l*e.y}return new E_(a,r)}translateToCenterPoint(e,t,n){if(t===Jw&&n===Jw)return e;const s=this.translateToGivenOrigin(e,t,n,Jw,Jw);return this.angle?s.rotate(G_(this.angle),e):s}translateToOriginPoint(e,t,n){const s=this.translateToGivenOrigin(e,Jw,Jw,t,n);return this.angle?s.rotate(G_(this.angle),e):s}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?V_(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new E_(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,n){const s=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(s,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Zw,$w)}}const fC=["type"],vC=["extraParam"];let yC=class e extends gC{static getDefaults(){return e.ownDefaults}get type(){const e=this.constructor.type;return"FabricObject"===e?"object":e.toLowerCase()}set type(e){Pw("warn","Setting type has no effect",e)}constructor(t){super(),kw(this,"_cacheContext",null),Object.assign(this,e.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=I_(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,n=e.height,s=Nw.maxCacheSideLimit,i=Nw.minCacheSideLimit;if(t<=s&&n<=s&&t*n<=Nw.perfLimitSizeTotal)return t<i&&(e.width=i),n<i&&(e.height=i),e;const a=t/n,[r,o]=zw.limitDimsByArea(a),l=Vk(i,r,s),c=Vk(i,o,s);return t>l&&(e.zoomX/=t/l,e.width=l,e.capped=!0),n>c&&(e.zoomY/=n/c,e.height=c,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),n=t.x*e.x/this.scaleX,s=t.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(s+2),zoomX:e.x,zoomY:e.y,x:n,y:s}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:n,height:s,zoomX:i,zoomY:a,x:r,y:o}=this._limitCacheSize(this._getCacheCanvasDimensions()),l=n!==e.width||s!==e.height,c=this.zoomX!==i||this.zoomY!==a;if(!e||!t)return!1;if(l||c){n!==e.width||s!==e.height?(e.width=n,e.height=s):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const l=r/2,c=o/2;return this.cacheTranslationX=Math.round(e.width/2-l)+l,this.cacheTranslationY=Math.round(e.height/2-c)+c,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(i,a),this.zoomX=i,this.zoomY=a,!0}return!1}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new E_(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=J_(this.calcTransformMatrix());return new E_(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(t*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e}_set(e,t){e!==m_&&e!==g_||(t=this._constrainScale(t)),e===m_&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof Yk||(t=new Yk(t));const n=this[e]!==t;return this[e]=t,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:n,cacheTranslationX:s,cacheTranslationY:i}=this,{width:a,height:r}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:n,cacheTranslationX:s,cacheTranslationY:i,width:a,height:r,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}hasFill(){return this.fill&&"transparent"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===x_&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(e,t,n){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,t,n){const s=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=s,this.stroke=i}createClipPathLayer(e,t){const n=W_(t),s=n.getContext("2d");if(s.translate(t.cacheTranslationX,t.cacheTranslationY),s.scale(t.zoomX,t.zoomY),e._cacheCanvas=n,t.parentClipPaths.forEach(e=>{e.transform(s)}),t.parentClipPaths.push(e),e.absolutePositioned){const e=q_(this.calcTransformMatrix());s.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return e.transform(s),e.drawObject(s,!0,t),n}_drawClipPath(e,t,n){if(!t)return;t._transformDone=!0;const s=this.createClipPathLayer(t,n);this.drawClipPathOnCache(e,t,s)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,n=this._cacheContext;return!(!t||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,pS(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:n}=t;n&&(pS(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&0!==t.length&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,n=this.canvas,s=this.getCanvasRetinaScaling(),[i,,,a]=(null==n?void 0:n.viewportTransform)||Kw,r=i*s,o=a*s,l=t.nonScaling?new E_(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Nw.browserShadowBlurConstant*(r+o)*(l.x+l.y)/4,e.shadowOffsetX=t.offsetX*r*l.x,e.shadowOffsetY=t.offsetY*o*l.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!pS(t))return{offsetX:0,offsetY:0};const n=t.gradientTransform||t.patternTransform,s=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,s,i):e.transform(1,0,0,1,s,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:s,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===x_?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var n;const s=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),a=s.x/this.scaleX/i,r=s.y/this.scaleY/i,o=W_({width:Math.ceil(a),height:Math.ceil(r)}),l=o.getContext("2d");l&&(l.beginPath(),l.moveTo(0,0),l.lineTo(a,0),l.lineTo(a,r),l.lineTo(0,r),l.closePath(),l.translate(a/2,r/2),l.scale(s.zoomX/this.scaleX/i,s.zoomY/this.scaleY/i),this._applyPatternGradientTransform(l,t),l.fillStyle=t.toLive(e),l.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/s.zoomX,i*this.scaleY/s.zoomY),e.strokeStyle=null!==(n=l.createPattern(o,"no-repeat"))&&void 0!==n?n:"")}_findCenterFromElement(){return new E_(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(S_.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=LS(this),n=this.group,s=this.shadow,i=Math.abs,a=e.enableRetinaScaling?Uw():1,r=(e.multiplier||1)*a,o=e.canvasProvider||(e=>new CS(e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&DS(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&WS(this,this.getViewportTransform()),this.setCoords();const l=I_(),c=this.getBoundingRect(),d=this.shadow,h=new E_;if(d){const e=d.blur,t=d.nonScaling?new E_(1,1):this.getObjectScaling();h.x=2*Math.round(i(d.offsetX)+e)*i(t.x),h.y=2*Math.round(i(d.offsetY)+e)*i(t.y)}const u=c.width+h.x,p=c.height+h.y;l.width=Math.ceil(u),l.height=Math.ceil(p);const m=o(l);"jpeg"===e.format&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new E_(m.width/2,m.height/2),Jw,Jw);const g=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();const f=m.toCanvasElement(r||1,e);return this.set("canvas",g),this.shadow=s,n&&(this.group=n),this.set(t),this.setCoords(),m._objects=[],m.destroy(),f}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U_(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z_(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:n,originY:s}=this;if(t){const{x:e,y:t}=this.getRelativeCenterPoint();this.originX=Jw,this.originY=Jw,this.left=e,this.top=t}if(this.set("angle",e),t){const{x:e,y:t}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,s);this.left=e,this.top=t,this.originX=n,this.originY=s}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){k_.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Iw().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((e,n)=>{let[s,i]=n;return e[s]=this._animate(s,i,t),e},{})}_animate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.split("."),i=this.constructor.colorProperties.includes(s[s.length-1]),{abort:a,startValue:r,onChange:o,onComplete:l}=n,c=Aw(Aw({},n),{},{target:this,startValue:null!=r?r:s.reduce((e,t)=>e[t],this),endValue:t,abort:null==a?void 0:a.bind(this),onChange:(e,t,n)=>{s.reduce((t,n,i)=>(i===s.length-1&&(t[n]=e),t[n]),this),o&&o(e,t,n)},onComplete:(e,t,n)=>{this.setCoords(),l&&l(e,t,n)}});return i?pC(c):uC(c)}isDescendantOf(e){const{parent:t,group:n}=this;return t===e||n===e||!!t&&t.isDescendantOf(e)||!!n&&n!==t&&n.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do{t=t.parent,t&&e.push(t)}while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),n=e.getAncestors();if(0===t.length&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let s,i=0;i<t.length;i++){if(s=t[i],s===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let a=0;a<n.length;a++){if(this===n[a])return{fork:[],otherFork:[e,...n.slice(0,a)],common:[this,...t]};if(s===n[a])return{fork:[this,...t.slice(0,i)],otherFork:[e,...n.slice(0,a)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const n=t.common[0]||this.canvas;if(!n)return;const s=t.fork.pop(),i=t.otherFork.pop(),a=n._objects.indexOf(s),r=n._objects.indexOf(i);return a>-1&&a>r}toObject(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e.customProperties,this.constructor.customProperties||[]);let n;const s=Nw.NUM_FRACTION_DIGITS,{clipPath:i,fill:a,stroke:r,shadow:o,strokeDashArray:l,left:c,top:d,originX:h,originY:u,width:p,height:m,strokeWidth:g,strokeLineCap:f,strokeDashOffset:v,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:b,scaleX:w,scaleY:_,angle:S,flipX:k,flipY:C,opacity:A,visible:j,backgroundColor:T,fillRule:E,paintFirst:N,globalCompositeOperation:P,skewX:M,skewY:O}=this;i&&!i.excludeFromExport&&(n=i.toObject(t.concat("inverted","absolutePositioned")));const D=e=>hS(e,s),L=Aw(Aw({},cS(this,t)),{},{type:this.constructor.type,version:Gw,originX:h,originY:u,left:D(c),top:D(d),width:D(p),height:D(m),fill:mS(a)?a.toObject():a,stroke:mS(r)?r.toObject():r,strokeWidth:D(g),strokeDashArray:l?l.concat():l,strokeLineCap:f,strokeDashOffset:v,strokeLineJoin:y,strokeUniform:x,strokeMiterLimit:D(b),scaleX:D(w),scaleY:D(_),angle:D(S),flipX:k,flipY:C,opacity:D(A),shadow:o?o.toObject():o,visible:j,backgroundColor:T,fillRule:E,paintFirst:N,globalCompositeOperation:P,skewX:D(M),skewY:D(O)},n?{clipPath:n}:null);return this.includeDefaultValues?L:this._removeDefaultValues(L)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),n=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return dS(e,(e,t)=>{if(t===Zw||t===$w||"type"===t)return!0;const s=n[t];return e!==s&&!(Array.isArray(e)&&Array.isArray(s)&&0===e.length&&0===s.length)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=jw(e,fC),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{extraParam:s}=n,i=jw(n,vC);return lS(t,i).then(e=>s?(delete e[s],new this(t[s],e)):new this(e))}static fromObject(e,t){return this._fromObject(e,t)}};kw(yC,"stateProperties",qk),kw(yC,"cacheProperties",Kk),kw(yC,"ownDefaults",Xk),kw(yC,"type","FabricObject"),kw(yC,"colorProperties",[y_,x_,"backgroundColor"]),kw(yC,"customProperties",[]),S_.setClass(yC),S_.setClass(yC,"object");const xC=(e,t,n)=>(s,i,a,r)=>{const o=t(s,i,a,r);return o&&US(e,Aw(Aw({},KS(s,i,a,r)),n)),o};function bC(e){return(t,n,s,i)=>{const{target:a,originX:r,originY:o}=n,l=a.getRelativeCenterPoint(),c=a.translateToOriginPoint(l,r,o),d=e(t,n,s,i);return a.setPositionByOrigin(c,n.originX,n.originY),d}}const wC=xC(c_,bC((e,t,n,s)=>{const i=QS(t,t.originX,t.originY,n,s);if(GS(t.originX)===GS(Jw)||GS(t.originX)===GS(t_)&&i.x<0||GS(t.originX)===GS(Zw)&&i.x>0){const{target:e}=t,n=e.strokeWidth/(e.strokeUniform?e.scaleX:1),s=YS(t)?2:1,a=e.width,r=Math.abs(i.x*s/e.scaleX)-n;return e.set("width",Math.max(r,1)),a!==e.width}return!1}));function _C(e,t,n,s,i){s=s||{};const a=this.sizeX||s.cornerSize||i.cornerSize,r=this.sizeY||s.cornerSize||i.cornerSize,o=void 0!==s.transparentCorners?s.transparentCorners:i.transparentCorners,l=o?x_:y_,c=!o&&(s.cornerStrokeColor||i.cornerStrokeColor);let d,h=t,u=n;e.save(),e.fillStyle=s.cornerColor||i.cornerColor||"",e.strokeStyle=s.cornerStrokeColor||i.cornerStrokeColor||"",a>r?(d=a,e.scale(1,r/a),u=n*a/r):r>a?(d=r,e.scale(a/r,1),h=t*r/a):d=a,e.beginPath(),e.arc(h,u,d/2,0,Vw,!1),e[l](),c&&e.stroke(),e.restore()}function SC(e,t,n,s,i){s=s||{};const a=this.sizeX||s.cornerSize||i.cornerSize,r=this.sizeY||s.cornerSize||i.cornerSize,o=void 0!==s.transparentCorners?s.transparentCorners:i.transparentCorners,l=o?x_:y_,c=!o&&(s.cornerStrokeColor||i.cornerStrokeColor),d=a/2,h=r/2;e.save(),e.fillStyle=s.cornerColor||i.cornerColor||"",e.strokeStyle=s.cornerStrokeColor||i.cornerStrokeColor||"",e.translate(t,n);const u=i.getTotalAngle();e.rotate(G_(u)),e["".concat(l,"Rect")](-d,-h,a,r),c&&e.strokeRect(-d,-h,a,r),e.restore()}class kC{constructor(e){kw(this,"visible",!0),kw(this,"actionName",p_),kw(this,"angle",0),kw(this,"x",0),kw(this,"y",0),kw(this,"offsetX",0),kw(this,"offsetY",0),kw(this,"sizeX",0),kw(this,"sizeY",0),kw(this,"touchSizeX",0),kw(this,"touchSizeY",0),kw(this,"cursorStyle","crosshair"),kw(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,n,s){var i;let{tl:a,tr:r,br:o,bl:l}=s;return(null===(i=t.canvas)||void 0===i?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&mC.isPointInPolygon(n,[a,r,o,l])}getActionHandler(e,t,n){return this.actionHandler}getMouseDownHandler(e,t,n){return this.mouseDownHandler}getMouseUpHandler(e,t,n){return this.mouseUpHandler}cursorStyleHandler(e,t,n){return t.cursorStyle}getActionName(e,t,n){return t.actionName}getVisibility(e,t){var n,s;return null!==(n=null===(s=e._controlsVisibility)||void 0===s?void 0:s[t])&&void 0!==n?n:this.visible}setVisibility(e,t,n){this.visible=e}positionHandler(e,t,n,s){return new E_(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,n,s,i,a){const r=X_([Z_(n,s),$_({angle:e}),eS((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new E_(-.5,-.5).transform(r),tr:new E_(.5,-.5).transform(r),br:new E_(.5,.5).transform(r),bl:new E_(-.5,.5).transform(r)}}render(e,t,n,s,i){"circle"===((s=s||{}).cornerStyle||i.cornerStyle)?_C.call(this,e,t,n,s,i):SC.call(this,e,t,n,s,i)}}const CC=(e,t,n)=>n.lockRotation?HS:t.cursorStyle,AC=xC(r_,bC((e,t,n,s)=>{let{target:i,ex:a,ey:r,theta:o,originX:l,originY:c}=t;const d=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(qS(i,"lockRotation"))return!1;const h=Math.atan2(r-d.y,a-d.x),u=Math.atan2(s-d.y,n-d.x);let p=H_(u-h+o);if(i.snapAngle&&i.snapAngle>0){const e=i.snapAngle,t=i.snapThreshold||e,n=Math.ceil(p/e)*e,s=Math.floor(p/e)*e;Math.abs(p-s)<t?p=s:Math.abs(p-n)<t&&(p=n)}p<0&&(p=360+p),p%=360;const m=i.angle!==p;return i.angle=p,m}));function jC(e,t){const n=t.canvas,s=e[n.uniScaleKey];return n.uniformScaling&&!s||!n.uniformScaling&&s}function TC(e,t,n){const s=qS(e,"lockScalingX"),i=qS(e,"lockScalingY");if(s&&i)return!0;if(!t&&(s||i)&&n)return!0;if(s&&"x"===t)return!0;if(i&&"y"===t)return!0;const{width:a,height:r,strokeWidth:o}=e;return 0===a&&0===o&&"y"!==t||0===r&&0===o&&"x"!==t}const EC=["e","se","s","sw","w","nw","n","ne","e"],NC=(e,t,n)=>{const s=jC(e,n);if(TC(n,0!==t.x&&0===t.y?"x":0===t.x&&0!==t.y?"y":"",s))return HS;const i=XS(n,t);return"".concat(EC[i],"-resize")};function PC(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=t.target,r=i.by,o=jC(e,a);let l,c,d,h,u,p;if(TC(a,r,o))return!1;if(t.gestureScale)c=t.scaleX*t.gestureScale,d=t.scaleY*t.gestureScale;else{if(l=QS(t,t.originX,t.originY,n,s),u="y"!==r?Math.sign(l.x||t.signX||1):1,p="x"!==r?Math.sign(l.y||t.signY||1):1,t.signX||(t.signX=u),t.signY||(t.signY=p),qS(a,"lockScalingFlip")&&(t.signX!==u||t.signY!==p))return!1;if(h=a._getTransformedDimensions(),o&&!r){const e=Math.abs(l.x)+Math.abs(l.y),{original:n}=t,s=e/(Math.abs(h.x*n.scaleX/a.scaleX)+Math.abs(h.y*n.scaleY/a.scaleY));c=n.scaleX*s,d=n.scaleY*s}else c=Math.abs(l.x*a.scaleX/h.x),d=Math.abs(l.y*a.scaleY/h.y);YS(t)&&(c*=2,d*=2),t.signX!==u&&"y"!==r&&(t.originX=VS(t.originX),c*=-1,t.signX=u),t.signY!==p&&"x"!==r&&(t.originY=VS(t.originY),d*=-1,t.signY=p)}const m=a.scaleX,g=a.scaleY;return r?("x"===r&&a.set(m_,c),"y"===r&&a.set(g_,d)):(!qS(a,"lockScalingX")&&a.set(m_,c),!qS(a,"lockScalingY")&&a.set(g_,d)),m!==a.scaleX||g!==a.scaleY}const MC=xC(a_,bC((e,t,n,s)=>PC(e,t,n,s))),OC=xC(a_,bC((e,t,n,s)=>PC(e,t,n,s,{by:"x"}))),DC=xC(a_,bC((e,t,n,s)=>PC(e,t,n,s,{by:"y"}))),LC=["target","ex","ey","skewingSide"],RC={x:{counterAxis:"y",scale:m_,skew:f_,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:g_,skew:v_,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},FC=["ns","nesw","ew","nwse"],IC=(e,t,n)=>{if(0!==t.x&&qS(n,"lockSkewingY"))return HS;if(0!==t.y&&qS(n,"lockSkewingX"))return HS;const s=XS(n,t)%4;return"".concat(FC[s],"-resize")};function BC(e,t,n,s,i){const{target:a}=n,{counterAxis:r,origin:o,lockSkewing:l,skew:c,flip:d}=RC[e];if(qS(a,l))return!1;const{origin:h,flip:u}=RC[r],p=GS(n[h])*(a[u]?-1:1),m=-Math.sign(p)*(a[d]?-1:1),g=-(0===a[c]&&QS(n,Jw,Jw,s,i)[e]>0||a[c]>0?1:-1)*m*.5+.5,f=xC(l_,bC((t,n,s,i)=>function(e,t,n){let{target:s,ex:i,ey:a,skewingSide:r}=t,o=jw(t,LC);const{skew:l}=RC[e],c=n.subtract(new E_(i,a)).divide(new E_(s.scaleX,s.scaleY))[e],d=s[l],h=o[l],u=Math.tan(G_(h)),p="y"===e?s._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:s._getTransformedDimensions({scaleX:1,scaleY:1}).y,m=2*c*r/Math.max(p,1)+u,g=H_(Math.atan(m));s.set(l,g);const f=d!==s[l];if(f&&"y"===e){const{skewX:e,scaleX:t}=s,n=s._getTransformedDimensions({skewY:d}),i=s._getTransformedDimensions(),a=0!==e?n.x/i.x:1;1!==a&&s.set(m_,a*t)}return f}(e,n,new E_(s,i))));return f(t,Aw(Aw({},n),{},{[o]:g,skewingSide:m}),s,i)}const WC=(e,t,n,s)=>BC("x",e,t,n,s),UC=(e,t,n,s)=>BC("y",e,t,n,s);function zC(e,t){return e[t.canvas.altActionKey]}const GC=(e,t,n)=>{const s=zC(e,n);return 0===t.x?s?f_:g_:0===t.y?s?v_:m_:""},HC=(e,t,n)=>zC(e,n)?IC(0,t,n):NC(e,t,n),YC=(e,t,n,s)=>zC(e,t.target)?UC(e,t,n,s):OC(e,t,n,s),VC=(e,t,n,s)=>zC(e,t.target)?WC(e,t,n,s):DC(e,t,n,s),qC=()=>({ml:new kC({x:-.5,y:0,cursorStyleHandler:HC,actionHandler:YC,getActionName:GC}),mr:new kC({x:.5,y:0,cursorStyleHandler:HC,actionHandler:YC,getActionName:GC}),mb:new kC({x:0,y:.5,cursorStyleHandler:HC,actionHandler:VC,getActionName:GC}),mt:new kC({x:0,y:-.5,cursorStyleHandler:HC,actionHandler:VC,getActionName:GC}),tl:new kC({x:-.5,y:-.5,cursorStyleHandler:NC,actionHandler:MC}),tr:new kC({x:.5,y:-.5,cursorStyleHandler:NC,actionHandler:MC}),bl:new kC({x:-.5,y:.5,cursorStyleHandler:NC,actionHandler:MC}),br:new kC({x:.5,y:.5,cursorStyleHandler:NC,actionHandler:MC}),mtr:new kC({x:0,y:-.5,actionHandler:AC,cursorStyleHandler:CC,offsetY:-40,withConnection:!0,actionName:o_})}),KC=()=>({mr:new kC({x:.5,y:0,actionHandler:wC,cursorStyleHandler:HC,actionName:c_}),ml:new kC({x:-.5,y:0,actionHandler:wC,cursorStyleHandler:HC,actionName:c_})}),XC=()=>Aw(Aw({},qC()),KC());class QC extends yC{static getDefaults(){return Aw(Aw({},super.getDefaults()),QC.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),QC.ownDefaults),this.setOptions(e)}static createControls(){return{controls:qC()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,n=t.target,s=t.action;if(this===n&&s&&s.startsWith(p_))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let s=n.length-1;s>=0;s--){const[i,a]=n[s],r=this.controls[i];if(r.shouldActivate(i,this,e,t?a.touchCorner:a.corner))return this.__corner=i,{key:i,control:r,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),n=Z_(t.x,t.y),s=$_({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=K_(n,s),a=K_(e,i),r=K_(a,[1/e[0],0,0,1/e[3],0,0]),o=this.group?J_(this.calcTransformMatrix()):void 0;o&&(o.scaleX=Math.abs(o.scaleX),o.scaleY=Math.abs(o.scaleY));const l=this._calculateCurrentDimensions(o),c={};return this.forEachControl((e,t)=>{const n=e.positionHandler(l,r,this,e);c[t]=Object.assign(n,this._calcCornerCoords(e,n))}),c}_calcCornerCoords(e,t){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),s=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/s[0],1/s[3]),e.rotate(G_(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=Aw({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=s.borderColor,this._setLineDash(e,s.borderDashArray),this.strokeBorders(e,t),s.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{hasBorders:n,hasControls:s}=this,i=Aw({hasBorders:n,hasControls:s},t),a=this.getViewportTransform(),r=i.hasBorders,o=i.hasControls,l=K_(a,this.calcTransformMatrix()),c=J_(l);e.save(),e.translate(c.translateX,c.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(c.angle-=180),e.rotate(G_(this.group?c.angle:this.angle)),r&&this.drawBorders(e,c,t),o&&this.drawControls(e,t),e.restore()}drawBorders(e,t,n){let s;if(n&&n.forActiveSelection||this.group){const e=RS(this.width,this.height,iS(t)),n=this.isStrokeAccountedForInDimensions()?N_:(this.strokeUniform?(new E_).scalarAdd(this.canvas?this.canvas.getZoom():1):new E_(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);s=e.add(n).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else s=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,s,n)}drawControlsConnectingLines(e,t){let n=!1;e.beginPath(),this.forEachControl((s,i)=>{s.withConnection&&s.getVisibility(this,i)&&(n=!0,e.moveTo(s.x*t.x,s.y*t.y),e.lineTo(s.x*t.x+s.offsetX,s.y*t.y+s.offsetY))}),n&&e.stroke()}drawControls(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:s,cornerDashArray:i,cornerColor:a}=this,r=Aw({cornerStrokeColor:s,cornerDashArray:i,cornerColor:a},t);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=r.cornerColor,this.transparentCorners||(e.strokeStyle=r.cornerStrokeColor),this._setLineDash(e,r.cornerDashArray),this.forEachControl((t,n)=>{if(t.getVisibility(this,n)){const s=this.oCoords[n];t.render(e,s.x,s.y,r,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach(e=>{let[t,n]=e;return this.setControlVisible(t,n)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t);const s=this.width+4,i=this.height+4;return t.clearRect(-s/2,-i/2,s,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function JC(e,t){return t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))})}),e}kw(QC,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class ZC extends QC{}JC(ZC,[lk]),S_.setClass(ZC),S_.setClass(ZC,"object");const $C=(e,t,n,s)=>{const i=2*(s=Math.round(s))+1,{data:a}=e.getImageData(t-s,n-s,i,i);for(let r=3;r<a.length;r+=4)if(a[r]>0)return!1;return!0};class eA{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new E_(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new E_(1/this.options.scaleX,1/this.options.scaleY):new E_(1,1)}createSideVector(e,t){const n=Dk(e,t);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,t,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,n)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(e){const t=new E_(e);return t.y+=t.x*Math.tan(G_(this.options.skewY)),t.x+=t.y*Math.tan(G_(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const tA=new E_;class nA extends eA{static getOrthogonalRotationFactor(e,t){const n=t?Rk(e,t):Fk(e);return Math.abs(n)<Yw?-1:1}constructor(e,t,n,s){super(s),kw(this,"AB",void 0),kw(this,"AC",void 0),kw(this,"alpha",void 0),kw(this,"bisector",void 0),this.A=new E_(e),this.B=new E_(t),this.C=new E_(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Rk(this.AB,this.AC),this.bisector=Ik(Ok(this.AB.eq(tA)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t),i=Bk(s),a=nA.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,n*a)}projectBevel(){const e=[];return(this.alpha%Vw==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),n=1/Math.sin(t/2),s=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),i=this.options.strokeUniform?Lk(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Lk(s)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(s))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const n=[],s=new E_(nA.getOrthogonalRotationFactor(this.bisector),nA.getOrthogonalRotationFactor(new E_(this.bisector.y,this.bisector.x)));return[new E_(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s),new E_(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s)].forEach(s=>{zk(s,e,t)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(e,t){const n=[],{skewX:s,skewY:i,scaleX:a,scaleY:r,strokeUniform:o}=this.options,l=new E_(Math.tan(G_(s)),Math.tan(G_(i))),c=this.strokeProjectionMagnitude,d=o?c/r/Math.sqrt(1/r**2+1/a**2*l.y**2):c/Math.sqrt(1+l.y**2),h=new E_(Math.sqrt(Math.max(c**2-d**2,0)),d),u=o?c/Math.sqrt(1+l.x**2*(1/r)**2/(1/a+1/a*l.x*l.y)**2):c/Math.sqrt(1+l.x**2/(1+l.x*l.y)**2),p=new E_(u,Math.sqrt(Math.max(c**2-u**2,0)));return[p,p.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(e=>this.applySkew(o?e.multiply(this.strokeUniformScalar):e)).forEach(s=>{zk(s,e,t)&&n.push(this.applySkew(this.A).add(s))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Vw==0,n=this.applySkew(this.A),s=e[t?0:2].subtract(n),i=e[t?1:0].subtract(n),a=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),r=Wk(s,a)>0,o=r?s:i,l=r?i:s;return this.isSkewed()?e.push(...this.projectRoundWithSkew(o,l)):e.push(...this.projectRoundNoSkew(o,l)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class sA extends eA{constructor(e,t,n){super(n),this.A=new E_(e),this.T=new E_(t)}calcOrthogonalProjection(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t);return this.scaleUnitVector(Bk(s),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new E_(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new nA(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new E_(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(Ik(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),s=this.A.add(n);e.push(s.add(t),s.subtract(t))}return e.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const iA=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=[];if(0===e.length)return s;const i=e.reduce((e,t)=>(e[e.length-1].eq(t)||e.push(new E_(t)),e),[new E_(e[0])]);if(1===i.length)n=!0;else if(!n){const e=i[0],t=((e,t)=>{for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1})(i,t=>!t.eq(e));i.splice(t+1)}return i.forEach((e,i,a)=>{let r,o;0===i?(o=a[1],r=n?e:a[a.length-1]):i===a.length-1?(r=a[i-1],o=n?e:a[0]):(r=a[i-1],o=a[i+1]),n&&1===a.length?s.push(...new sA(e,e,t).project()):!n||0!==i&&i!==a.length-1?s.push(...new nA(e,r,o,t).project()):s.push(...new sA(e,0===i?o:r,t).project())}),s},aA=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={},Object.keys(e[n]).forEach(s=>{t[n][s]=Aw({},e[n][s])})}),t},rA=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let oA;const lA=e=>{if(oA||oA||(oA="Intl"in Ww()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),oA){const t=oA.segment(e);return Array.from(t).map(e=>{let{segment:t}=e;return t})}return cA(e)},cA=e=>{const t=[];for(let n,s=0;s<e.length;s++)!1!==(n=dA(e,s))&&t.push(n);return t},dA=(e,t)=>{const n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const n=e.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";const s=e.charCodeAt(t-1);if(55296>s||s>56319)throw"Low surrogate without preceding high surrogate";return!1};var hA=Object.freeze({__proto__:null,capitalize:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:rA,graphemeSplit:lA});const uA=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textDecorationThickness!==t.textDecorationThickness||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||n&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},pA=(e,t)=>{const n=t.split("\n"),s=[];let i=-1,a={};e=aA(e);for(let r=0;r<n.length;r++){const t=lA(n[r]);if(e[r])for(let n=0;n<t.length;n++){i++;const t=e[r][n];t&&Object.keys(t).length>0&&(uA(a,t,!0)?s.push({start:i,end:i+1,style:t}):s[s.length-1].end++),a=t||{}}else i+=t.length,a={}}return s},mA=(e,t)=>{if(!Array.isArray(e))return aA(e);const n=t.split(s_),s={};let i=-1,a=0;for(let r=0;r<n.length;r++){const t=lA(n[r]);for(let n=0;n<t.length;n++)i++,e[a]&&e[a].start<=i&&i<e[a].end&&(s[r]=s[r]||{},s[r][n]=Aw({},e[a].style),i===e[a].end-1&&a++)}return s},gA=["display","transform",y_,"fill-opacity","fill-rule","opacity",x_,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function fA(e,t){const n=e.nodeName,s=e.getAttribute("class"),i=e.getAttribute("id"),a="(?![a-zA-Z\\-]+)";let r;if(r=new RegExp("^"+n,"i"),t=t.replace(r,""),i&&t.length&&(r=new RegExp("#"+i+a,"i"),t=t.replace(r,"")),s&&t.length){const e=s.split(" ");for(let n=e.length;n--;)r=new RegExp("\\."+e[n]+a,"i"),t=t.replace(r,"")}return 0===t.length}function vA(e,t){let n=!0;const s=fA(e,t.pop());return s&&t.length&&(n=function(e,t){let n,s=!0;for(;e.parentElement&&1===e.parentElement.nodeType&&t.length;)s&&(n=t.pop()),s=fA(e=e.parentElement,n);return 0===t.length}(e,t)),s&&n&&0===t.length}const yA=e=>{var t;return null!==(t=jk[e])&&void 0!==t?t:e},xA=new RegExp("(".concat(kk,")"),"gi");var bA,wA,_A,SA,kA,CA,AA;const jA="(".concat(kk,")"),TA=String.raw(bA||(bA=Tw(["(skewX)(",")"],["(skewX)\\(","\\)"])),jA),EA=String.raw(wA||(wA=Tw(["(skewY)(",")"],["(skewY)\\(","\\)"])),jA),NA=String.raw(_A||(_A=Tw(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),jA,jA,jA),PA=String.raw(SA||(SA=Tw(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),jA,jA),MA=String.raw(kA||(kA=Tw(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),jA,jA),OA=String.raw(CA||(CA=Tw(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),jA,jA,jA,jA,jA,jA),DA="(?:".concat(OA,"|").concat(MA,"|").concat(NA,"|").concat(PA,"|").concat(TA,"|").concat(EA,")"),LA="(?:".concat(DA,"*)"),RA=String.raw(AA||(AA=Tw(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),LA),FA=new RegExp(RA),IA=new RegExp(DA),BA=new RegExp(DA,"g");function WA(e){const t=[];if(!(e=(e=>e.replace(xA," $1 ").replace(/,/gi," ").replace(/\s+/gi," "))(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!FA.test(e))return[...Kw];for(const n of e.matchAll(BA)){const e=IA.exec(n[0]);if(!e)continue;let s=Kw;const i=e.filter(e=>!!e),[,a,...r]=i,[o,l,c,d,h,u]=r.map(e=>parseFloat(e));switch(a){case"translate":s=Z_(o,l);break;case o_:s=$_({angle:o},{x:l,y:c});break;case p_:s=eS(o,l);break;case f_:s=nS(o);break;case v_:s=sS(o);break;case"matrix":s=[o,l,c,d,h,u]}t.push(s)}return X_(t)}function UA(e,t,n,s){const i=Array.isArray(t);let a,r=t;if(e!==y_&&e!==x_||t!==n_){if("strokeUniform"===e)return"non-scaling-stroke"===t;if("strokeDashArray"===e)r=t===n_?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)r=n&&n.transformMatrix?K_(n.transformMatrix,WA(t)):WA(t);else if("visible"===e)r=t!==n_&&"hidden"!==t,n&&!1===n.visible&&(r=!1);else if("opacity"===e)r=parseFloat(t),n&&void 0!==n.opacity&&(r*=n.opacity);else if("textAnchor"===e)r="start"===t?Zw:"end"===t?t_:Jw;else if("charSpacing"===e||e===dk)a=ak(t,s)/s*1e3;else if("paintFirst"===e){const e=t.indexOf(y_),n=t.indexOf(x_);r=y_,(e>-1&&n>-1&&n<e||-1===e&&n>-1)&&(r=x_)}else{if("href"===e||"xlink:href"===e||"font"===e||"id"===e)return t;if("imageSmoothing"===e)return"optimizeQuality"===t;a=i?t.map(ak):ak(t,s)}}else r="";return!i&&isNaN(a)?r:a}function zA(e,t){e.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[n,s]=e.split(":");t[n.trim().toLowerCase()]=s.trim()})}const GA={stroke:"strokeOpacity",fill:"fillOpacity"};function HA(e,t,n){if(!e)return{};let s,i={},a=Xw;e.parentNode&&Nk.test(e.parentNode.nodeName)&&(i=HA(e.parentElement,t,n),i.fontSize&&(s=a=ak(i.fontSize)));const r=Aw(Aw(Aw({},t.reduce((t,n)=>{const s=e.getAttribute(n);return s&&(t[n]=s),t},{})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(const s in t)vA(e,s.split(" "))&&(n=Aw(Aw({},n),t[s]));return n}(e,n)),function(e){const t={},n=e.getAttribute("style");return n?("string"==typeof n?zA(n,t):function(e,t){Object.entries(e).forEach(e=>{let[n,s]=e;void 0!==s&&(t[n.toLowerCase()]=s)})}(n,t),t):t}(e));r[Ek]&&e.setAttribute(Ek,r[Ek]),r[Tk]&&(s=ak(r[Tk],a),r[Tk]="".concat(s));const o={};for(const c in r){const e=yA(c),t=UA(e,r[c],i,s);o[e]=t}o&&o.font&&function(e,t){const n=e.match(Ak);if(!n)return;const s=n[1],i=n[3],a=n[4],r=n[5],o=n[6];s&&(t.fontStyle=s),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(t.fontSize=ak(a)),o&&(t.fontFamily=o),r&&(t.lineHeight="normal"===r?1:r)}(o.font,o);const l=Aw(Aw({},i),o);return Nk.test(e.nodeName)?l:function(e){const t=ZC.getDefaults();return Object.entries(GA).forEach(n=>{let[s,i]=n;if(void 0===e[i]||""===e[s])return;if(void 0===e[s]){if(!t[s])return;e[s]=t[s]}if(0===e[s].indexOf("url("))return;const a=new ik(e[s]);e[s]=a.setAlpha(hS(a.getAlpha()*e[i],2)).toRgba()}),e}(l)}const YA=["left","top","width","height","visible"],VA=["rx","ry"];class qA extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),qA.ownDefaults)}constructor(e){super(),Object.assign(this,qA.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:n}=this,s=-t/2,i=-n/2,a=this.rx?Math.min(this.rx,t/2):0,r=this.ry?Math.min(this.ry,n/2):0,o=0!==a||0!==r;e.beginPath(),e.moveTo(s+a,i),e.lineTo(s+t-a,i),o&&e.bezierCurveTo(s+t-Qw*a,i,s+t,i+Qw*r,s+t,i+r),e.lineTo(s+t,i+n-r),o&&e.bezierCurveTo(s+t,i+n-Qw*r,s+t-Qw*a,i+n,s+t-a,i+n),e.lineTo(s+a,i+n),o&&e.bezierCurveTo(s+Qw*a,i+n,s,i+n-Qw*r,s,i+n-r),e.lineTo(s,i+r),o&&e.bezierCurveTo(s,i+Qw*r,s+Qw*a,i,s+a,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...VA,...e])}_toSVG(){const{width:e,height:t,rx:n,ry:s}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(n,'" ry="').concat(s,'" width="').concat(e,'" height="').concat(t,'" />\n')]}static async fromElement(e,t,n){const s=HA(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:a=0,width:r=0,height:o=0,visible:l=!0}=s,c=jw(s,YA);return new this(Aw(Aw(Aw({},t),c),{},{left:i,top:a,width:r,height:o,visible:Boolean(l&&r&&o)}))}}kw(qA,"type","Rect"),kw(qA,"cacheProperties",[...Kk,...VA]),kw(qA,"ownDefaults",{rx:0,ry:0}),kw(qA,"ATTRIBUTE_NAMES",[...gA,"x","y","rx","ry","width","height"]),S_.setClass(qA),S_.setSVGClass(qA);const KA="initialization",XA="added",QA="removed",JA="imperative",ZA=(e,t)=>{const{strokeUniform:n,strokeWidth:s,width:i,height:a,group:r}=t,o=r&&r!==e?FS(r.calcTransformMatrix(),e.calcTransformMatrix()):null,l=o?t.getRelativeCenterPoint().transform(o):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),d=n&&c?BS(new E_(s,s),void 0,e.calcTransformMatrix()):N_,h=!n&&c?s:0,u=RS(i+h,a+h,X_([o,t.calcOwnMatrix()],!0)).add(d).scalarDivide(2);return[l.subtract(u),l.add(u)]};class $A{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:n,strategy:s}=e;return t===KA||t===JA||!!n&&s!==n}shouldLayoutClipPath(e){let{type:t,target:{clipPath:n}}=e;return t!==KA&&n&&!n.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:n,target:s}=t;if(n===JA&&t.overrides)return t.overrides;if(0===e.length)return;const{left:i,top:a,width:r,height:o}=NS(e.map(e=>ZA(s,e)).reduce((e,t)=>e.concat(t),[])),l=new E_(r,o),c=new E_(i,a).add(l.scalarDivide(2));if(n===KA){const e=this.getInitialSize(t,{size:l,center:c});return{center:c,relativeCorrection:new E_(0,0),size:e}}return{center:c.transform(s.calcOwnMatrix()),size:l}}}kw($A,"type","strategy");class ej extends $A{shouldPerformLayout(e){return!0}}kw(ej,"type","fit-content"),S_.setClass(ej);const tj=["strategy"],nj=["target","strategy","bubbles","prevStrategy"],sj="layoutManager";class ij{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ej;kw(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=Aw(Aw({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const n=this.getLayoutResult(t);n&&this.commitLayout(t,n),this.onAfterLayout(t,n),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:n}=t;return[b_,i_,c_,r_,a_,l_,u_,d_,h_].map(t=>e.on(t,e=>this.performLayout(t===b_?{type:"object_modified",trigger:t,e:e,target:n}:{type:"object_modifying",trigger:t,e:e,target:n})))}subscribe(e,t){this.unsubscribe(e,t);const n=this.attachHandlers(e,t);this._subscriptions.set(e,n)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(e=>e()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:n}=e,{canvas:s}=t;if(n===KA||n===XA?this.subscribeTargets(e):n===QA&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),s&&s.fire("object:layout:before",{target:t,context:e}),n===JA&&e.deep){const n=jw(e,tj);t.forEachObject(e=>e.layoutManager&&e.layoutManager.performLayout(Aw(Aw({},n),{},{bubbles:!1,target:e})))}}getLayoutResult(e){const{target:t,strategy:n,type:s}=e,i=n.calcLayoutResult(e,t.getObjects());if(!i)return;const a=s===KA?new E_:t.getRelativeCenterPoint(),{center:r,correction:o=new E_,relativeCorrection:l=new E_}=i,c=a.subtract(r).add(o).transform(s===KA?Kw:q_(t.calcOwnMatrix()),!0).add(l);return{result:i,prevCenter:a,nextCenter:r,offset:c}}commitLayout(e,t){const{target:n}=e,{result:{size:s},nextCenter:i}=t;var a,r;n.set({width:s.x,height:s.y}),this.layoutObjects(e,t),e.type===KA?n.set({left:null!==(a=e.x)&&void 0!==a?a:i.x+s.x*GS(n.originX),top:null!==(r=e.y)&&void 0!==r?r:i.y+s.y*GS(n.originY)}):(n.setPositionByOrigin(i,Jw,Jw),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,t){const{target:n}=e;n.forEachObject(s=>{s.group===n&&this.layoutObject(e,t,s)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}layoutObject(e,t,n){let{offset:s}=t;n.set({left:n.left+s.x,top:n.top+s.y})}onAfterLayout(e,t){const{target:n,strategy:s,bubbles:i,prevStrategy:a}=e,r=jw(e,nj),{canvas:o}=n;n.fire("layout:after",{context:e,result:t}),o&&o.fire("object:layout:after",{context:e,result:t,target:n});const l=n.parent;i&&null!=l&&l.layoutManager&&((r.path||(r.path=[])).push(n),l.layoutManager.performLayout(Aw(Aw({},r),{},{target:l}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(e=>e.forEach(e=>e())),e.clear()}toObject(){return{type:sj,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}S_.setClass(ij,sj);const aj=["type","objects","layoutManager"];class rj extends ij{performLayout(){}}class oj extends(M_(ZC)){static getDefaults(){return Aw(Aw({},super.getDefaults()),oj.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),kw(this,"_activeObjects",[]),kw(this,"__objectSelectionTracker",void 0),kw(this,"__objectSelectionDisposer",void 0),Object.assign(this,oj.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(e=>{this.enterGroup(e,!1)}),this.layoutManager=null!==(n=t.layoutManager)&&void 0!==n?n:new ij,this.layoutManager.performLayout({type:KA,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Pw("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(e)||(Pw("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((e,t,n)=>this.canEnterGroup(e)&&n.indexOf(e)===t)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...s);return this._onAfterObjectsChange(XA,s),i}insertAt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const i=this._filterObjectsBeforeEnteringGroup(n),a=super.insertAt(e,...i);return this._onAfterObjectsChange(XA,i),a}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(QA,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const n=this[e];return super._set(e,t),"canvas"===e&&n!==t&&(this._objects||[]).forEach(n=>{n._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:n}=t;const s=this._activeObjects;if(e)s.push(n),this._set("dirty",!0);else if(s.length>0){const e=s.indexOf(n);e>-1&&(s.splice(e,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&OS(e,K_(q_(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(OS(e,K_(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=ZC.prototype.shouldCache.call(this);if(e)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,n){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var s;const t=this._objects[i];null!==(s=this.canvas)&&void 0!==s&&s.preserveObjectStacking&&t.group!==this?(e.save(),e.transform(...q_(this.calcTransformMatrix())),t.render(e),e.restore()):t.group===this&&t.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(Aw({target:this,type:JA},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const n=this.includeDefaultValues;return this._objects.filter(function(e){return!e.excludeFromExport}).map(function(s){const i=s.includeDefaultValues;s.includeDefaultValues=n;const a=s[e||"toObject"](t);return s.includeDefaultValues=i,a})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.layoutManager.toObject();return Aw(Aw(Aw({},super.toObject(["subTargetCheck","interactive",...e])),"fit-content"!==t.strategy||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=qA.prototype._toSVG.call(this),n=t.indexOf("COMMON_PARTS");t[n]='for="group" ';const s=t.join("");return e?e(s):s}_toSVG(e){const t=["<g ","COMMON_PARTS"," >\n"],n=this._createSVGBgRect(e);n&&t.push("\t\t",n);for(let s=0;s<this._objects.length;s++)t.push("\t\t",this._objects[s].toSVG(e));return t.push("</g>\n"),t}getSvgStyles(){const e=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],n=this._createSVGBgRect(e);n&&t.push("\t",n);for(let s=0;s<this._objects.length;s++)t.push("\t",this._objects[s].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:n,objects:s=[],layoutManager:i}=e,a=jw(e,aj);return Promise.all([oS(s,t),lS(a,t)]).then(e=>{let[t,n]=e;const s=new this(t,Aw(Aw(Aw({},a),n),{},{layoutManager:new rj}));if(i){const e=S_.getClass(i.type),t=S_.getClass(i.strategy);s.layoutManager=new e(new t)}else s.layoutManager=new ij;return s.layoutManager.subscribeTargets({type:KA,target:s,targets:s.getObjects()}),s.setCoords(),s})}}kw(oj,"type","Group"),kw(oj,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),S_.setClass(oj);const lj=(e,t)=>Math.min(t.width/e.width,t.height/e.height),cj=(e,t)=>Math.max(t.width/e.width,t.height/e.height),dj="\\s*,?\\s*",hj="".concat(dj,"(").concat(kk,")"),uj="".concat(hj).concat(hj).concat(hj).concat(dj,"([01])").concat(dj,"([01])").concat(hj).concat(hj),pj={m:"l",M:"L"},mj=(e,t,n,s,i,a,r,o,l,c,d)=>{const h=j_(e),u=T_(e),p=j_(t),m=T_(t),g=n*i*p-s*a*m+r,f=s*i*p+n*a*m+o;return["C",c+l*(-n*i*u-s*a*h),d+l*(-s*i*u+n*a*h),g+l*(n*i*m+s*a*p),f+l*(s*i*m-n*a*p),g,f]},gj=(e,t,n,s)=>{const i=Math.atan2(t,e),a=Math.atan2(s,n);return a>=i?a-i:2*Math.PI-(i-a)};function fj(e,t,n,s,i,a,r,o){let l;if(Nw.cachesBoundsOfCurve&&(l=[...arguments].join(),zw.boundsOfCurveCache[l]))return zw.boundsOfCurveCache[l];const c=Math.sqrt,d=Math.abs,h=[],u=[[0,0],[0,0]];let p=6*e-12*n+6*i,m=-3*e+9*n-9*i+3*r,g=3*n-3*e;for(let b=0;b<2;++b){if(b>0&&(p=6*t-12*s+6*a,m=-3*t+9*s-9*a+3*o,g=3*s-3*t),d(m)<1e-12){if(d(p)<1e-12)continue;const e=-g/p;0<e&&e<1&&h.push(e);continue}const e=p*p-4*g*m;if(e<0)continue;const n=c(e),i=(-p+n)/(2*m);0<i&&i<1&&h.push(i);const r=(-p-n)/(2*m);0<r&&r<1&&h.push(r)}let f=h.length;const v=f,y=bj(e,t,n,s,i,a,r,o);for(;f--;){const{x:e,y:t}=y(h[f]);u[0][f]=e,u[1][f]=t}u[0][v]=e,u[1][v]=t,u[0][v+1]=r,u[1][v+1]=o;const x=[new E_(Math.min(...u[0]),Math.min(...u[1])),new E_(Math.max(...u[0]),Math.max(...u[1]))];return Nw.cachesBoundsOfCurve&&(zw.boundsOfCurveCache[l]=x),x}const vj=(e,t,n)=>{let[s,i,a,r,o,l,c,d]=n;const h=((e,t,n,s,i,a,r)=>{if(0===n||0===s)return[];let o=0,l=0,c=0;const d=Math.PI,h=r*qw,u=T_(h),p=j_(h),m=.5*(-p*e-u*t),g=.5*(-p*t+u*e),f=n**2,v=s**2,y=g**2,x=m**2,b=f*v-f*y-v*x;let w=Math.abs(n),_=Math.abs(s);if(b<0){const e=Math.sqrt(1-b/(f*v));w*=e,_*=e}else c=(i===a?-1:1)*Math.sqrt(b/(f*y+v*x));const S=c*w*g/_,k=-c*_*m/w,C=p*S-u*k+.5*e,A=u*S+p*k+.5*t;let j=gj(1,0,(m-S)/w,(g-k)/_),T=gj((m-S)/w,(g-k)/_,(-m-S)/w,(-g-k)/_);0===a&&T>0?T-=2*d:1===a&&T<0&&(T+=2*d);const E=Math.ceil(Math.abs(T/d*2)),N=[],P=T/E,M=8/3*Math.sin(P/4)*Math.sin(P/4)/Math.sin(P/2);let O=j+P;for(let D=0;D<E;D++)N[D]=mj(j,O,p,u,w,_,C,A,M,o,l),o=N[D][5],l=N[D][6],j=O,O+=P;return N})(c-e,d-t,i,a,o,l,r);for(let u=0,p=h.length;u<p;u++)h[u][1]+=e,h[u][2]+=t,h[u][3]+=e,h[u][4]+=t,h[u][5]+=e,h[u][6]+=t;return h},yj=e=>{let t=0,n=0,s=0,i=0;const a=[];let r,o=0,l=0;for(const c of e){const e=[...c];let d;switch(e[0]){case"l":e[1]+=t,e[2]+=n;case"L":t=e[1],n=e[2],d=["L",t,n];break;case"h":e[1]+=t;case"H":t=e[1],d=["L",t,n];break;case"v":e[1]+=n;case"V":n=e[1],d=["L",t,n];break;case"m":e[1]+=t,e[2]+=n;case"M":t=e[1],n=e[2],s=e[1],i=e[2],d=["M",t,n];break;case"c":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n,e[5]+=t,e[6]+=n;case"C":o=e[3],l=e[4],t=e[5],n=e[6],d=["C",e[1],e[2],o,l,t,n];break;case"s":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"S":"C"===r?(o=2*t-o,l=2*n-l):(o=t,l=n),t=e[3],n=e[4],d=["C",o,l,e[1],e[2],t,n],o=d[3],l=d[4];break;case"q":e[1]+=t,e[2]+=n,e[3]+=t,e[4]+=n;case"Q":o=e[1],l=e[2],t=e[3],n=e[4],d=["Q",o,l,t,n];break;case"t":e[1]+=t,e[2]+=n;case"T":"Q"===r?(o=2*t-o,l=2*n-l):(o=t,l=n),t=e[1],n=e[2],d=["Q",o,l,t,n];break;case"a":e[6]+=t,e[7]+=n;case"A":vj(t,n,e).forEach(e=>a.push(e)),t=e[6],n=e[7];break;case"z":case"Z":t=s,n=i,d=["Z"]}d?(a.push(d),r=d[0]):r=""}return a},xj=(e,t,n,s)=>Math.sqrt((n-e)**2+(s-t)**2),bj=(e,t,n,s,i,a,r,o)=>l=>{const c=l**3,d=(e=>3*e**2*(1-e))(l),h=(e=>3*e*(1-e)**2)(l),u=(e=>(1-e)**3)(l);return new E_(r*c+i*d+n*h+e*u,o*c+a*d+s*h+t*u)},wj=e=>e**2,_j=e=>2*e*(1-e),Sj=e=>(1-e)**2,kj=(e,t,n,s,i,a,r,o)=>l=>{const c=wj(l),d=_j(l),h=Sj(l),u=3*(h*(n-e)+d*(i-n)+c*(r-i)),p=3*(h*(s-t)+d*(a-s)+c*(o-a));return Math.atan2(p,u)},Cj=(e,t,n,s,i,a)=>r=>{const o=wj(r),l=_j(r),c=Sj(r);return new E_(i*o+n*l+e*c,a*o+s*l+t*c)},Aj=(e,t,n,s,i,a)=>r=>{const o=1-r,l=2*(o*(n-e)+r*(i-n)),c=2*(o*(s-t)+r*(a-s));return Math.atan2(c,l)},jj=(e,t,n)=>{let s=new E_(t,n),i=0;for(let a=1;a<=100;a+=1){const t=e(a/100);i+=xj(s.x,s.y,t.x,t.y),s=t}return i},Tj=e=>{let t,n,s=0,i=0,a=0,r=0,o=0;const l=[];for(const c of e){const e={x:i,y:a,command:c[0],length:0};switch(c[0]){case"M":n=e,n.x=r=i=c[1],n.y=o=a=c[2];break;case"L":n=e,n.length=xj(i,a,c[1],c[2]),i=c[1],a=c[2];break;case"C":t=bj(i,a,c[1],c[2],c[3],c[4],c[5],c[6]),n=e,n.iterator=t,n.angleFinder=kj(i,a,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=jj(t,i,a),i=c[5],a=c[6];break;case"Q":t=Cj(i,a,c[1],c[2],c[3],c[4]),n=e,n.iterator=t,n.angleFinder=Aj(i,a,c[1],c[2],c[3],c[4]),n.length=jj(t,i,a),i=c[3],a=c[4];break;case"Z":n=e,n.destX=r,n.destY=o,n.length=xj(i,a,r,o),i=r,a=o}s+=n.length,l.push(n)}return l.push({length:s,x:i,y:a}),l},Ej=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tj(e),s=0;for(;t-n[s].length>0&&s<n.length-2;)t-=n[s].length,s++;const i=n[s],a=t/i.length,r=e[s];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return Aw(Aw({},new E_(i.x,i.y).lerp(new E_(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return Aw(Aw({},new E_(i.x,i.y).lerp(new E_(r[1],r[2]),a)),{},{angle:Math.atan2(r[2]-i.y,r[1]-i.x)});case"C":case"Q":return((e,t)=>{let n,s=0,i=0,a={x:e.x,y:e.y},r=Aw({},a),o=.01,l=0;const c=e.iterator,d=e.angleFinder;for(;i<t&&o>1e-4;)r=c(s),l=s,n=xj(a.x,a.y,r.x,r.y),n+i>t?(s-=o,o/=2):(a=r,s+=o,i+=n);return Aw(Aw({},r),{},{angle:d(l)})})(i,t)}},Nj=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Pj=new RegExp(uj,"g"),Mj=new RegExp(kk,"gi"),Oj={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Dj=e=>{var t;const n=[],s=null!==(t=e.match(Nj))&&void 0!==t?t:[];for(const i of s){const e=i[0];if("z"===e||"Z"===e){n.push([e]);continue}const t=Oj[e.toLowerCase()];let s=[];if("a"===e||"A"===e){Pj.lastIndex=0;for(let e=null;e=Pj.exec(i);)s.push(...e.slice(1))}else s=i.match(Mj)||[];for(let i=0;i<s.length;i+=t){const a=new Array(t),r=pj[e];a[0]=i>0&&r?r:e;for(let e=0;e<t;e++)a[e+1]=parseFloat(s[i+e]);n.push(a)}}return n},Lj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new E_(e[0]),s=new E_(e[1]),i=1,a=0;const r=[],o=e.length,l=o>2;let c;for(l&&(i=e[2].x<s.x?-1:e[2].x===s.x?0:1,a=e[2].y<s.y?-1:e[2].y===s.y?0:1),r.push(["M",n.x-i*t,n.y-a*t]),c=1;c<o;c++){if(!n.eq(s)){const e=n.midPointFrom(s);r.push(["Q",n.x,n.y,e.x,e.y])}n=e[c],c+1<e.length&&(s=e[c+1])}return l&&(i=n.x>e[c-2].x?1:n.x===e[c-2].x?0:-1,a=n.y>e[c-2].y?1:n.y===e[c-2].y?0:-1),r.push(["L",n.x+i*t,n.y+a*t]),r},Rj=(e,t)=>e.map(e=>e.map((e,n)=>0===n||void 0===t?e:hS(e,t)).join(" ")).join(" ");function Fj(e,t){const n=e.style;n&&t&&("string"==typeof t?n.cssText+=";"+t:Object.entries(t).forEach(e=>{let[t,s]=e;return n.setProperty(t,s)}))}const Ij=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;function Bj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.onComplete||Hw,s=new(Ww().XMLHttpRequest),i=t.signal,a=function(){s.abort()},r=function(){i&&i.removeEventListener("abort",a),s.onerror=s.ontimeout=Hw};if(i&&i.aborted)throw new Ow("request");return i&&i.addEventListener("abort",a,{once:!0}),s.onreadystatechange=function(){4===s.readyState&&(r(),n(s),s.onreadystatechange=Hw)},s.onerror=s.ontimeout=r,s.open("get",e,!0),s.send(),s}const Wj=(e,t)=>{let n=e._findCenterFromElement();e.transformMatrix&&((e=>{if(e.transformMatrix){const{scaleX:t,scaleY:n,angle:s,skewX:i}=J_(e.transformMatrix);e.flipX=!1,e.flipY=!1,e.set(m_,t),e.set(g_,n),e.angle=s,e.skewX=i,e.skewY=0}})(e),n=n.transform(e.transformMatrix)),delete e.transformMatrix,t&&(e.scaleX*=t.scaleX,e.scaleY*=t.scaleY,e.cropX=t.cropX,e.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,e.width=t.width,e.height=t.height),e.setPositionByOrigin(n,Jw,Jw)};Object.freeze({__proto__:null,addTransformToObject:MS,animate:uC,animateColor:pC,applyTransformToObject:OS,calcAngleBetweenVectors:Rk,calcDimensionsMatrix:iS,calcPlaneChangeMatrix:FS,calcVectorRotation:Fk,cancelAnimFrame:L_,capValue:Vk,composeMatrix:aS,copyCanvasElement:e=>{var t;const n=W_(e);return null===(t=n.getContext("2d"))||void 0===t||t.drawImage(e,0,0),n},cos:j_,createCanvasElement:I_,createImage:B_,createRotateMatrix:$_,createScaleMatrix:eS,createSkewXMatrix:nS,createSkewYMatrix:sS,createTranslateMatrix:Z_,createVector:Dk,crossProduct:Wk,degreesToRadians:G_,dotProduct:Uk,ease:tC,enlivenObjectEnlivables:lS,enlivenObjects:oS,findScaleToCover:cj,findScaleToFit:lj,getBoundsOfCurve:fj,getOrthonormalVector:Bk,getPathSegmentsInfo:Tj,getPointOnPath:Ej,getPointer:jS,getRandomInt:Ij,getRegularPolygonPath:(e,t)=>{const n=2*Math.PI/e;let s=-Yw;e%2==0&&(s+=n/2);const i=new Array(e+1);for(let a=0;a<e;a++){const e=a*n+s,{x:r,y:o}=new E_(j_(e),T_(e)).scalarMultiply(t);i[a]=[0===a?"M":"L",r,o]}return i[e]=["Z"],i},getSmoothPathFromPoints:Lj,getSvgAttributes:e=>{const t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Ik,groupSVGElements:(e,t)=>e&&1===e.length?e[0]:new oj(e,t),hasStyleChanged:uA,invertTransform:q_,isBetweenVectors:zk,isIdentityMatrix:Y_,isTouchEvent:TS,isTransparent:$C,joinPath:Rj,loadImage:rS,magnitude:Lk,makeBoundingBoxFromPoints:NS,makePathSimpler:yj,matrixToSVG:uS,mergeClipPaths:(e,t)=>{var n;let s=e,i=t;s.inverted&&!i.inverted&&(s=t,i=e),WS(i,null===(n=i.group)||void 0===n?void 0:n.calcTransformMatrix(),s.calcTransformMatrix());const a=s.inverted&&i.inverted;return a&&(s.inverted=i.inverted=!1),new oj([s],{clipPath:i,inverted:a})},multiplyTransformMatrices:K_,multiplyTransformMatrixArray:X_,parsePath:Dj,parsePreserveAspectRatioAttribute:rk,parseUnit:ak,pick:cS,projectStrokeOnPoints:iA,qrDecompose:J_,radiansToDegrees:H_,removeFromArray:A_,removeTransformFromObject:(e,t)=>{const n=q_(t),s=K_(n,e.calcOwnMatrix());OS(e,s)},removeTransformMatrixForSvgParsing:Wj,request:Bj,requestAnimFrame:D_,resetObjectTransform:DS,rotatePoint:(e,t,n)=>e.rotate(n,t),rotateVector:Ok,saveObjectTransform:LS,sendObjectToPlane:WS,sendPointToPlane:IS,sendVectorToPlane:BS,setStyle:Fj,sin:T_,sizeAfterTransform:RS,string:hA,stylesFromArray:mA,stylesToArray:pA,toBlob:z_,toDataURL:U_,toFixed:hS,transformPath:(e,t,n)=>(n&&(t=K_(t,[1,0,0,1,-n.x,-n.y])),e.map(e=>{const n=[...e];for(let s=1;s<e.length-1;s+=2){const{x:i,y:a}=V_({x:e[s],y:e[s+1]},t);n[s]=i,n[s+1]=a}return n})),transformPoint:V_});class Uj extends SS{constructor(e){let{allowTouchScrolling:t=!1,containerClass:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),kw(this,"upper",void 0),kw(this,"container",void 0);const{el:s}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(s,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const a=this.createContainerElement();a.classList.add(n),s.parentNode&&s.parentNode.replaceChild(a,s),a.append(s,i),this.container=a}createUpperCanvas(){const{el:e}=this.lower,t=I_();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=Bw().createElement("div");return e.setAttribute("data-fabric","wrapper"),Fj(e,{position:"relative"}),_S(e),e}applyCanvasStyle(e,t){const{styles:n,allowTouchScrolling:s}=t;Fj(e,Aw(Aw({},n),{},{"touch-action":s?"manipulation":n_})),_S(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:n,ctx:s}=this.upper;bS(n,s,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),wS(this.upper.el,e),wS(this.container,e)}cleanupDOM(e){const t=this.container,{el:n}=this.lower,{el:s}=this.upper;super.cleanupDOM(e),t.removeChild(s),t.removeChild(n),t.parentNode&&t.parentNode.replaceChild(n,t)}dispose(){super.dispose(),Iw().dispose(this.upper.el),delete this.upper,delete this.container}}class zj extends CS{constructor(){super(...arguments),kw(this,"targets",[]),kw(this,"_hoveredTargets",[]),kw(this,"_objectsToRender",void 0),kw(this,"_currentTransform",null),kw(this,"_groupSelector",null),kw(this,"contextTopDirty",!1)}static getDefaults(){return Aw(Aw({},super.getDefaults()),zj.ownDefaults)}get upperCanvasEl(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.el}get contextTop(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new Uj(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),n=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,n){const s=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+s,-n+s),i.transform(...this.viewportTransform);const a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=a,i.restore();const r=Math.round(s*this.getRetinaScaling());return $C(i,r,r,r)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(t=>!!t&&!0===e[t]):e[t])}_shouldClearSelection(e,t){const n=this.getActiveObjects(),s=this._activeObject;return!!(!t||t&&s&&n.length>1&&-1===n.indexOf(t)&&s!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&s&&s!==t)}_shouldCenterTransform(e,t,n){if(!e)return;let s;return t===p_||t===m_||t===g_||t===c_?s=this.centeredScaling||e.centeredScaling:t===o_&&(s=this.centeredRotation||e.centeredRotation),s?!n:n}_getOriginFromCorner(e,t){const n={x:e.originX,y:e.originY};return t?(["ml","tl","bl"].includes(t)?n.x=t_:["mr","tr","br"].includes(t)&&(n.x=Zw),["tl","mt","tr"].includes(t)?n.y=e_:["bl","mb","br"].includes(t)&&(n.y=$w),n):n}_setupCurrentTransform(e,t,n){var s;const i=t.group?IS(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:a="",control:r}=t.getActiveControl()||{},o=n&&r?null===(s=r.getActionHandler(e,t,r))||void 0===s?void 0:s.bind(r):JS,l=((e,t,n,s)=>{if(!t||!e)return"drag";const i=s.controls[t];return i.getActionName(n,i,s)})(n,a,e,t),c=e[this.centeredKey],d=this._shouldCenterTransform(t,l,c)?{x:Jw,y:Jw}:this._getOriginFromCorner(t,a),h={target:t,action:l,actionHandler:o,actionPerformed:!1,corner:a,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:d.x,originY:d.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:G_(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:c,original:Aw(Aw({},LS(t)),{},{originX:d.x,originY:d.y})};this._currentTransform=h,this.fire("before:transform",{e:e,transform:h})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:n,deltaX:s,deltaY:i}=this._groupSelector,a=new E_(t,n).transform(this.viewportTransform),r=new E_(t+s,n+i).transform(this.viewportTransform),o=this.selectionLineWidth/2;let l=Math.min(a.x,r.x),c=Math.min(a.y,r.y),d=Math.max(a.x,r.x),h=Math.max(a.y,r.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(l,c,d-l,h-c)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,l+=o,c+=o,d-=o,h-=o,ZC.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(l,c,d-l,h-c))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),n=this._activeObject,s=this.getActiveObjects();if(this.targets=[],n&&s.length>=1){if(n.findControl(t,TS(e)))return n;if(s.length>1&&this.searchPossibleTargets([n],t))return n;if(n===this.searchPossibleTargets([n],t)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const i=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&i&&i!==n?(this.targets=s,n):i}return n}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let n=e.getCoords();const s=this.getZoom(),i=e.padding/s;if(i){const[e,t,s,a]=n,r=Math.atan2(t.y-e.y,t.x-e.x),o=j_(r)*i,l=T_(r)*i,c=o+l,d=o-l;n=[new E_(e.x-d,e.y-c),new E_(t.x+c,t.y-d),new E_(s.x+d,s.y+c),new E_(a.x-c,a.y+d)]}return mC.isPointInPolygon(t,n)}_checkTarget(e,t){if(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,IS(t,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}return!1}_searchPossibleTargets(e,t){let n=e.length;for(;n--;){const s=e[n];if(this._checkTarget(s,t)){if(P_(s)&&s.subTargetCheck){const e=this._searchPossibleTargets(s._objects,t);e&&this.targets.push(e)}return s}}}searchPossibleTargets(e,t){const n=this._searchPossibleTargets(e,t);if(n&&P_(n)&&n.interactive&&this.targets[0]){const e=this.targets;for(let t=e.length-1;t>0;t--){const n=e[t];if(!P_(n)||!n.interactive)return n}return e[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.upperCanvasEl,s=n.getBoundingClientRect();let i=jS(e),a=s.width||0,r=s.height||0;a&&r||($w in s&&e_ in s&&(r=Math.abs(s.top-s.bottom)),t_ in s&&Zw in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=IS(i,void 0,this.viewportTransform));const o=this.getRetinaScaling();1!==o&&(i.x/=o,i.y/=o);const l=0===a||0===r?new E_(1,1):new E_(n.width/a,n.height/r);return i.multiply(l)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=I_(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return fS(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let n=!1,s=!1;const i=this.getActiveObjects(),a=[],r=[];e.forEach(e=>{i.includes(e)||(n=!0,e.fire("deselected",{e:t,target:e}),r.push(e))}),i.forEach(s=>{e.includes(s)||(n=!0,s.fire("selected",{e:t,target:s}),a.push(s))}),e.length>0&&i.length>0?(s=!0,n&&this.fire("selection:updated",{e:t,selected:a,deselected:r})):i.length>0?(s=!0,this.fire("selection:created",{e:t,selected:a})):e.length>0&&(s=!0,this.fire("selection:cleared",{e:t,deselected:r})),s&&(this._objectsToRender=void 0)}setActiveObject(e,t){const n=this.getActiveObjects(),s=this._setActiveObject(e,t);return this._fireSelectionEvents(n,t),s}_setActiveObject(e,t){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,fS(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const n=this._activeObject;return!!n&&!n.onDeselect({e:e,object:t})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),fS(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),n=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e:e,deselected:[n]});const s=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),s}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,n=t.target,s={e:e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),t.actionPerformed&&(this.fire("object:modified",s),n.fire(b_,s))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;fS(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,n){const s=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,n);return e.set(s),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&fS(t)&&this._activeObject===t){const n=cS(e,["angle","flipX","flipY",Zw,m_,g_,f_,v_,$w]);return MS(e,t.calcOwnMatrix()),n}return{}}_setSVGObject(e,t,n){const s=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,n),t.set(s)}}kw(zj,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Gj{constructor(e){kw(this,"targets",[]),kw(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:t}=e.getActiveObject()||{};t&&t.focus()},n=e.upperCanvasEl;n.addEventListener("click",t),this.__disposer=()=>n.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),A_(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;(null===(t=this.target)||void 0===t?void 0:t.isEditing)&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Hj=["target","oldTarget","fireCanvas","e"],Yj={passive:!1},Vj=(e,t)=>{const n=e.getViewportPoint(t),s=e.getScenePoint(t);return{viewportPoint:n,scenePoint:s,pointer:n,absolutePointer:s}},qj=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e.addEventListener(...n)},Kj=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e.removeEventListener(...n)},Xj={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Qj extends zj{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),kw(this,"_isClick",void 0),kw(this,"textEditingManager",new Gj(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(qj,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const n=this.upperCanvasEl,s=this._getEventPrefix();e(xS(n),"resize",this._onResize),e(n,s+"down",this._onMouseDown),e(n,"".concat(s,"move"),this._onMouseMove,Yj),e(n,"".concat(s,"out"),this._onMouseOut),e(n,"".concat(s,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Yj)}removeListeners(){this.addOrRemove(Kj,"remove");const e=this._getEventPrefix(),t=yS(this.upperCanvasEl);Kj(t,"".concat(e,"up"),this._onMouseUp),Kj(t,"touchend",this._onTouchEnd,Yj),Kj(t,"".concat(e,"move"),this._onMouseMove,Yj),Kj(t,"touchmove",this._onMouseMove,Yj),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,n=Aw({e:e},Vj(this,e));this.fire("mouse:out",Aw(Aw({},n),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",Aw({},n)),this._hoveredTargets.forEach(e=>{this.fire("mouse:out",Aw(Aw({},n),{},{target:e})),e&&e.fire("mouseout",Aw({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Aw({e:e},Vj(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const n={e:e,target:t};return this.fire("dragstart",n),t.fire("dragstart",n),void qj(this.upperCanvasEl,"drag",this._onDragProgress)}ES(e)}_renderDragEffects(e,t,n){let s=!1;const i=this._dropTarget;i&&i!==t&&i!==n&&(i.clearContextTop(),s=!0),null==t||t.clearContextTop(),n!==t&&(null==n||n.clearContextTop());const a=this.contextTop;a.save(),a.transform(...this.viewportTransform),t&&(a.save(),t.transform(a),t.renderDragSourceEffect(e),a.restore(),s=!0),n&&(a.save(),n.transform(a),n.renderDropTargetEffect(e),a.restore(),s=!0),a.restore(),s&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==n_,n=t?this._activeObject:void 0,s={e:e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:n};Kj(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",s),this._dragSource&&this._dragSource.fire("dragend",s),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e:e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:n,targets:s}=this.findDragTargets(e),i=this._dragSource,a={e:e,target:n,subTargets:s,dragSource:i,canDrop:!1,dropTarget:void 0};let r;this.fire(t,a),this._fireEnterLeaveEvents(n,a),n&&(n.canDrop(e)&&(r=n),n.fire(t,a));for(let o=0;o<s.length;o++){const n=s[o];n.canDrop(e)&&(r=n),n.fire(t,a)}this._renderDragEffects(e,i,r),this._dropTarget=r}_onDragEnter(e){const{target:t,targets:n}=this.findDragTargets(e),s={e:e,target:t,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",s),this._fireEnterLeaveEvents(t,s)}_onDragLeave(e){const t={e:e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:n}=this.findDragTargets(e),s=this._basicEventHandler("drop:before",Aw({e:e,target:t,subTargets:n,dragSource:this._dragSource},Vj(this,e)));s.didDrop=!1,s.dropTarget=void 0,this._basicEventHandler("drop",s),this.fire("drop:after",s)}_onContextMenu(e){const t=this.findTarget(e),n=this.targets||[],s=this._basicEventHandler("contextmenu:before",{e:e,target:t,subTargets:n});return this.stopContextMenu&&ES(e),this._basicEventHandler("contextmenu",s),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),2==t&&"dblclick"===e.type&&this._handleEvent(e,"dblclick"),3==t&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let t=!this.allowTouchScrolling;const n=this._activeObject;void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(t=!0),t&&e.preventDefault(),this._resetTransformEventData();const s=this.upperCanvasEl,i=this._getEventPrefix(),a=yS(s);qj(a,"touchend",this._onTouchEnd,Yj),t&&qj(a,"touchmove",this._onMouseMove,Yj),Kj(s,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,n=this._getEventPrefix();Kj(t,"".concat(n,"move"),this._onMouseMove,Yj);const s=yS(t);qj(s,"".concat(n,"up"),this._onMouseUp),qj(s,"".concat(n,"move"),this._onMouseMove,Yj)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),n=yS(this.upperCanvasEl);Kj(n,"touchend",this._onTouchEnd,Yj),Kj(n,"touchmove",this._onMouseMove,Yj),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{qj(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const e=yS(this.upperCanvasEl);Kj(e,"".concat(n,"up"),this._onMouseUp),Kj(e,"".concat(n,"move"),this._onMouseMove,Yj),qj(t,"".concat(n,"move"),this._onMouseMove,Yj)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,s=this._isClick,i=this._target,{button:a}=e;if(a)return(this.fireMiddleClick&&1===a||this.fireRightClick&&2===a)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let r,o,l=!1;if(n&&(this._finalizeCurrentTransform(e),l=n.actionPerformed),!s){const t=i===this._activeObject;this.handleSelection(e),l||(l=this._shouldRender(i)||!t&&i===this._activeObject)}if(i){const t=i.findControl(this.getViewportPoint(e),TS(e)),{key:s,control:a}=t||{};if(o=s,i.selectable&&i!==this._activeObject&&"up"===i.activeOn)this.setActiveObject(i,e),l=!0;else if(a){const t=a.getMouseUpHandler(e,i,a);t&&(r=this.getScenePoint(e),t.call(a,e,n,r.x,r.y))}i.isMoving=!1}if(n&&(n.target!==i||n.corner!==o)){const t=n.target&&n.target.controls[n.corner],s=t&&t.getMouseUpHandler(e,n.target,t);r=r||this.getScenePoint(e),s&&s.call(t,e,n,r.x,r.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),l?this.requestRenderAll():s||null!==(t=this._activeObject)&&void 0!==t&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:n,subTargets:s=[]}=t;this.fire(e,t),n&&n.fire(e,t);for(let i=0;i<s.length;i++)s[i]!==n&&s[i].fire(e,t);return t}_handleEvent(e,t,n){const s=this._target,i=this.targets||[],a=Aw(Aw(Aw({e:e,target:s,subTargets:i},Vj(this,e)),{},{transform:this._currentTransform},"up:before"===t||"up"===t?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),"down:before"===t||"down"===t?n:{});this.fire("mouse:".concat(t),a),s&&s.fire("mouse".concat(t),a);for(let r=0;r<i.length;r++)i[r]!==s&&i[r].fire("mouse".concat(t),a)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target,n=!!t&&t===this._activeObject;const{button:s}=e;if(s)return(this.fireMiddleClick&&1===s||this.fireRightClick&&2===s)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e))return;if(this._currentTransform)return;let i=this._shouldRender(t),a=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,a=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const t=this.getScenePoint(e);this._groupSelector={x:t.x,y:t.y,deltaY:0,deltaX:0}}if(n=!!t&&t===this._activeObject,t){t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);const s=t.findControl(this.getViewportPoint(e),TS(e));if(t===this._activeObject&&(s||!a)){this._setupCurrentTransform(e,t,n);const i=s?s.control:void 0,a=this.getScenePoint(e),r=i&&i.getMouseDownHandler(e,t,i);r&&r.call(i,e,this._currentTransform,a.x,a.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=IS(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const n=this.getScenePoint(e);t.deltaX=n.x-t.x,t.deltaY=n.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const t=this.findTarget(e);this._setCursorFromEvent(e,t),this._fireOverOutEvents(e,t)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const n=this._hoveredTarget,s=this._hoveredTargets,i=this.targets,a=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:n,fireCanvas:!0});for(let r=0;r<a;r++)this.fireSyntheticInOutEvents("mouse",{e:e,target:i[r],oldTarget:s[r]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const n=this._draggedoverTarget,s=this._hoveredTargets,i=this.targets,a=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("drag",Aw(Aw({},t),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let r=0;r<a;r++)this.fireSyntheticInOutEvents("drag",Aw(Aw({},t),{},{target:i[r],oldTarget:s[r]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:n,oldTarget:s,fireCanvas:i,e:a}=t,r=jw(t,Hj);const{targetIn:o,targetOut:l,canvasIn:c,canvasOut:d}=Xj[e],h=s!==n;if(s&&h){const e=Aw(Aw({},r),{},{e:a,target:s,nextTarget:n},Vj(this,a));i&&this.fire(d,e),s.fire(l,e)}if(n&&h){const e=Aw(Aw({},r),{},{e:a,target:n,previousTarget:s},Vj(this,a));i&&this.fire(c,e),n.fire(o,e)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),n=this._currentTransform,s=n.target,i=s.group?IS(t,void 0,s.group.calcTransformMatrix()):t;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,i),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,n){const{action:s,actionHandler:i,target:a}=t,r=!!i&&i(e,t,n.x,n.y);r&&a.setCoords(),"drag"===s&&r&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||r}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let n=t.hoverCursor||this.hoverCursor;const s=fS(this._activeObject)?this._activeObject:null,i=(!s||t.group!==s)&&t.findControl(this.getViewportPoint(e));if(i){const n=i.control;this.setCursor(n.cursorStyleHandler(e,n,t))}else t.subTargetCheck&&this.targets.concat().reverse().map(e=>{n=e.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,t){const n=this._activeObject,s=fS(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(n!==t||s)&&(s||!t.isDescendantOf(n)&&!n.isDescendantOf(t))&&!t.onSelect({e:e})&&!n.getActiveControl()){if(s){const s=n.getObjects();if(t===n){const n=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(s,n)||this.searchPossibleTargets(this._objects,n))||!t.selectable)return!1}t.group===n?(n.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],1===n.size()&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(t),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(S_.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,t),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:n,deltaX:s,deltaY:i}=this._groupSelector,a=new E_(t,n),r=a.add(new E_(s,i)),o=a.min(r),l=a.max(r).subtract(o),c=this.collectObjects({left:o.x,top:o.y,width:l.x,height:l.y},{includeIntersecting:!this.selectionFullyContained}),d=a.eq(r)?c[0]?[c[0]]:[]:c.length>1?c.filter(t=>!t.onSelect({e:e})).reverse():c;if(1===d.length)this.setActiveObject(d[0],e);else if(d.length>1){const t=S_.getClass("ActiveSelection");this.setActiveObject(new t(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Jj={x1:0,y1:0,x2:0,y2:0},Zj=Aw(Aw({},Jj),{},{r1:0,r2:0}),$j=(e,t)=>isNaN(e)&&"number"==typeof t?t:e,eT=/^(\d+\.\d+)%|(\d+)%$/;function tT(e){return e&&eT.test(e)}function nT(e,t){const n="number"==typeof e?e:"string"==typeof e?parseFloat(e)/(tT(e)?100:1):NaN;return Vk(0,$j(n,t),1)}const sT=/\s*;\s*/,iT=/\s*:\s*/;function aT(e,t){let n,s;const i=e.getAttribute("style");if(i){const e=i.split(sT);""===e[e.length-1]&&e.pop();for(let t=e.length;t--;){const[i,a]=e[t].split(iT).map(e=>e.trim());"stop-color"===i?n=a:"stop-opacity"===i&&(s=a)}}const a=new ik(n||e.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:nT(e.getAttribute("offset"),0),color:a.toRgb(),opacity:$j(parseFloat(s||e.getAttribute("stop-opacity")||""),1)*a.getAlpha()*t}}function rT(e,t){const n=[],s=e.getElementsByTagName("stop"),i=nT(t,1);for(let a=s.length;a--;)n.push(aT(s[a],i));return n}function oT(e){return"linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial"}function lT(e){return"userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage"}function cT(e,t){return e.getAttribute(t)}function dT(e,t){return function(e,t){let n,{width:s,height:i,gradientUnits:a}=t;return Object.keys(e).reduce((t,r)=>{const o=e[r];return"Infinity"===o?n=1:"-Infinity"===o?n=0:(n="string"==typeof o?parseFloat(o):o,"string"==typeof o&&tT(o)&&(n*=.01,"pixels"===a&&("x1"!==r&&"x2"!==r&&"r2"!==r||(n*=s),"y1"!==r&&"y2"!==r||(n*=i)))),t[r]=n,t},{})}("linear"===oT(e)?function(e){return{x1:cT(e,"x1")||0,y1:cT(e,"y1")||0,x2:cT(e,"x2")||"100%",y2:cT(e,"y2")||0}}(e):function(e){return{x1:cT(e,"fx")||cT(e,"cx")||"50%",y1:cT(e,"fy")||cT(e,"cy")||"50%",r1:0,x2:cT(e,"cx")||"50%",y2:cT(e,"cy")||"50%",r2:cT(e,"r")||"50%"}}(e),Aw(Aw({},t),{},{gradientUnits:lT(e)}))}class hT{constructor(e){const{type:t="linear",gradientUnits:n="pixels",coords:s={},colorStops:i=[],offsetX:a=0,offsetY:r=0,gradientTransform:o,id:l}=e||{};Object.assign(this,{type:t,gradientUnits:n,coords:Aw(Aw({},"radial"===t?Zj:Jj),s),colorStops:i,offsetX:a,offsetY:r,gradientTransform:o,id:l?"".concat(l,"_").concat(F_()):F_()})}addColorStop(e){for(const t in e){const n=new ik(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return Aw(Aw({},cS(this,e)),{},{type:this.type,coords:Aw({},this.coords),colorStops:this.colorStops.map(e=>Aw({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],s=this.gradientTransform?this.gradientTransform.concat():Kw.concat(),i="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",a=this.colorStops.map(e=>Aw({},e)).sort((e,t)=>e.offset-t.offset);let r=-this.offsetX,o=-this.offsetY;var l;"objectBoundingBox"===i?(r/=e.width,o/=e.height):(r+=e.width/2,o+=e.height/2),(l=e)&&"function"==typeof l._renderPathCommands&&"percentage"!==this.gradientUnits&&(r-=e.pathOffset.x,o-=e.pathOffset.y),s[4]-=r,s[5]-=o;const c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(uS(s),'"'),""].join(" ");if("linear"===this.type){const{x1:e,y1:t,x2:s,y2:i}=this.coords;n.push("<linearGradient ",c,' x1="',e,'" y1="',t,'" x2="',s,'" y2="',i,'">\n')}else if("radial"===this.type){const{x1:e,y1:t,x2:s,y2:i,r1:r,r2:o}=this.coords,l=r>o;n.push("<radialGradient ",c,' cx="',l?e:s,'" cy="',l?t:i,'" r="',l?r:o,'" fx="',l?s:e,'" fy="',l?i:t,'">\n'),l&&(a.reverse(),a.forEach(e=>{e.offset=1-e.offset}));const d=Math.min(r,o);if(d>0){const e=d/Math.max(r,o);a.forEach(t=>{t.offset+=e*(1-t.offset)})}}return a.forEach(e=>{let{color:t,offset:s,opacity:i}=e;n.push("<stop ",'offset="',100*s+"%",'" style="stop-color:',t,void 0!==i?";stop-opacity: "+i:";",'"/>\n')}),n.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),n.join("")}toLive(e){const{x1:t,y1:n,x2:s,y2:i,r1:a,r2:r}=this.coords,o="linear"===this.type?e.createLinearGradient(t,n,s,i):e.createRadialGradient(t,n,a,s,i,r);return this.colorStops.forEach(e=>{let{color:t,opacity:n,offset:s}=e;o.addColorStop(s,void 0!==n?new ik(t).setAlpha(n).toRgba():t)}),o}static async fromObject(e){const{colorStops:t,gradientTransform:n}=e;return new this(Aw(Aw({},e),{},{colorStops:t?t.map(e=>Aw({},e)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,t,n){const s=lT(e),i=t._findCenterFromElement();return new this(Aw({id:e.getAttribute("id")||void 0,type:oT(e),coords:dT(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:rT(e,n.opacity),gradientUnits:s,gradientTransform:WA(e.getAttribute("gradientTransform")||"")},"pixels"===s?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}kw(hT,"type","Gradient"),S_.setClass(hT,"gradient"),S_.setClass(hT,"linear"),S_.setClass(hT,"radial");const uT=["type","source","patternTransform"];class pT{get type(){return"pattern"}set type(e){Pw("warn","Setting type has no effect",e)}constructor(e){kw(this,"repeat","repeat"),kw(this,"offsetX",0),kw(this,"offsetY",0),kw(this,"crossOrigin",""),this.id=F_(),Object.assign(this,e)}isImageSource(){return!!this.source&&"string"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{repeat:t,crossOrigin:n}=this;return Aw(Aw({},cS(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:n,offsetX:hS(this.offsetX,Nw.NUM_FRACTION_DIGITS),offsetY:hS(this.offsetY,Nw.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:n}=e;const{source:s,repeat:i,id:a}=this,r=$j(this.offsetX/t,0),o=$j(this.offsetY/n,0),l="repeat-y"===i||"no-repeat"===i?1+Math.abs(r||0):$j(s.width/t,0),c="repeat-x"===i||"no-repeat"===i?1+Math.abs(o||0):$j(s.height/n,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(r,'" y="').concat(o,'" width="').concat(l,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(s.width,'" height="').concat(s.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}static async fromObject(e,t){let{type:n,source:s,patternTransform:i}=e,a=jw(e,uT);const r=await rS(s,Aw(Aw({},t),{},{crossOrigin:a.crossOrigin}));return new this(Aw(Aw({},a),{},{patternTransform:i&&i.slice(0),source:r}))}}kw(pT,"type","Pattern"),S_.setClass(pT),S_.setClass(pT,"pattern");class mT{constructor(e){kw(this,"color","rgb(0, 0, 0)"),kw(this,"width",1),kw(this,"shadow",null),kw(this,"strokeLineCap","round"),kw(this,"strokeLineJoin","round"),kw(this,"strokeMiterLimit",10),kw(this,"strokeDashArray",null),kw(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}needsFullRender(){return new ik(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,t=this.shadow,n=e.contextTop,s=e.getZoom()*e.getRetinaScaling();n.shadowColor=t.color,n.shadowBlur=t.blur*s,n.shadowOffsetX=t.offsetX*s,n.shadowOffsetY=t.offsetY*s}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const gT=["path","left","top"],fT=["d"];class vT extends ZC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{path:n,left:s,top:i}=t,a=jw(t,gT);super(),Object.assign(this,vT.ownDefaults),this.setOptions(a),this._setPath(e||[],!0),"number"==typeof s&&this.set(Zw,s),"number"==typeof i&&this.set($w,i)}_setPath(e,t){this.path=yj(Array.isArray(e)?e:Dj(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new E_(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const s of this.path)switch(s[0]){case"L":e.lineTo(s[1]+t,s[2]+n);break;case"M":e.moveTo(s[1]+t,s[2]+n);break;case"C":e.bezierCurveTo(s[1]+t,s[2]+n,s[3]+t,s[4]+n,s[5]+t,s[6]+n);break;case"Q":e.quadraticCurveTo(s[1]+t,s[2]+n,s[3]+t,s[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Aw(Aw({},super.toObject(e)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=Rj(this.path,Nw.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,'" stroke-linecap="round" />\n')]}_getOffsetTransform(){const e=Nw.NUM_FRACTION_DIGITS;return" translate(".concat(hS(-this.pathOffset.x,e),", ").concat(hS(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:n,pathOffset:s}=this._calcDimensions();this.set({width:t,height:n,pathOffset:s}),e&&this.setPositionByOrigin(s,Jw,Jw)}_calcBoundsFromPath(){const e=[];let t=0,n=0,s=0,i=0;for(const a of this.path)switch(a[0]){case"L":s=a[1],i=a[2],e.push({x:t,y:n},{x:s,y:i});break;case"M":s=a[1],i=a[2],t=s,n=i;break;case"C":e.push(...fj(s,i,a[1],a[2],a[3],a[4],a[5],a[6])),s=a[5],i=a[6];break;case"Q":e.push(...fj(s,i,a[1],a[2],a[1],a[2],a[3],a[4])),s=a[3],i=a[4];break;case"Z":s=t,i=n}return NS(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Aw(Aw({},e),{},{pathOffset:new E_(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,n){const s=HA(e,this.ATTRIBUTE_NAMES,n),{d:i}=s;return new this(i,Aw(Aw(Aw({},jw(s,fT)),t),{},{left:void 0,top:void 0}))}}kw(vT,"type","Path"),kw(vT,"cacheProperties",[...Kk,"path","fillRule"]),kw(vT,"ATTRIBUTE_NAMES",[...gA,"d"]),S_.setClass(vT),S_.setSVGClass(vT);class yT extends mT{constructor(e){super(e),kw(this,"decimate",.4),kw(this,"drawStraightLine",!1),kw(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,t,n){const s=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,s.x,s.y),s}onMouseDown(e,t){let{e:n}=t;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,t){let{e:n}=t;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const e=this._points,t=e.length,n=this.canvas.contextTop;this._saveAndTransform(n),this.oldEnd&&(n.beginPath(),n.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=yT.drawSegment(n,e[t-2],e[t-1]),n.stroke(),n.restore()}}onMouseUp(e){let{e:t}=e;return!this.canvas._isMainEvent(t)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.contextTop,t=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),2===this._points.length&&t.x===n.x&&t.y===n.y){const e=this.width/1e3;t.x-=e,n.x+=e}e.moveTo(t.x,t.y);for(let s=1;s<this._points.length;s++)yT.drawSegment(e,t,n),t=this._points[s],n=this._points[s+1];e.lineTo(t.x,t.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const t=this.width/1e3;return Lj(e,t)}createPath(e){const t=new vT(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new Yk(this.shadow)),t}decimatePoints(e,t){if(e.length<=2)return e;let n,s=e[0];const i=this.canvas.getZoom(),a=Math.pow(t/i,2),r=e.length-1,o=[s];for(let l=1;l<r-1;l++)n=Math.pow(s.x-e[l].x,2)+Math.pow(s.y-e[l].y,2),n>=a&&(s=e[l],o.push(s));return o.push(e[r]),o}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===Rj(e)}(e))return void this.canvas.requestRenderAll();const t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}const xT=["left","top","radius"],bT=["radius","startAngle","endAngle","counterClockwise"];class wT extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),wT.ownDefaults)}constructor(e){super(),Object.assign(this,wT.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),"radius"===e&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,G_(this.startAngle),G_(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(m_)}getRadiusY(){return this.get("radius")*this.get(g_)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...bT,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(0===e)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n'];{const{radius:t}=this,n=G_(this.startAngle),s=G_(this.endAngle),i=j_(n)*t,a=T_(n)*t,r=j_(s)*t,o=T_(s)*t,l=e>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(a," A ").concat(t," ").concat(t," 0 ").concat(l," ").concat(c," ").concat(r," ").concat(o,'" '),"COMMON_PARTS"," />\n"]}}static async fromElement(e,t,n){const s=HA(e,this.ATTRIBUTE_NAMES,n),{left:i=0,top:a=0,radius:r=0}=s;return new this(Aw(Aw({},jw(s,xT)),{},{radius:r,left:i-r,top:a-r}))}static fromObject(e){return super._fromObject(e)}}kw(wT,"type","Circle"),kw(wT,"cacheProperties",[...Kk,...bT]),kw(wT,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),kw(wT,"ATTRIBUTE_NAMES",["cx","cy","r",...gA]),S_.setClass(wT),S_.setSVGClass(wT);const _T=["x1","y1","x2","y2"],ST=["x1","y1","x2","y2"],kT=["x1","x2","y1","y2"];class CT extends ZC{constructor(){let[e,t,n,s]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,CT.ownDefaults),this.setOptions(i),this.x1=e,this.x2=n,this.y1=t,this.y2=s,this._setWidthHeight();const{left:a,top:r}=i;"number"==typeof a&&this.set(Zw,a),"number"==typeof r&&this.set($w,r)}_setWidthHeight(){const{x1:e,y1:t,x2:n,y2:s}=this;this.width=Math.abs(n-e),this.height=Math.abs(s-t);const{left:i,top:a,width:r,height:o}=NS([{x:e,y:t},{x:n,y:s}]),l=new E_(i+r/2,a+o/2);this.setPositionByOrigin(l,Jw,Jw)}_set(e,t){return super._set(e,t),kT.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var s;pS(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=null!==(s=this.stroke)&&void 0!==s?s:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new E_((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Aw(Aw({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:n,y2:s,width:i,height:a}=this,r=e<=t?-1:1,o=n<=s?-1:1;return{x1:r*i/2,x2:r*-i/2,y1:o*a/2,y2:o*-a/2}}_toSVG(){const{x1:e,x2:t,y1:n,y2:s}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(t,'" y2="').concat(s,'" />\n')]}static async fromElement(e,t,n){const s=HA(e,this.ATTRIBUTE_NAMES,n),{x1:i=0,y1:a=0,x2:r=0,y2:o=0}=s;return new this([i,a,r,o],jw(s,_T))}static fromObject(e){let{x1:t,y1:n,x2:s,y2:i}=e,a=jw(e,ST);return this._fromObject(Aw(Aw({},a),{},{points:[t,n,s,i]}),{extraParam:"points"})}}kw(CT,"type","Line"),kw(CT,"cacheProperties",[...Kk,...kT]),kw(CT,"ATTRIBUTE_NAMES",gA.concat(kT)),S_.setClass(CT),S_.setSVGClass(CT);class AT extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),AT.ownDefaults)}constructor(e){super(),Object.assign(this,AT.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}kw(AT,"type","Triangle"),kw(AT,"ownDefaults",{width:100,height:100}),S_.setClass(AT),S_.setSVGClass(AT);const jT=["rx","ry"];class TT extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),TT.ownDefaults)}constructor(e){super(),Object.assign(this,TT.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(m_)}getRy(){return this.get("ry")*this.get(g_)}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...jT,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Vw,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,n){const s=HA(e,this.ATTRIBUTE_NAMES,n);return s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,new this(s)}}kw(TT,"type","Ellipse"),kw(TT,"cacheProperties",[...Kk,...jT]),kw(TT,"ownDefaults",{rx:0,ry:0}),kw(TT,"ATTRIBUTE_NAMES",[...gA,"cx","cy","rx","ry"]),S_.setClass(TT),S_.setSVGClass(TT);const ET=["left","top"],NT={exactBoundingBox:!1};class PT extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),PT.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),kw(this,"strokeDiff",void 0),Object.assign(this,PT.ownDefaults),this.setOptions(t),this.points=e;const{left:n,top:s}=t;this.initialized=!0,this.setBoundingBox(!0),"number"==typeof n&&this.set(Zw,n),"number"==typeof s&&this.set($w,s)}isOpen(){return!0}_projectStrokeOnPoints(e){return iA(this.points,e,this.isOpen())}_calcDimensions(e){e=Aw({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(e=>e.projectedPoint):this.points;if(0===t.length)return{left:0,top:0,width:0,height:0,pathOffset:new E_,strokeOffset:new E_,strokeDiff:new E_};const n=NS(t),s=iS(Aw(Aw({},e),{},{scaleX:1,scaleY:1})),i=NS(this.points.map(e=>V_(e,s,!0))),a=new E_(this.scaleX,this.scaleY);let r=n.left+n.width/2,o=n.top+n.height/2;return this.exactBoundingBox&&(r-=o*Math.tan(G_(this.skewX)),o-=r*Math.tan(G_(this.skewY))),Aw(Aw({},n),{},{pathOffset:new E_(r,o),strokeOffset:new E_(i.left,i.top).subtract(new E_(n.left,n.top)).multiply(a),strokeDiff:new E_(n.width,n.height).subtract(new E_(i.width,i.height)).multiply(a)})}_findCenterFromElement(){const e=NS(this.points);return new E_(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:n,width:s,height:i,pathOffset:a,strokeOffset:r,strokeDiff:o}=this._calcDimensions();this.set({width:s,height:i,pathOffset:a,strokeOffset:r,strokeDiff:o}),e&&this.setPositionByOrigin(new E_(t+s/2,n+i/2),Jw,Jw)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new E_(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let a;if(Object.keys(e).some(e=>this.strokeUniform||this.constructor.layoutProperties.includes(e))){var t,n;const{width:s,height:i}=this._calcDimensions(e);a=new E_(null!==(t=e.width)&&void 0!==t?t:s,null!==(n=e.height)&&void 0!==n?n:i)}else{var s,i;a=new E_(null!==(s=e.width)&&void 0!==s?s:this.width,null!==(i=e.height)&&void 0!==i?i:this.height)}return a.multiply(new E_(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const n=this.initialized&&this[e]!==t,s=super._set(e,t);return this.exactBoundingBox&&n&&((e===m_||e===g_)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),s}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Aw(Aw({},super.toObject(e)),{},{points:this.points.map(e=>{let{x:t,y:n}=e;return{x:t,y:n}})})}_toSVG(){const e=[],t=this.pathOffset.x,n=this.pathOffset.y,s=Nw.NUM_FRACTION_DIGITS;for(let i=0,a=this.points.length;i<a;i++)e.push(hS(this.points[i].x-t,s),",",hS(this.points[i].y-n,s)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),'" />\n')]}_render(e){const t=this.points.length,n=this.pathOffset.x,s=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-s);for(let i=0;i<t;i++){const t=this.points[i];e.lineTo(t.x-n,t.y-s)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,n){return new this(function(e){if(!e)return[];const t=e.replace(/,/g," ").trim().split(/\s+/),n=[];for(let s=0;s<t.length;s+=2)n.push({x:parseFloat(t[s]),y:parseFloat(t[s+1])});return n}(e.getAttribute("points")),Aw(Aw({},jw(HA(e,this.ATTRIBUTE_NAMES,n),ET)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}kw(PT,"ownDefaults",NT),kw(PT,"type","Polyline"),kw(PT,"layoutProperties",[f_,v_,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),kw(PT,"cacheProperties",[...Kk,"points"]),kw(PT,"ATTRIBUTE_NAMES",[...gA]),S_.setClass(PT),S_.setSVGClass(PT);class MT extends PT{isOpen(){return!1}}kw(MT,"ownDefaults",NT),kw(MT,"type","Polygon"),S_.setClass(MT),S_.setSVGClass(MT);class OT extends ZC{isEmptyStyles(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;const t=void 0===e?this.styles:{line:this.styles[e]};for(const n in t)for(const e in t[n])for(const s in t[n][e])return!1;return!0}styleHas(e,t){if(!this.styles)return!1;if(void 0!==t&&!this.styles[t])return!1;const n=void 0===t?this.styles:{0:this.styles[t]};for(const s in n)for(const t in n[s])if(void 0!==n[s][t][e])return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let n,s,i=0,a=!0,r=0;for(const o in t){n=0;for(const r in t[o]){const l=t[o][r]||{};i++,void 0!==l[e]?(s?l[e]!==s&&(a=!1):s=l[e],l[e]===this[e]&&delete l[e]):a=!1,0!==Object.keys(l).length?n++:delete t[o][r]}0===n&&delete t[o]}for(let o=0;o<this._textLines.length;o++)r+=this._textLines[o].length;a&&i===r&&(this[e]=s,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let n,s,i;for(s in t){for(i in n=t[s],n)delete n[i][e],0===Object.keys(n[i]).length&&delete n[i];0===Object.keys(n).length&&delete t[s]}}_extendStyles(e,t){const{lineIndex:n,charIndex:s}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const i=dS(Aw(Aw({},this._getStyleDeclaration(n,s)),t),e=>void 0!==e);this._setStyleDeclaration(n,s,i)}getSelectionStyles(e,t,n){const s=[];for(let i=e;i<(t||e);i++)s.push(this.getStyleAtPosition(i,n));return s}getStyleAtPosition(e,t){const{lineIndex:n,charIndex:s}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(n,s):this._getStyleDeclaration(n,s)}setSelectionStyles(e,t,n){for(let s=t;s<(n||t);s++)this._extendStyles(s,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var n;const s=this.styles&&this.styles[e];return s&&null!==(n=s[t])&&void 0!==n?n:{}}getCompleteStyleDeclaration(e,t){return Aw(Aw({},cS(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,n){this.styles[e][t]=n}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}kw(OT,"_styleProperties",gk);const DT=/  +/g,LT=/"/g;function RT(e,t,n,s,i){return"\t\t".concat(function(e,t){let{left:n,top:s,width:i,height:a}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nw.NUM_FRACTION_DIGITS;const o=ok(y_,e,!1),[l,c,d,h]=[n,s,i,a].map(e=>hS(e,r));return"<rect ".concat(o,' x="').concat(l,'" y="').concat(c,'" width="').concat(d,'" height="').concat(h,'"></rect>')}(e,{left:t,top:n,width:s,height:i}),"\n")}const FT=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let IT;class BT extends OT{static getDefaults(){return Aw(Aw({},super.getDefaults()),BT.ownDefaults)}constructor(e,t){super(),kw(this,"__charBounds",[]),Object.assign(this,BT.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=Tj(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(vk)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,n,s,i,a,r;for(let o=0,l=this._textLines.length;o<l;o++)if((this.textAlign===vk||o!==l-1&&!this.isEndOfWrapping(o))&&(s=0,i=this._textLines[o],t=this.getLineWidth(o),t<this.width&&(r=this.textLines[o].match(this._reSpacesAndTabs)))){n=r.length,e=(this.width-t)/n;for(let t=0;t<=i.length;t++)a=this.__charBounds[o][t],this._reSpaceAndTab.test(i[t])?(a.width+=e,a.kernedWidth+=e,a.left+=s,s+=e):a.left+=s}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const n=t?this._unwrappedTextLines:this._textLines;let s;for(s=0;s<n.length;s++){if(e<=n[s].length)return{lineIndex:s,charIndex:e};e-=n[s].length+this.missingNewlineOffset(s,t)}return{lineIndex:s-1,charIndex:n[s-1].length<e?n[s-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===x_?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Jw:e.textBaseline="middle";break;case"ascender":e.textBaseline=$w;break;case"descender":e.textBaseline=e_}e.font=this._getFontDeclaration(t,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,n=this._textLines.length;t<n;t++){const n=this.getLineWidth(t);n>e&&(e=n)}return e}_renderTextLine(e,t,n,s,i,a){this._renderChars(e,t,n,s,i,a)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,n=this._getLeftOffset();let s=this._getTopOffset();for(let i=0,a=this._textLines.length;i<a;i++){const t=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){s+=t;continue}const a=this._textLines[i].length,r=this._getLineLeftOffset(i);let o,l,c=0,d=0,h=this.getValueOfPropertyAt(i,0,"textBackgroundColor");for(let u=0;u<a;u++){const a=this.__charBounds[i][u];l=this.getValueOfPropertyAt(i,u,"textBackgroundColor"),this.path?(e.save(),e.translate(a.renderLeft,a.renderTop),e.rotate(a.angle),e.fillStyle=l,l&&e.fillRect(-a.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),a.width,t/this.lineHeight),e.restore()):l!==h?(o=n+r+d,"rtl"===this.direction&&(o=this.width-o-c),e.fillStyle=h,h&&e.fillRect(o,s,c,t/this.lineHeight),d=a.left,c=a.width,h=l):c+=a.kernedWidth}l&&!this.path&&(o=n+r+d,"rtl"===this.direction&&(o=this.width-o-c),e.fillStyle=l,e.fillRect(o,s,c,t/this.lineHeight)),s+=t}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,n,s){const i=zw.getFontCache(t),a=this._getFontDeclaration(t),r=n+e,o=n&&a===this._getFontDeclaration(s),l=t.fontSize/this.CACHE_FONT_SIZE;let c,d,h,u;if(n&&void 0!==i[n]&&(h=i[n]),void 0!==i[e]&&(u=c=i[e]),o&&void 0!==i[r]&&(d=i[r],u=d-h),void 0===c||void 0===h||void 0===d){const s=function(){if(!IT){const e=W_({width:0,height:0});IT=e.getContext("2d")}return IT}();this._setTextStyles(s,t,!0),void 0===c&&(u=c=s.measureText(e).width,i[e]=c),void 0===h&&o&&n&&(h=s.measureText(n).width,i[n]=h),o&&void 0===d&&(d=s.measureText(r).width,i[r]=d,u=d-h)}return{width:c*l,kernedWidth:u*l}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,n,s=0;const i=this.pathSide===t_,a=this.path,r=this._textLines[e],o=r.length,l=new Array(o);this.__charBounds[e]=l;for(let c=0;c<o;c++){const i=r[c];n=this._getGraphemeBox(i,e,c,t),l[c]=n,s+=n.kernedWidth,t=i}if(l[o]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){let e=0;const t=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case Zw:e=i?t-s:0;break;case Jw:e=(t-s)/2;break;case t_:e=i?0:t-s}e+=this.pathStartOffset*(i?-1:1);for(let s=i?o-1:0;i?s>=0:s<o;i?s--:s++)n=l[s],e>t?e%=t:e<0&&(e+=t),this._setGraphemeOnPath(e,n),e+=n.kernedWidth}return{width:s,numOfSpaces:0}}_setGraphemeOnPath(e,t){const n=e+t.kernedWidth/2,s=this.path,i=Ej(s.path,n,s.segmentsInfo);t.renderLeft=i.x-s.pathOffset.x,t.renderTop=i.y-s.pathOffset.y,t.angle=i.angle+(this.pathSide===t_?Math.PI:0)}_getGraphemeBox(e,t,n,s,i){const a=this.getCompleteStyleDeclaration(t,n),r=s?this.getCompleteStyleDeclaration(t,n-1):{},o=this._measureChar(e,a,s,r);let l,c=o.kernedWidth,d=o.width;0!==this.charSpacing&&(l=this._getWidthOfCharSpacing(),d+=l,c+=l);const h={width:d,left:0,height:a.fontSize,kernedWidth:c,deltaY:a.deltaY};if(n>0&&!i){const e=this.__charBounds[t][n-1];h.left=e.left+e.width+o.kernedWidth-o.width}return h}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let t=this.getHeightOfChar(e,0);for(let n=1,s=this._textLines[e].length;n<s;n++)t=Math.max(this.getHeightOfChar(e,n),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,t=0;for(let n=0,s=this._textLines.length;n<s;n++)e=this.getHeightOfLine(n),t+=n===s-1?e/this.lineHeight:e;return t}_getLeftOffset(){return"ltr"===this.direction?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let n=0;const s=this._getLeftOffset(),i=this._getTopOffset();for(let a=0,r=this._textLines.length;a<r;a++){const r=this.getHeightOfLine(a),o=r/this.lineHeight,l=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],s+l,i+n+o,a),n+=r}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(y_))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,n,s,i,a){const r=this.getHeightOfLine(a),o=this.textAlign.includes(vk),l=this.path,c=!o&&0===this.charSpacing&&this.isEmptyStyles(a)&&!l,d="ltr"===this.direction,h="ltr"===this.direction?1:-1,u=t.direction;let p,m,g,f,v,y="",x=0;if(t.save(),u!==this.direction&&(t.canvas.setAttribute("dir",d?"ltr":"rtl"),t.direction=d?"ltr":"rtl",t.textAlign=d?Zw:t_),i-=r*this._fontSizeFraction/this.lineHeight,c)return this._renderChar(e,t,a,0,n.join(""),s,i),void t.restore();for(let b=0,w=n.length-1;b<=w;b++)f=b===w||this.charSpacing||l,y+=n[b],g=this.__charBounds[a][b],0===x?(s+=h*(g.kernedWidth-g.width),x+=g.width):x+=g.kernedWidth,o&&!f&&this._reSpaceAndTab.test(n[b])&&(f=!0),f||(p=p||this.getCompleteStyleDeclaration(a,b),m=this.getCompleteStyleDeclaration(a,b+1),f=uA(p,m,!1)),f&&(l?(t.save(),t.translate(g.renderLeft,g.renderTop),t.rotate(g.angle),this._renderChar(e,t,a,b,y,-x/2,0),t.restore()):(v=s,this._renderChar(e,t,a,b,y,v,i)),y="",p=m,s+=h*x,x=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,n=this.height+this.strokeWidth,s=W_({width:t,height:n}),i=s.getContext("2d");return s.width=t,s.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,n),i.lineTo(0,n),i.closePath(),i.translate(t/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(s,"no-repeat")}handleFiller(e,t,n){let s,i;return pS(n)?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(s=-this.width/2,i=-this.height/2,e.translate(s,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:s,offsetY:i}):(e[t]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:n,strokeWidth:s}=t;return e.lineWidth=s,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,t){let{fill:n}=t;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,t,n,s,i,a,r){const o=this._getStyleDeclaration(n,s),l=this.getCompleteStyleDeclaration(n,s),c="fillText"===e&&l.fill,d="strokeText"===e&&l.stroke&&l.strokeWidth;if(d||c){if(t.save(),t.font=this._getFontDeclaration(l),o.textBackgroundColor&&this._removeShadow(t),o.deltaY&&(r+=o.deltaY),c){const e=this._setFillStyles(t,l);t.fillText(i,a-e.offsetX,r-e.offsetY)}if(d){const e=this._setStrokeStyles(t,l);t.strokeText(i,a-e.offsetX,r-e.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,n){const s=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"fontSize"),a=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"deltaY"),r={fontSize:i*n.size,deltaY:a+i*n.baseline};this.setSelectionStyles(r,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),n=this.width-t,s=this.textAlign,i=this.direction,a=this.isEndOfWrapping(e);let r=0;return s===vk||s===bk&&!a||s===xk&&!a||s===yk&&!a?0:(s===Jw&&(r=n/2),s===t_&&(r=n),s===bk&&(r=n/2),s===xk&&(r=n),"rtl"===i&&(s===t_||s===vk||s===xk?r=0:s===Zw||s===yk?r=-n:s!==Jw&&s!==bk||(r=-n/2)),r)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,n){var s;return null!==(s=this._getStyleDeclaration(e,t)[n])&&void 0!==s?s:this[n]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let n=this._getTopOffset();const s=this._getLeftOffset(),i=this.path,a=this._getWidthOfCharSpacing(),r="linethrough"===t?.5:"overline"===t?1:0,o=this.offsets[t];for(let l=0,c=this._textLines.length;l<c;l++){const c=this.getHeightOfLine(l);if(!this[t]&&!this.styleHas(t,l)){n+=c;continue}const d=this._textLines[l],h=c/this.lineHeight,u=this._getLineLeftOffset(l);let p=0,m=0,g=this.getValueOfPropertyAt(l,0,t),f=this.getValueOfPropertyAt(l,0,y_),v=this.getValueOfPropertyAt(l,0,dk),y=g,x=f,b=v;const w=n+h*(1-this._fontSizeFraction);let _=this.getHeightOfChar(l,0),S=this.getValueOfPropertyAt(l,0,"deltaY");for(let n=0,a=d.length;n<a;n++){const a=this.__charBounds[l][n];y=this.getValueOfPropertyAt(l,n,t),x=this.getValueOfPropertyAt(l,n,y_),b=this.getValueOfPropertyAt(l,n,dk);const c=this.getHeightOfChar(l,n),d=this.getValueOfPropertyAt(l,n,"deltaY");if(i&&y&&x){const t=this.fontSize*b/1e3;e.save(),e.fillStyle=f,e.translate(a.renderLeft,a.renderTop),e.rotate(a.angle),e.fillRect(-a.kernedWidth/2,o*c+d-r*t,a.kernedWidth,t),e.restore()}else if((y!==g||x!==f||c!==_||b!==v||d!==S)&&m>0){const t=this.fontSize*v/1e3;let n=s+u+p;"rtl"===this.direction&&(n=this.width-n-m),g&&f&&v&&(e.fillStyle=f,e.fillRect(n,w+o*_+S-r*t,m,t)),p=a.left,m=a.width,g=y,v=b,f=x,_=c,S=d}else m+=a.kernedWidth}let k=s+u+p;"rtl"===this.direction&&(k=this.width-k-m),e.fillStyle=x;const C=this.fontSize*b/1e3;y&&x&&b&&e.fillRect(k,w+o*_+S-r*C,m-a,C),n+=c}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:s=this.fontSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const a=e.includes("'")||e.includes('"')||e.includes(",")||BT.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,n,"".concat(i?this.CACHE_FONT_SIZE:s,"px"),a].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return lA(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),n=new Array(t.length),s=["\n"];let i=[];for(let a=0;a<t.length;a++)n[a]=this.graphemeSplit(t[a]),i=i.concat(n[a],s);return i.pop(),{_unwrappedLines:n,lines:t,graphemeText:i,graphemeLines:n}}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Aw(Aw({},super.toObject([...mk,...e])),{},{styles:pA(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:n}=this.constructor;super.set(e,t);let s=!1,i=!1;if("object"==typeof e)for(const a in e)"path"===a&&this.setPathInfo(),s=s||n.includes(a),i=i||"path"===a;else s=n.includes(e),i="path"===e;return i&&this.setPathInfo(),s&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,n){const s=HA(e,BT.ATTRIBUTE_NAMES,n),i=Aw(Aw({},t),s),{textAnchor:a=Zw,textDecoration:r="",dx:o=0,dy:l=0,top:c=0,left:d=0,fontSize:h=Xw,strokeWidth:u=1}=i,p=jw(i,FT),m=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Aw({left:d+o,top:c+l,underline:r.includes("underline"),overline:r.includes("overline"),linethrough:r.includes("line-through"),strokeWidth:0,fontSize:h},p)),g=m.getScaledHeight()/m.height,f=((m.height+m.strokeWidth)*m.lineHeight-m.height)*g,v=m.getScaledHeight()+f;let y=0;return a===Jw&&(y=m.getScaledWidth()/2),a===t_&&(y=m.getScaledWidth()),m.set({left:m.left-y,top:m.top-(v-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:u}),m}static fromObject(e){return this._fromObject(Aw(Aw({},e),{},{styles:mA(e.styles||{},e.text)}),{extraParam:"text"})}}kw(BT,"textLayoutProperties",pk),kw(BT,"cacheProperties",[...Kk,...mk]),kw(BT,"ownDefaults",fk),kw(BT,"type","Text"),kw(BT,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),kw(BT,"ATTRIBUTE_NAMES",gA.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),JC(BT,[class extends lk{_toSVG(){const e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(e){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0}),n=this.path;return n?t+n._createBaseSVGMarkup(n._toSVG(),{reviver:e,withShadow:!0,additionalTransform:uS(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(e){let{textBgRects:t,textSpans:n}=e;const s=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(LT,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",s?'text-decoration="'.concat(s,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),"</text>\n"]}_getSVGTextAndBg(e,t){const n=[],s=[];let i,a=e;this.backgroundColor&&s.push(...RT(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let r=0,o=this._textLines.length;r<o;r++)i=this._getLineLeftOffset(r),"rtl"===this.direction&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",r))&&this._setSVGTextLineBg(s,r,t+i,a),this._setSVGTextLineText(n,r,t+i,a),a+=this.getHeightOfLine(r);return{textSpans:n,textBgRects:s}}_createTextCharSpan(e,t,n,s,i){const a=Nw.NUM_FRACTION_DIGITS,r=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(DT)),o=r?'style="'.concat(r,'"'):"",l=t.deltaY,c=l?' dy="'.concat(hS(l,a),'" '):"",{angle:d,renderLeft:h,renderTop:u,width:p}=i;let m="";if(void 0!==h){const e=p/2;d&&(m=' rotate="'.concat(hS(H_(d),a),'"'));const t=$_({angle:H_(d)});t[4]=h,t[5]=u;const i=new E_(-e,0).transform(t);n=i.x,s=i.y}return'<tspan x="'.concat(hS(n,a),'" y="').concat(hS(s,a),'" ').concat(c).concat(m).concat(o,">").concat(rA(e),"</tspan>")}_setSVGTextLineText(e,t,n,s){const i=this.getHeightOfLine(t),a=this.textAlign.includes(vk),r=this._textLines[t];let o,l,c,d,h,u="",p=0;s+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let m=0,g=r.length-1;m<=g;m++)h=m===g||this.charSpacing||this.path,u+=r[m],c=this.__charBounds[t][m],0===p?(n+=c.kernedWidth-c.width,p+=c.width):p+=c.kernedWidth,a&&!h&&this._reSpaceAndTab.test(r[m])&&(h=!0),h||(o=o||this.getCompleteStyleDeclaration(t,m),l=this.getCompleteStyleDeclaration(t,m+1),h=uA(o,l,!0)),h&&(d=this._getStyleDeclaration(t,m),e.push(this._createTextCharSpan(u,d,n,s,c)),u="",o=l,"rtl"===this.direction?n-=p:n+=p,p=0)}_setSVGTextLineBg(e,t,n,s){const i=this._textLines[t],a=this.getHeightOfLine(t)/this.lineHeight;let r,o=0,l=0,c=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let d=0;d<i.length;d++){const{left:i,width:h,kernedWidth:u}=this.__charBounds[t][d];r=this.getValueOfPropertyAt(t,d,"textBackgroundColor"),r!==c?(c&&e.push(...RT(c,n+l,s,o,a)),l=i,o=h,c=r):o+=u}r&&e.push(...RT(c,n+l,s,o,a))}_getSVGLineTopOffset(e){let t,n=0;for(t=0;t<e;t++)n+=this.getHeightOfLine(t);const s=this.getHeightOfLine(t);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(e){return"".concat(super.getSvgStyles(e)," text-decoration-thickness: ").concat(hS(this.textDecorationThickness*this.getObjectScaling().y/10,Nw.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(e,t){const{fontFamily:n,strokeWidth:s,stroke:i,fill:a,fontSize:r,fontStyle:o,fontWeight:l,deltaY:c,textDecorationThickness:d,linethrough:h,overline:u,underline:p}=e,m=this.getSvgTextDecoration({underline:null!=p?p:this.underline,overline:null!=u?u:this.overline,linethrough:null!=h?h:this.linethrough}),g=d||this.textDecorationThickness;return[i?ok(x_,i):"",s?"stroke-width: ".concat(s,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",r?"font-size: ".concat(r,"px; "):"",o?"font-style: ".concat(o,"; "):"",l?"font-weight: ".concat(l,"; "):"",m?"text-decoration: ".concat(m,"; text-decoration-thickness: ").concat(hS(g*this.getObjectScaling().y/10,Nw.NUM_FRACTION_DIGITS),"%; "):"",a?ok(y_,a):"",c?"baseline-shift: ".concat(-c,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(e){return["overline","underline","line-through"].filter(t=>e[t.replace("-","")]).join(" ")}}]),S_.setClass(BT),S_.setSVGClass(BT);class WT{constructor(e){kw(this,"target",void 0),kw(this,"__mouseDownInPlace",!1),kw(this,"__dragStartFired",!1),kw(this,"__isDraggingOver",!1),kw(this,"__dragStartSelection",void 0),kw(this,"__dragImageDisposer",void 0),kw(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(e=>e()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,n=t.getSelectionStartFromPointer(e);return t.isEditing&&n>=t.selectionStart&&n<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var n;let{selectionStart:s,selectionEnd:i}=t;const a=this.target,r=a.canvas,o=new E_(a.flipX?-1:1,a.flipY?-1:1),l=a._getCursorBoundaries(s),c=new E_(l.left+l.leftOffset,l.top+l.topOffset).multiply(o).transform(a.calcTransformMatrix()),d=r.getScenePoint(e).subtract(c),h=a.getCanvasRetinaScaling(),u=a.getBoundingRect(),p=c.subtract(new E_(u.left,u.top)),m=r.viewportTransform,g=p.add(d).transform(m,!0),f=a.backgroundColor,v=aA(a.styles);a.backgroundColor="";const y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(y,0,s),a.setSelectionStyles(y,i,a.text.length),a.dirty=!0;const x=a.toCanvasElement({enableRetinaScaling:r.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=f,a.styles=v,a.dirty=!0,Fj(x,{position:"fixed",left:"".concat(-x.width,"px"),border:n_,width:"".concat(x.width/h,"px"),height:"".concat(x.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{x.remove()},yS(e.target||this.target.hiddenTextarea).body.appendChild(x),null===(n=e.dataTransfer)||void 0===n||n.setDragImage(x,g.x,g.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,n=this.isActive();if(n&&e.dataTransfer){const n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},s=t._text.slice(n.selectionStart,n.selectionEnd).join(""),i=Aw({text:t.text,value:s},n);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,i)}return t.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return t<n.selectionStart||t>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const n=this.targetCanDrop(t);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,n=this.targetCanDrop(t);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:n}=e,s=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let i=null===(t=n.dataTransfer)||void 0===t?void 0:t.getData("text/plain");if(i&&!s){const t=this.target,s=t.canvas;let a=t.getSelectionStartFromPointer(n);const{styles:r}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},o=i[Math.max(0,i.length-1)],l=0;if(this.__dragStartSelection){const e=this.__dragStartSelection.selectionStart,n=this.__dragStartSelection.selectionEnd;a>e&&a<=n?a=e:a>n&&(a-=n-e),t.removeChars(e,n),delete this.__dragStartSelection}t._reNewline.test(o)&&(t._reNewline.test(t._text[a])||a===t._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=t,t.insertChars(i,r,a),s.setActiveObject(t),t.enterEditing(n),t.selectionStart=Math.min(a+l,t._text.length),t.selectionEnd=Math.min(t.selectionStart+i.length,t._text.length),t.hiddenTextarea.value=t.text,t._updateTextarea(),t.hiddenTextarea.focus(),t.fire(u_,{index:a+l,action:"drop"}),s.fire("text:changed",{target:t}),s.contextTopDirty=!0,s.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const e=this.target,s=this.target.canvas,{selectionStart:i,selectionEnd:a}=this.__dragStartSelection,r=(null===(n=t.dataTransfer)||void 0===n?void 0:n.dropEffect)||n_;r===n_?(e.selectionStart=i,e.selectionEnd=a,e._updateTextarea(),e.hiddenTextarea.focus()):(e.clearContextTop(),"move"===r&&(e.removeChars(i,a),e.selectionStart=e.selectionEnd=i,e.hiddenTextarea&&(e.hiddenTextarea.value=e.text),e._updateTextarea(),e.fire(u_,{index:i,action:"dragend"}),s.fire("text:changed",{target:e}),s.requestRenderAll()),e.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const UT=/[ \n\.,;!\?\-]/;class zT extends BT{constructor(){super(...arguments),kw(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:n,delay:s,onComplete:i}=e;return uC({startValue:this._currentCursorOpacity,endValue:t,duration:n,delay:s,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:e=>{this._currentCursorOpacity=e,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;null===(e=this._currentTickCompleteState)||void 0===e||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findWordBoundaryRight(e){let t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}findLineBoundaryLeft(e){let t=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t}findLineBoundaryRight(e){let t=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t}searchWordBoundary(e,t){const n=this._text;let s=e>0&&this._reSpace.test(n[e])&&(-1===t||!s_.test(n[e-1]))?e-1:e,i=n[s];for(;s>0&&s<n.length&&!UT.test(i);)s+=t,i=n[s];return-1===t&&UT.test(i)&&s++,s}selectWord(e){var t;e=null!==(t=e)&&void 0!==t?t:this.selectionStart;const n=this.searchWordBoundary(e,-1),s=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var t;e=null!==(t=e)&&void 0!==t?t:this.selectionStart;const n=this.findLineBoundaryLeft(e),s=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e:e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;yS(t).activeElement!==t&&t.focus();const n=this.getSelectionStartFromPointer(e),s=this.selectionStart,i=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&s!==i||s!==n&&i!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===s&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,n){const s=n.slice(0,e),i=this.graphemeSplit(s).length;if(e===t)return{selectionStart:i,selectionEnd:i};const a=n.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(a).length}}fromGraphemeToStringSelection(e,t,n){const s=n.slice(0,e).join("").length;return e===t?{selectionStart:s,selectionEnd:s}:{selectionStart:s,selectionEnd:s+n.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),s=n.lineIndex,i=n.charIndex,a=this.getValueOfPropertyAt(s,i,"fontSize")*this.lineHeight,r=t.leftOffset,o=this.getCanvasRetinaScaling(),l=this.canvas.upperCanvasEl,c=l.width/o,d=l.height/o,h=c-a,u=d-a,p=new E_(t.left+r,t.top+t.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new E_(l.clientWidth/c,l.clientHeight/d));return p.x<0&&(p.x=0),p.x>h&&(p.x=h),p.y<0&&(p.y=0),p.y>u&&(p.y=u),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(b_),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:n,charIndex:s}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:a}=this.get2DCursorLocation(t,!0);if(n!==i){if(this.styles[n])for(let e=s;e<this._unwrappedTextLines[n].length;e++)delete this.styles[n][e];if(this.styles[i])for(let e=a;e<this._unwrappedTextLines[i].length;e++){const t=this.styles[i][e];t&&(this.styles[n]||(this.styles[n]={}),this.styles[n][s+e-a]=t)}for(let e=n+1;e<=i;e++)delete this.styles[e];this.shiftLineStyles(i,n-i)}else if(this.styles[n]){const e=this.styles[n],t=a-s;for(let n=s;n<a;n++)delete e[n];for(const s in this.styles[n]){const n=parseInt(s,10);n>=a&&(e[n-t]=e[s],delete e[s])}}}shiftLineStyles(e,t){const n=Object.assign({},this.styles);for(const s in this.styles){const i=parseInt(s,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,n,s){const i={},a=this._unwrappedTextLines[e].length,r=a===t;let o=!1;n||(n=1),this.shiftLineStyles(e,n);const l=this.styles[e]?this.styles[e][0===t?t:t-1]:void 0;for(const d in this.styles[e]){const n=parseInt(d,10);n>=t&&(o=!0,i[n-t]=this.styles[e][d],r&&0===t||delete this.styles[e][d])}let c=!1;for(o&&!r&&(this.styles[e+n]=i,c=!0),(c||a>t)&&n--;n>0;)s&&s[n-1]?this.styles[e+n]={0:Aw({},s[n-1])}:l?this.styles[e+n]={0:Aw({},l)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,t,n,s){this.styles||(this.styles={});const i=this.styles[e],a=i?Aw({},i):{};n||(n=1);for(const o in a){const e=parseInt(o,10);e>=t&&(i[e+n]=a[e],a[e-n]||delete i[e])}if(this._forceClearCache=!0,s){for(;n--;)Object.keys(s[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=Aw({},s[n]));return}if(!i)return;const r=i[t?t-1:1];for(;r&&n--;)this.styles[e][t+n]=Aw({},r)}insertNewStyleBlock(e,t,n){const s=this.get2DCursorLocation(t,!0),i=[0];let a,r=0;for(let o=0;o<e.length;o++)"\n"===e[o]?(r++,i[r]=0):i[r]++;for(i[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),r&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+i[0],r),a=1;a<r;a++)i[a]>0?this.insertCharStyleObject(s.lineIndex+a,0,i[a],n):n&&this.styles[s.lineIndex+a]&&n[0]&&(this.styles[s.lineIndex+a][0]=n[0]),n=n&&n.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(s.lineIndex+a,0,i[a],n)}removeChars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;s>n&&this.removeStyleFromTo(n,s);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[...this._text.slice(0,n),...i,...this._text.slice(s)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,n){n<=e?(t===e?this._selectionDirection=Zw:this._selectionDirection===t_&&(this._selectionDirection=Zw,this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?this._selectionDirection===t_?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection=t_:this._selectionDirection===Zw&&(this._selectionDirection=t_,this.selectionStart=t),this.selectionEnd=n)}}class GT extends zT{initHiddenTextarea(){const e=this.canvas&&yS(this.canvas.getElement())||Bw(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(e=>{let[n,s]=e;return t.setAttribute(n,s)});const{top:n,left:s,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(s,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(e=>{let[n,s]=e;return t.addEventListener(n,this[s].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:n,selectionStart:s,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const a=()=>{this.updateFromTextArea(),this.fire(u_),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)return this.styles={},void a();const r=this._splitTextIntoLines(n).graphemeText,o=this._text.length,l=r.length,c=this.selectionStart,d=this.selectionEnd,h=c!==d;let u,p,m,g,f=l-o;const v=this.fromStringToGraphemeSelection(s,i,n),y=c>v.selectionStart;h?(p=this._text.slice(c,d),f+=d-c):l<o&&(p=y?this._text.slice(d+f,d):this._text.slice(c,c-f));const x=r.slice(v.selectionEnd-f,v.selectionEnd);if(p&&p.length&&(x.length&&(u=this.getSelectionStyles(c,c+1,!1),u=x.map(()=>u[0])),h?(m=c,g=d):y?(m=d-p.length,g=d):(m=d,g=d+p.length),this.removeStyleFromTo(m,g)),x.length){const{copyPasteData:e}=Iw();t&&x.join("")===e.copiedText&&!Nw.disableStyleCopyPaste&&(u=e.copiedTextStyle),this.insertNewStyleBlock(x,c,u)}a()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:n,selectionEnd:s}=t;this.compositionStart=n,this.compositionEnd=s,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Iw();e.copiedText=this.getSelectedText(),Nw.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let n,s=this._getLineLeftOffset(e);return t>0&&(n=this.__charBounds[e][t-1],s+=n.left+n.width),s}getDownCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(n),i=s.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;const a=s.charIndex,r=this._getWidthBeforeCursor(i,a),o=this._getIndexOnLine(i+1,r);return this._textLines[i].slice(a).length+o+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const n=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(n),i=s.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;const a=s.charIndex,r=this._getWidthBeforeCursor(i,a),o=this._getIndexOnLine(i-1,r),l=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+o-l.length+(1-c)}_getIndexOnLine(e,t){const n=this._textLines[e];let s,i,a=this._getLineLeftOffset(e),r=0;for(let o=0,l=n.length;o<l;o++)if(s=this.__charBounds[e][o].width,a+=s,a>t){i=!0;const e=a-s,n=a,l=Math.abs(e-t);r=Math.abs(n-t)<l?o:o-1;break}return i||(r=n.length-1),r}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const n=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===t_);if(t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n){const e=this.text.length;this.selectionStart=Vk(0,this.selectionStart,e),this.selectionEnd=Vk(0,this.selectionEnd,e),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===Zw?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e}moveCursorLeft(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)}_move(e,t,n){let s;if(e.altKey)s=this["findWordBoundary".concat(n)](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;s=this["findLineBoundary".concat(n)](this[t])}return void 0!==s&&this[t]!==s&&(this[t]=s,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=Zw,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===t_&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=Zw,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const n="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Zw&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=t_,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=t_,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const HT=e=>!!e.button;class YT extends GT{constructor(){super(...arguments),kw(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new WT(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:n}=e;this.canvas&&this.editable&&!HT(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:n}=e;const s=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const e=this.canvas._activeObject;if(e&&e!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||HT(t)||s||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),n=this.selectionStart,s=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,s,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(q_(this.calcTransformMatrix())).add(new E_(-this._getLeftOffset(),-this._getTopOffset()));let n=0,s=0,i=0;for(let l=0;l<this._textLines.length&&n<=t.y;l++)n+=this.getHeightOfLine(l),i=l,l>0&&(s+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));let a=Math.abs(this._getLineLeftOffset(i));const r=this._textLines[i].length,o=this.__charBounds[i];for(let l=0;l<r;l++){const e=a+o[l].kernedWidth;if(t.x<=e){Math.abs(t.x-e)<=Math.abs(t.x-a)&&s++;break}a=e,s++}return Math.min(this.flipX?r-s:s,this._text.length)}}const VT="moveCursorUp",qT="moveCursorDown",KT="moveCursorLeft",XT="moveCursorRight",QT="exitEditing",JT=(e,t)=>{const n=t.getRetinaScaling();e.setTransform(n,0,0,n,0,0);const s=t.viewportTransform;e.transform(s[0],s[1],s[2],s[3],s[4],s[5])},ZT=Aw({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:QT,27:QT,33:VT,34:qT,35:XT,36:KT,37:KT,38:VT,39:XT,40:qT},keysMapRtl:{9:QT,27:QT,33:VT,34:qT,35:KT,36:XT,37:XT,38:VT,39:KT,40:qT},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class $T extends YT{static getDefaults(){return Aw(Aw({},super.getDefaults()),$T.ownDefaults)}get type(){const e=super.type;return"itext"===e?"i-text":e}constructor(e,t){super(e,Aw(Aw({},$T.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):("canvas"===e&&(this.canvas instanceof Qj&&this.canvas.textEditingManager.remove(this),t instanceof Qj&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,n)}setSelectionStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,n)}get2DCursorLocation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=t,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),s=n.length>0;let i,a=e;if(s){i=W_(e.canvas),a=i.getContext("2d"),JT(a,this.canvas);const t=this.calcTransformMatrix();a.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(a,t):this.renderCursor(a,t),s)for(const r of n){const t=r.clipPath,n=W_(e.canvas),s=n.getContext("2d");if(JT(s,this.canvas),!t.absolutePositioned){const e=r.calcTransformMatrix();s.transform(e[0],e[1],e[2],e[3],e[4],e[5])}t.transform(s),t.drawObject(s,!0,{}),this.drawClipPathOnCache(a,t,n)}s&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),s=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:n,top:s,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,n=0;const{charIndex:s,lineIndex:i}=this.get2DCursorLocation(e);for(let l=0;l<i;l++)t+=this.getHeightOfLine(l);const a=this._getLineLeftOffset(i),r=this.__charBounds[i][s];r&&(n=r.left),0!==this.charSpacing&&s===this._textLines[i].length&&(n-=this._getWidthOfCharSpacing());const o={top:t,left:a+(n>0?n:0)};return"rtl"===this.direction&&(this.textAlign===t_||this.textAlign===vk||this.textAlign===xk?o.left*=-1:this.textAlign===Zw||this.textAlign===yk?o.left=a-(n>0?n:0):this.textAlign!==Jw&&this.textAlign!==bk||(o.left=a-(n>0?n:0))),o}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),s=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(s,i,"fontSize"),r=this.getObjectScaling().x*this.canvas.getZoom(),o=this.cursorWidth/r,l=this.getValueOfPropertyAt(s,i,"deltaY"),c=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-a*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(s,i,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-o/2,top:c+t.top+l,width:o,height:a}}_renderCursor(e,t,n){const{color:s,opacity:i,left:a,top:r,width:o,height:l}=this.getCursorRenderingData(n,t);e.fillStyle=s,e.globalAlpha=i,e.fillRect(a,r,o,l)}renderSelection(e,t){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,n){const s=t.selectionStart,i=t.selectionEnd,a=this.textAlign.includes(vk),r=this.get2DCursorLocation(s),o=this.get2DCursorLocation(i),l=r.lineIndex,c=o.lineIndex,d=r.charIndex<0?0:r.charIndex,h=o.charIndex<0?0:o.charIndex;for(let u=l;u<=c;u++){const t=this._getLineLeftOffset(u)||0;let s=this.getHeightOfLine(u),i=0,r=0,o=0;if(u===l&&(r=this.__charBounds[l][d].left),u>=l&&u<c)o=a&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===c)if(0===h)o=this.__charBounds[c][h].left;else{const e=this._getWidthOfCharSpacing();o=this.__charBounds[c][h-1].left+this.__charBounds[c][h-1].width-e}i=s,(this.lineHeight<1||u===c&&this.lineHeight>1)&&(s/=this.lineHeight);let p=n.left+t+r,m=s,g=0;const f=o-r;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",m=1,g=s):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(this.textAlign===t_||this.textAlign===vk||this.textAlign===xk?p=this.width-p-f:this.textAlign===Zw||this.textAlign===yk?p=n.left+t-o:this.textAlign!==Jw&&this.textAlign!==bk||(p=n.left+t-o)),e.fillRect(p,n.top+n.topOffset+g,f,m),n.topOffset+=i}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,y_)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}kw($T,"ownDefaults",ZT),kw($T,"type","IText"),S_.setClass($T),S_.setClass($T,"i-text");class eE extends $T{static getDefaults(){return Aw(Aw({},super.getDefaults()),eE.ownDefaults)}constructor(e,t){super(e,Aw(Aw({},eE.ownDefaults),t))}static createControls(){return{controls:XC()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(vk)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,n=0,s=0;const i={};for(let a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[s]&&a>0?(n=0,s++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[s])&&a>0&&(n++,s++),i[a]={line:t,offset:n},s+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const e=this._styleMap[t];e&&(t=e.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,n=0,s=e+1,i=!1;const a=this._styleMap[e],r=this._styleMap[e+1];a&&(e=a.line,n=a.offset),r&&(s=r.line,i=s===e,t=r.offset);const o=void 0===e?this.styles:{line:this.styles[e]};for(const l in o)for(const e in o[l]){const s=parseInt(e,10);if(s>=n&&(!i||s<t))for(const t in o[l][e])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,n){const s=this._styleMap[e];super._setStyleDeclaration(s.line,s.offset+t,n)}_deleteStyleDeclaration(e,t){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),s=[];for(let i=0;i<n.wordsData.length;i++)s.push(...this._wrapLine(i,t,n));return this.isWrapping=!1,s}getGraphemeDataForRender(e){const t=this.splitByGrapheme,n=t?"":" ";let s=0;return{wordsData:e.map((e,i)=>{let a=0;const r=t?this.graphemeSplit(e):this.wordSplit(e);return 0===r.length?[{word:[],width:0}]:r.map(e=>{const r=t?[e]:this.graphemeSplit(e),o=this._measureWord(r,i,a);return s=Math.max(o,s),a+=r.length+n.length,{word:r,width:o}})}),largestWordWidth:s}}_measureWord(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;for(let a=0,r=e.length;a<r;a++)i+=this._getGraphemeBox(e[a],t,a+s,n,!0).kernedWidth,n=e[a];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,n){let{largestWordWidth:s,wordsData:i}=n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=this._getWidthOfCharSpacing(),o=this.splitByGrapheme,l=[],c=o?"":" ";let d=0,h=[],u=0,p=0,m=!0;t-=a;const g=Math.max(t,s,this.dynamicMinWidth),f=i[e];let v;for(u=0,v=0;v<f.length;v++){const{word:t,width:n}=f[v];u+=t.length,d+=p+n-r,d>g&&!m?(l.push(h),h=[],d=n,m=!0):d+=r,m||o||h.push(c),h=h.concat(t),p=o?0:this._measureWord([c],e,u),u++,m=!1}return v&&l.push(h),s+a>this.dynamicMinWidth&&(this.dynamicMinWidth=s-r+a),l}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),n=this._wrapText(t.lines,this.width),s=new Array(n.length);for(let i=0;i<n.length;i++)s[i]=n[i].join("");return t.lines=s,t.graphemeLines=n,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const n=parseInt(t,10);if(this._textLines[n]){const n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}kw(eE,"type","Textbox"),kw(eE,"textLayoutProperties",[...$T.textLayoutProperties,"width"]),kw(eE,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),S_.setClass(eE);class tE extends $A{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:n}=e,{clipPath:s,group:i}=n;if(!s||!this.shouldPerformLayout(e))return;const{width:a,height:r}=NS(ZA(n,s)),o=new E_(a,r);if(s.absolutePositioned)return{center:IS(s.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:o};{const i=s.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:n=new E_,correction:s=new E_}=this.calcBoundingBox(t,e)||{};return{center:n.add(i),correction:s.subtract(i),size:o}}return{center:n.getRelativeCenterPoint().add(i),size:o}}}}kw(tE,"type","clip-path"),S_.setClass(tE);class nE extends $A{getInitialSize(e,t){let{target:n}=e,{size:s}=t;return new E_(n.width||s.x,n.height||s.y)}}kw(nE,"type","fixed"),S_.setClass(nE);class sE extends ij{subscribeTargets(e){const t=e.target;e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{e.layoutManager.subscribeTargets({target:e,targets:[t]})})}unsubscribeTargets(e){const t=e.target,n=t.getObjects();e.targets.reduce((e,t)=>(t.parent&&e.add(t.parent),e),new Set).forEach(e=>{!n.some(t=>t.parent===e)&&e.layoutManager.unsubscribeTargets({target:e,targets:[t]})})}}class iE extends oj{static getDefaults(){return Aw(Aw({},super.getDefaults()),iE.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,iE.ownDefaults),this.setOptions(t);const{left:n,top:s,layoutManager:i}=t;this.groupInit(e,{left:n,top:s,layoutManager:null!=i?i:new sE})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"selection-order"===this.multiSelectionStacking?this.add(...t):t.forEach(e=>{const t=this._objects.findIndex(t=>t.isInFrontOf(e)),n=-1===t?this.size():t;this.insertAt(n,e)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(Pw("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const n=new Set;t.forEach(e=>{const{parent:t}=e;t&&n.add(t)}),e===QA?n.forEach(e=>{e._onAfterObjectsChange(XA,t)}):n.forEach(e=>{e._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const s=Aw(Aw({hasControls:!1},n),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,s);super._renderControls(e,t),e.restore()}}kw(iE,"type","ActiveSelection"),kw(iE,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),S_.setClass(iE),S_.setClass(iE,"activeSelection");class aE{constructor(){kw(this,"resources",{})}applyFilters(e,t,n,s,i){const a=i.getContext("2d");if(!a)return;a.drawImage(t,0,0,n,s);const r={sourceWidth:n,sourceHeight:s,imageData:a.getImageData(0,0,n,s),originalEl:t,originalImageData:a.getImageData(0,0,n,s),canvasEl:i,ctx:a,filterBackend:this};e.forEach(e=>{e.applyTo(r)});const{imageData:o}=r;return o.width===n&&o.height===s||(i.width=o.width,i.height=o.height),a.putImageData(o,0,0),r}}class rE{constructor(){let{tileSize:e=Nw.textureSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};kw(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),kw(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const n=W_({width:e,height:t}),s=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});s&&(s.clearColor(0,0,0,0),this.canvas=n,this.gl=s)}applyFilters(e,t,n,s,i,a){const r=this.gl,o=i.getContext("2d");if(!r||!o)return;let l;a&&(l=this.getCachedTexture(a,t));const c={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:n,sourceHeight:s,destinationWidth:n,destinationHeight:s,context:r,sourceTexture:this.createTexture(r,n,s,l?void 0:t),targetTexture:this.createTexture(r,n,s),originalTexture:l||this.createTexture(r,n,s,l?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},d=r.createFramebuffer();return r.bindFramebuffer(r.FRAMEBUFFER,d),e.forEach(e=>{e&&e.applyTo(c)}),function(e){const t=e.targetCanvas,n=t.width,s=t.height,i=e.destinationWidth,a=e.destinationHeight;n===i&&s===a||(t.width=i,t.height=a)}(c),this.copyGLTo2D(r,c),r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(c.sourceTexture),r.deleteTexture(c.targetTexture),r.deleteFramebuffer(d),o.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,n,s,i){const{NEAREST:a,TEXTURE_2D:r,RGBA:o,UNSIGNED_BYTE:l,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:u,TEXTURE_WRAP_T:p}=e,m=e.createTexture();return e.bindTexture(r,m),e.texParameteri(r,d,i||a),e.texParameteri(r,h,i||a),e.texParameteri(r,u,c),e.texParameteri(r,p,c),s?e.texImage2D(r,0,o,o,l,s):e.texImage2D(r,0,o,t,n,0,o,l,null),m}getCachedTexture(e,t,n){const{textureCache:s}=this;if(s[e])return s[e];{const i=this.createTexture(this.gl,t.width,t.height,t,n);return i&&(s[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const n=e.canvas,s=t.targetCanvas,i=s.getContext("2d");if(!i)return;i.translate(0,s.height),i.scale(1,-1);const a=n.height-s.height;i.drawImage(n,0,a,s.width,s.height,0,0,s.width,s.height)}copyGLTo2DPutImageData(e,t){const n=t.targetCanvas.getContext("2d"),s=t.destinationWidth,i=t.destinationHeight,a=s*i*4;if(!n)return;const r=new Uint8Array(this.imageBuffer,0,a),o=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,s,i,e.RGBA,e.UNSIGNED_BYTE,r);const l=new ImageData(o,s,i);n.putImageData(l,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const s=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);s&&(t.renderer=s.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let oE;function lE(){return!oE&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(oE=function(){const{WebGLProbe:e}=Iw();return e.queryWebGL(I_()),Nw.enableGLFiltering&&e.isSupported(Nw.textureSize)?new rE({tileSize:Nw.textureSize}):new aE}()),oE}const cE=["filters","resizeFilter","src","crossOrigin","type"],dE=["cropX","cropY"];class hE extends ZC{static getDefaults(){return Aw(Aw({},super.getDefaults()),hE.ownDefaults)}constructor(e,t){super(),kw(this,"_lastScaleX",1),kw(this,"_lastScaleY",1),kw(this,"_filterScalingX",1),kw(this,"_filterScalingY",1),this.filters=[],Object.assign(this,hE.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(F_()),this.setElement("string"==typeof e?(this.canvas&&yS(this.canvas.getElement())||Bw()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),null===(t=e.classList)||void 0===t||t.add(hE.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=lE(!1);t instanceof rE&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&Iw().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||0===this.strokeWidth)return;const t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return this.filters.forEach(e=>{e&&t.push(e.toObject())}),Aw(Aw({},super.toObject([...dE,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,n=-this.width/2,s=-this.height/2;let i=[],a=[],r="",o="";if(!t)return[];if(this.hasCrop()){const e=F_();i.push('<clipPath id="imageCrop_'+e+'">\n','\t<rect x="'+n+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),r=' clip-path="url(#imageCrop_'+e+')" '}if(this.imageSmoothing||(o=' image-rendering="optimizeSpeed"'),e.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(s-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(o).concat(r,"></image>\n")),this.stroke||this.strokeDashArray){const e=this.fill;this.fill=null,a=['\t<rect x="'.concat(n,'" y="').concat(s,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=e}return i=this.paintFirst!==y_?i.concat(a,e):i.concat(e,a),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rS(e,{crossOrigin:t,signal:n}).then(e=>{void 0!==t&&this.set({crossOrigin:t}),this.setElement(e)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),s=n.x,i=n.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||s>t&&i>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,void(this._lastScaleY=i);const r=W_(a),{width:o,height:l}=a;this._element=r,this._lastScaleX=e.scaleX=s,this._lastScaleY=e.scaleY=i,lE().applyFilters([e],a,o,l,this._element),this._filterScalingX=r.width/this._originalElement.width,this._filterScalingY=r.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(e=e.filter(e=>e&&!e.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===e.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,n=t.naturalWidth||t.width,s=t.naturalHeight||t.height;if(this._element===this._originalElement){const e=W_({width:n,height:s});this._element=e,this._filteredEl=e}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,s),this._lastScaleX=1,this._lastScaleY=1);lE().applyFilters(e,this._originalElement,n,s,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const n=this._filterScalingX,s=this._filterScalingY,i=this.width,a=this.height,r=Math.max(this.cropX,0),o=Math.max(this.cropY,0),l=t.naturalWidth||t.width,c=t.naturalHeight||t.height,d=r*n,h=o*s,u=Math.min(i*n,l-d),p=Math.min(a*s,c-h),m=-i/2,g=-a/2,f=Math.min(i,l/n-r),v=Math.min(a,c/s-o);t&&e.drawImage(t,d,h,u,p,m,g,f,v)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=t||n.height}parsePreserveAspectRatioAttribute(){const e=rk(this.preserveAspectRatio||""),t=this.width,n=this.height,s={width:t,height:n};let i,a=this._element.width,r=this._element.height,o=1,l=1,c=0,d=0,h=0,u=0;return!e||e.alignX===n_&&e.alignY===n_?(o=t/a,l=n/r):("meet"===e.meetOrSlice&&(o=l=lj(this._element,s),i=(t-a*o)/2,"Min"===e.alignX&&(c=-i),"Max"===e.alignX&&(c=i),i=(n-r*l)/2,"Min"===e.alignY&&(d=-i),"Max"===e.alignY&&(d=i)),"slice"===e.meetOrSlice&&(o=l=cj(this._element,s),i=a-t/o,"Mid"===e.alignX&&(h=i/2),"Max"===e.alignX&&(h=i),i=r-n/l,"Mid"===e.alignY&&(u=i/2),"Max"===e.alignY&&(u=i),a=t/o,r=n/l)),{width:a,height:r,scaleX:o,scaleY:l,offsetLeft:c,offsetTop:d,cropX:h,cropY:u}}static fromObject(e,t){let{filters:n,resizeFilter:s,src:i,crossOrigin:a,type:r}=e,o=jw(e,cE);return Promise.all([rS(i,Aw(Aw({},t),{},{crossOrigin:a})),n&&oS(n,t),s&&oS([s],t),lS(o,t)]).then(e=>{let[t,n=[],[s]=[],a={}]=e;return new this(t,Aw(Aw({},o),{},{src:i,filters:n,resizeFilter:s},a))})}static fromURL(e){let{crossOrigin:t=null,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return rS(e,{crossOrigin:t,signal:n}).then(e=>new this(e,s))}static async fromElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const s=HA(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(s["xlink:href"]||s.href,t,s).catch(e=>(Pw("log","Unable to parse Image",e),null))}}kw(hE,"type","Image"),kw(hE,"cacheProperties",[...Kk,...dE]),kw(hE,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),kw(hE,"CSS_CANVAS","canvas-img"),kw(hE,"ATTRIBUTE_NAMES",[...gA,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),S_.setClass(hE),S_.setSVGClass(hE);ck(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const uE=d_,pE=e=>function(t,n,s){const{points:i,pathOffset:a}=s;return new E_(i[e]).subtract(a).transform(K_(s.getViewportTransform(),s.calcTransformMatrix()))},mE=(e,t,n,s)=>{const{target:i,pointIndex:a}=t,r=i,o=IS(new E_(n,s),void 0,r.calcOwnMatrix());return r.points[a]=o.add(r.pathOffset),r.setDimensions(),r.set("dirty",!0),!0},gE=(e,t)=>function(n,s,i,a){const r=s.target,o=new E_(r.points[(e>0?e:r.points.length)-1]),l=o.subtract(r.pathOffset).transform(r.calcOwnMatrix()),c=t(n,Aw(Aw({},s),{},{pointIndex:e}),i,a),d=o.subtract(r.pathOffset).transform(r.calcOwnMatrix()).subtract(l);return r.left-=d.x,r.top-=d.y,c},fE=e=>xC(uE,gE(e,mE)),vE=(e,t,n)=>{const{path:s,pathOffset:i}=e,a=s[t];return new E_(a[n]-i.x,a[n+1]-i.y).transform(K_(e.getViewportTransform(),e.calcTransformMatrix()))};function yE(e,t,n){const{commandIndex:s,pointIndex:i}=this;return vE(n,s,i)}function xE(e,t,n,s){const{target:i}=t,{commandIndex:a,pointIndex:r}=this,o=((e,t,n,s,i)=>{const{path:a,pathOffset:r}=e,o=a[(s>0?s:a.length)-1],l=new E_(o[i],o[i+1]),c=l.subtract(r).transform(e.calcOwnMatrix()),d=IS(new E_(t,n),void 0,e.calcOwnMatrix());a[s][i]=d.x+r.x,a[s][i+1]=d.y+r.y,e.setDimensions();const h=l.subtract(e.pathOffset).transform(e.calcOwnMatrix()).subtract(c);return e.left-=h.x,e.top-=h.y,e.set("dirty",!0),!0})(i,n,s,a,r);return US(this.actionName,Aw(Aw({},KS(e,t,n,s)),{},{commandIndex:a,pointIndex:r})),o}class bE extends kC{constructor(e){super(e)}render(e,t,n,s,i){const a=Aw(Aw({},s),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(e,t,n,a,i)}}class wE extends bE{constructor(e){super(e)}render(e,t,n,s,i){const{path:a}=i,{commandIndex:r,pointIndex:o,connectToCommandIndex:l,connectToPointIndex:c}=this;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);const[d]=a[r],h=vE(i,l,c);if("Q"===d){const s=vE(i,r,o+2);e.moveTo(s.x,s.y),e.lineTo(t,n)}else e.moveTo(t,n);e.lineTo(h.x,h.y),e.stroke(),e.restore(),super.render(e,t,n,s,i)}}const _E=(e,t,n,s,i,a)=>new(n?wE:bE)(Aw(Aw({commandIndex:e,pointIndex:t,actionName:"modifyPath",positionHandler:yE,actionHandler:xE,connectToCommandIndex:i,connectToPointIndex:a},s),n?s.controlPointStyle:s.pointStyle));Object.freeze({__proto__:null,changeWidth:wC,createObjectDefaultControls:qC,createPathControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};let s="M";return e.path.forEach((e,i)=>{const a=e[0];switch("Z"!==a&&(n["c_".concat(i,"_").concat(a)]=_E(i,e.length-2,!1,t)),a){case"C":n["c_".concat(i,"_C_CP_1")]=_E(i,1,!0,t,i-1,(e=>"C"===e?5:"Q"===e?3:1)(s)),n["c_".concat(i,"_C_CP_2")]=_E(i,3,!0,t,i,5);break;case"Q":n["c_".concat(i,"_Q_CP_1")]=_E(i,1,!0,t,i,3)}s=a}),n},createPolyActionHandler:fE,createPolyControls:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={};for(let s=0;s<("number"==typeof e?e:e.points.length);s++)n["p".concat(s)]=new kC(Aw({actionName:uE,positionHandler:pE(s),actionHandler:fE(s)},t));return n},createPolyPositionHandler:pE,createResizeControls:KC,createTextboxDefaultControls:XC,dragHandler:JS,factoryPolyActionHandler:gE,getLocalPoint:QS,polyActionHandler:mE,renderCircleControl:_C,renderSquareControl:SC,rotationStyleHandler:CC,rotationWithSnapping:AC,scaleCursorStyleHandler:NC,scaleOrSkewActionName:GC,scaleSkewCursorStyleHandler:HC,scalingEqually:MC,scalingX:OC,scalingXOrSkewingY:YC,scalingY:DC,scalingYOrSkewingX:VC,skewCursorStyleHandler:IC,skewHandlerX:WC,skewHandlerY:UC,wrapWithFireEvent:xC,wrapWithFixedAnchor:bC});const SE=e=>void 0!==e.webgl,kE="precision highp float",CE="\n    ".concat(kE,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),AE=["type"],jE=["type"],TE=new RegExp(kE,"g");class EE{get type(){return this.constructor.type}constructor(){let e=jw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},AE);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return CE}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}createProgram(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:s="highp"}}=Iw();"highp"!==s&&(t=t.replace(TE,kE.replace("highp",s)));const i=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER),r=e.createProgram();if(!i||!a||!r)throw new Mw("Vertex, fragment shader or program creation error");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Mw("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(a,t),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new Mw("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.attachShader(r,i),e.attachShader(r,a),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Mw('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(r)));const o=this.getUniformLocations(e,r)||{};return o.uStepW=e.getUniformLocation(r,"uStepW"),o.uStepH=e.getUniformLocation(r,"uStepH"),{program:r,attributeLocations:this.getAttributeLocations(e,r),uniformLocations:o}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const n=this.constructor.uniformLocations,s={};for(let i=0;i<n.length;i++)s[n[i]]=e.getUniformLocation(t,n[i]);return s}sendAttributeData(e,t,n){const s=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const n=e.destinationWidth,s=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===s||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,n,s)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){SE(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:n}=e,s=W_({width:t,height:n});e.helpLayer=s}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Aw({type:this.type},e.reduce((e,t)=>(e[t]=this[t],e),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(jw(e,jE))}}kw(EE,"type","BaseFilter"),kw(EE,"uniformLocations",[]);const NE={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "};class PE extends EE{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(NE[this.mode],"\n        }\n      }\n      ")}applyTo2d(e){let{imageData:{data:t}}=e;const n=new ik(this.color).getSource(),s=this.alpha,i=n[0]*s,a=n[1]*s,r=n[2]*s,o=1-s;for(let l=0;l<t.length;l+=4){const e=t[l],n=t[l+1],s=t[l+2];let c,d,h;switch(this.mode){case"multiply":c=e*i/255,d=n*a/255,h=s*r/255;break;case"screen":c=255-(255-e)*(255-i)/255,d=255-(255-n)*(255-a)/255,h=255-(255-s)*(255-r)/255;break;case"add":c=e+i,d=n+a,h=s+r;break;case"difference":c=Math.abs(e-i),d=Math.abs(n-a),h=Math.abs(s-r);break;case"subtract":c=e-i,d=n-a,h=s-r;break;case"darken":c=Math.min(e,i),d=Math.min(n,a),h=Math.min(s,r);break;case"lighten":c=Math.max(e,i),d=Math.max(n,a),h=Math.max(s,r);break;case"overlay":c=i<128?2*e*i/255:255-2*(255-e)*(255-i)/255,d=a<128?2*n*a/255:255-2*(255-n)*(255-a)/255,h=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255;break;case"exclusion":c=i+e-2*i*e/255,d=a+n-2*a*n/255,h=r+s-2*r*s/255;break;case"tint":c=i+e*o,d=a+n*o,h=r+s*o}t[l]=c,t[l+1]=d,t[l+2]=h}}sendUniformData(e,t){const n=new ik(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(t.uColor,n)}}kw(PE,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),kw(PE,"type","BlendColor"),kw(PE,"uniformLocations",["uColor"]),S_.setClass(PE);const ME={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "},OE=["type","image"];class DE extends EE{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return ME[this.mode]}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}applyToWebGL(e){const t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]}applyTo2d(e){let{imageData:{data:t,width:n,height:s},filterBackend:{resources:i}}=e;const a=this.image;i.blendImage||(i.blendImage=I_());const r=i.blendImage,o=r.getContext("2d");r.width!==n||r.height!==s?(r.width=n,r.height=s):o.clearRect(0,0,n,s),o.setTransform(a.scaleX,0,0,a.scaleY,a.left,a.top),o.drawImage(a.getElement(),0,0,n,s);const l=o.getImageData(0,0,n,s).data;for(let c=0;c<t.length;c+=4){const e=t[c],n=t[c+1],s=t[c+2],i=t[c+3],a=l[c],r=l[c+1],o=l[c+2],d=l[c+3];switch(this.mode){case"multiply":t[c]=e*a/255,t[c+1]=n*r/255,t[c+2]=s*o/255,t[c+3]=i*d/255;break;case"mask":t[c+3]=d}}}sendUniformData(e,t){const n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)}toObject(){return Aw(Aw({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:n,image:s}=e,i=jw(e,OE);return hE.fromObject(s,t).then(e=>new this(Aw(Aw({},i),{},{image:e})))}}kw(DE,"type","BlendImage"),kw(DE,"defaults",{mode:"multiply",alpha:1}),kw(DE,"uniformLocations",["uTransformMatrix","uImage"]),S_.setClass(DE);class LE extends EE{getFragmentSource(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float totalC = 0.0;\n      float totalA = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\n        float weight = 1.0 - abs(percent);\n        float alpha = weight * sample.a;\n        color.rgb += sample.rgb * alpha;\n        color.a += alpha;\n        totalA += weight;\n        totalC += alpha;\n      }\n      gl_FragColor.rgb = color.rgb / totalC;\n      gl_FragColor.a = color.a / totalA;\n    }\n  "}applyTo(e){SE(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:n,height:s}}=e;this.aspectRatio=n/s,this.horizontal=!0;let i=this.getBlurValue()*n;const a=new Uint8ClampedArray(t),r=4*n;for(let o=0;o<t.length;o+=4){let e=0,n=0,s=0,l=0,c=0;const d=o-o%r,h=d+r;for(let a=-14;a<15;a++){const r=a/15,u=4*Math.floor(i*r),p=1-Math.abs(r);let m=o+u;m<d?m=d:m>h&&(m=h);const g=t[m+3]*p;e+=t[m]*g,n+=t[m+1]*g,s+=t[m+2]*g,l+=g,c+=p}a[o]=e/l,a[o+1]=n/l,a[o+2]=s/l,a[o+3]=l/c}this.horizontal=!1,i=this.getBlurValue()*s;for(let o=0;o<a.length;o+=4){let e=0,n=0,s=0,l=0,c=0;const d=o%r,h=a.length-r+d;for(let t=-14;t<15;t++){const u=t/15,p=Math.floor(i*u)*r,m=1-Math.abs(u);let g=o+p;g<d?g=d:g>h&&(g=h);const f=a[g+3]*m;e+=a[g]*f,n+=a[g+1]*f,s+=a[g+2]*f,l+=f,c+=m}t[o]=e/l,t[o+1]=n/l,t[o+2]=s/l,t[o+3]=l/c}}sendUniformData(e,t){const n=this.chooseRightDelta();e.uniform2fv(t.uDelta,n)}isNeutralState(){return 0===this.blur}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:n}=this;return t?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}kw(LE,"type","Blur"),kw(LE,"defaults",{blur:0}),kw(LE,"uniformLocations",["uDelta"]),S_.setClass(LE);class RE extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.round(255*this.brightness);for(let s=0;s<t.length;s+=4)t[s]+=n,t[s+1]+=n,t[s+2]+=n}isNeutralState(){return 0===this.brightness}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}kw(RE,"type","Brightness"),kw(RE,"defaults",{brightness:0}),kw(RE,"uniformLocations",["uBrightness"]),S_.setClass(RE);const FE={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class IE extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}applyTo2d(e){const t=e.imageData.data,n=this.matrix,s=this.colorsOnly;for(let i=0;i<t.length;i+=4){const e=t[i],a=t[i+1],r=t[i+2];if(t[i]=e*n[0]+a*n[1]+r*n[2]+255*n[4],t[i+1]=e*n[5]+a*n[6]+r*n[7]+255*n[9],t[i+2]=e*n[10]+a*n[11]+r*n[12]+255*n[14],!s){const s=t[i+3];t[i]+=s*n[3],t[i+1]+=s*n[8],t[i+2]+=s*n[13],t[i+3]=e*n[15]+a*n[16]+r*n[17]+s*n[18]+255*n[19]}}}sendUniformData(e,t){const n=this.matrix,s=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,s),e.uniform4fv(t.uConstants,i)}toObject(){return Aw(Aw({},super.toObject()),{},{matrix:[...this.matrix]})}}function BE(e,t){var n;const s=(kw(n=class extends IE{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",e),kw(n,"defaults",{colorsOnly:!1,matrix:t}),n);return S_.setClass(s,e),s}kw(IE,"type","ColorMatrix"),kw(IE,"defaults",FE),kw(IE,"uniformLocations",["uColorMatrix","uConstants"]),S_.setClass(IE);const WE=BE("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),UE=BE("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),zE=BE("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),GE=BE("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),HE=BE("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),YE=BE("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),VE=BE("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class qE extends EE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){SE(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(e=>S_.getClass(e.type).fromObject(e,t))).then(e=>new this({subFilters:e}))}}kw(qE,"type","Composed"),S_.setClass(qE);class KE extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}isNeutralState(){return 0===this.contrast}applyTo2d(e){let{imageData:{data:t}}=e;const n=Math.floor(255*this.contrast),s=259*(n+255)/(255*(259-n));for(let i=0;i<t.length;i+=4)t[i]=s*(t[i]-128)+128,t[i+1]=s*(t[i+1]-128)+128,t[i+2]=s*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}kw(KE,"type","Contrast"),kw(KE,"defaults",{contrast:0}),kw(KE,"uniformLocations",["uContrast"]),S_.setClass(KE);const XE={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "};class QE extends EE{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return XE[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,n=t.data,s=this.matrix,i=Math.round(Math.sqrt(s.length)),a=Math.floor(i/2),r=t.width,o=t.height,l=e.ctx.createImageData(r,o),c=l.data,d=this.opaque?1:0;let h,u,p,m,g,f,v,y,x,b,w,_,S;for(w=0;w<o;w++)for(b=0;b<r;b++){for(g=4*(w*r+b),h=0,u=0,p=0,m=0,S=0;S<i;S++)for(_=0;_<i;_++)v=w+S-a,f=b+_-a,v<0||v>=o||f<0||f>=r||(y=4*(v*r+f),x=s[S*i+_],h+=n[y]*x,u+=n[y+1]*x,p+=n[y+2]*x,d||(m+=n[y+3]*x));c[g]=h,c[g+1]=u,c[g+2]=p,c[g+3]=d?n[g+3]:m}e.imageData=l}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return Aw(Aw({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}kw(QE,"type","Convolute"),kw(QE,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),kw(QE,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),S_.setClass(QE);const JE="Gamma";class ZE extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.gamma,s=1/n[0],i=1/n[1],a=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const r=this.rgbValues;for(let o=0;o<256;o++)r.r[o]=255*Math.pow(o/255,s),r.g[o]=255*Math.pow(o/255,i),r.b[o]=255*Math.pow(o/255,a);for(let o=0;o<t.length;o+=4)t[o]=r.r[t[o]],t[o+1]=r.g[t[o+1]],t[o+2]=r.b[t[o+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return 1===e[0]&&1===e[1]&&1===e[2]}toObject(){return{type:JE,gamma:this.gamma.concat()}}}kw(ZE,"type",JE),kw(ZE,"defaults",{gamma:[1,1,1]}),kw(ZE,"uniformLocations",["uGamma"]),S_.setClass(ZE);const $E={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "};class eN extends EE{applyTo2d(e){let{imageData:{data:t}}=e;for(let n,s=0;s<t.length;s+=4){const e=t[s],i=t[s+1],a=t[s+2];switch(this.mode){case"average":n=(e+i+a)/3;break;case"lightness":n=(Math.min(e,i,a)+Math.max(e,i,a))/2;break;case"luminosity":n=.21*e+.72*i+.07*a}t[s+2]=t[s+1]=t[s]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return $E[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}kw(eN,"type","Grayscale"),kw(eN,"defaults",{mode:"average"}),kw(eN,"uniformLocations",["uMode"]),S_.setClass(eN);const tN=Aw(Aw({},FE),{},{rotation:0});class nN extends IE{calculateMatrix(){const e=this.rotation*Math.PI,t=j_(e),n=T_(e),s=1/3,i=Math.sqrt(s)*n,a=1-t;this.matrix=[t+a/3,s*a-i,s*a+i,0,0,s*a+i,t+s*a,s*a-i,0,0,s*a-i,s*a+i,t+s*a,0,0,0,0,0,1,0]}isNeutralState(){return 0===this.rotation}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}kw(nN,"type","HueRotation"),kw(nN,"defaults",tN),S_.setClass(nN);class sN extends EE{applyTo2d(e){let{imageData:{data:t}}=e;for(let n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2],this.alpha&&(t[n+3]=255-t[n+3])}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}kw(sN,"type","Invert"),kw(sN,"defaults",{alpha:!1,invert:!0}),kw(sN,"uniformLocations",["uInvert","uAlpha"]),S_.setClass(sN);class iN extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=this.noise;for(let s=0;s<t.length;s+=4){const e=(.5-Math.random())*n;t[s]+=e,t[s+1]+=e,t[s+2]+=e}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}kw(iN,"type","Noise"),kw(iN,"defaults",{noise:0}),kw(iN,"uniformLocations",["uNoise","uSeed"]),S_.setClass(iN);class aN extends EE{applyTo2d(e){let{imageData:{data:t,width:n,height:s}}=e;for(let i=0;i<s;i+=this.blocksize)for(let e=0;e<n;e+=this.blocksize){const a=4*i*n+4*e,r=t[a],o=t[a+1],l=t[a+2],c=t[a+3];for(let d=i;d<Math.min(i+this.blocksize,s);d++)for(let s=e;s<Math.min(e+this.blocksize,n);s++){const e=4*d*n+4*s;t[e]=r,t[e+1]=o,t[e+2]=l,t[e+3]=c}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}kw(aN,"type","Pixelate"),kw(aN,"defaults",{blocksize:4}),kw(aN,"uniformLocations",["uBlocksize"]),S_.setClass(aN);class rN extends EE{getFragmentSource(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=255*this.distance,s=new ik(this.color).getSource(),i=[s[0]-n,s[1]-n,s[2]-n],a=[s[0]+n,s[1]+n,s[2]+n];for(let r=0;r<t.length;r+=4){const e=t[r],n=t[r+1],s=t[r+2];e>i[0]&&n>i[1]&&s>i[2]&&e<a[0]&&n<a[1]&&s<a[2]&&(t[r+3]=0)}}sendUniformData(e,t){const n=new ik(this.color).getSource(),s=this.distance,i=[0+n[0]/255-s,0+n[1]/255-s,0+n[2]/255-s,1],a=[n[0]/255+s,n[1]/255+s,n[2]/255+s,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,a)}}kw(rN,"type","RemoveColor"),kw(rN,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),kw(rN,"uniformLocations",["uLow","uHigh"]),S_.setClass(rN);class oN extends EE{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),s=new Array(n);for(let i=1;i<=n;i++)s[i-1]=e(i*t);return s}generateShader(e){const t=new Array(e);for(let n=1;n<=e;n++)t[n-1]="".concat(n,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(t.map((e,t)=>"\n              color += texture2D(uTexture, vTexCoord + ".concat(e,") * uTaps[").concat(t,"] + texture2D(uTexture, vTexCoord - ").concat(e,") * uTaps[").concat(t,"];\n              sum += 2.0 * uTaps[").concat(t,"];\n            ")).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){SE(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;const n=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(n)/n}}applyTo2d(e){const t=e.imageData,n=this.scaleX,s=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/s;const i=t.width,a=t.height,r=Math.round(i*n),o=Math.round(a*s);let l;l="sliceHack"===this.resizeType?this.sliceByTwo(e,i,a,r,o):"hermite"===this.resizeType?this.hermiteFastResize(e,i,a,r,o):"bilinear"===this.resizeType?this.bilinearFiltering(e,i,a,r,o):"lanczos"===this.resizeType?this.lanczosResize(e,i,a,r,o):new ImageData(r,o),e.imageData=l}sliceByTwo(e,t,n,s,i){const a=e.imageData,r=.5;let o=!1,l=!1,c=t*r,d=n*r;const h=e.filterBackend.resources;let u=0,p=0;const m=t;let g=0;h.sliceByTwo||(h.sliceByTwo=I_());const f=h.sliceByTwo;(f.width<1.5*t||f.height<n)&&(f.width=1.5*t,f.height=n);const v=f.getContext("2d");for(v.clearRect(0,0,1.5*t,n),v.putImageData(a,0,0),s=Math.floor(s),i=Math.floor(i);!o||!l;)t=c,n=d,s<Math.floor(c*r)?c=Math.floor(c*r):(c=s,o=!0),i<Math.floor(d*r)?d=Math.floor(d*r):(d=i,l=!0),v.drawImage(f,u,p,t,n,m,g,c,d),u=m,p=g,g+=d;return v.getImageData(u,p,s,i)}lanczosResize(e,t,n,s,i){const a=e.imageData.data,r=e.ctx.createImageData(s,i),o=r.data,l=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,d=this.rcpScaleY,h=2/this.rcpScaleX,u=2/this.rcpScaleY,p=Math.ceil(c*this.lanczosLobes/2),m=Math.ceil(d*this.lanczosLobes/2),g={},f={x:0,y:0},v={x:0,y:0};return function e(y){let x,b,w,_,S,k,C,A,j,T,E;for(f.x=(y+.5)*c,v.x=Math.floor(f.x),x=0;x<i;x++){for(f.y=(x+.5)*d,v.y=Math.floor(f.y),S=0,k=0,C=0,A=0,j=0,b=v.x-p;b<=v.x+p;b++)if(!(b<0||b>=t)){T=Math.floor(1e3*Math.abs(b-f.x)),g[T]||(g[T]={});for(let e=v.y-m;e<=v.y+m;e++)e<0||e>=n||(E=Math.floor(1e3*Math.abs(e-f.y)),g[T][E]||(g[T][E]=l(Math.sqrt(Math.pow(T*h,2)+Math.pow(E*u,2))/1e3)),w=g[T][E],w>0&&(_=4*(e*t+b),S+=w,k+=w*a[_],C+=w*a[_+1],A+=w*a[_+2],j+=w*a[_+3]))}_=4*(x*s+y),o[_]=k/S,o[_+1]=C/S,o[_+2]=A/S,o[_+3]=j/S}return++y<s?e(y):r}(0)}bilinearFiltering(e,t,n,s,i){let a,r,o,l,c,d,h,u,p,m,g,f,v,y=0;const x=this.rcpScaleX,b=this.rcpScaleY,w=4*(t-1),_=e.imageData.data,S=e.ctx.createImageData(s,i),k=S.data;for(h=0;h<i;h++)for(u=0;u<s;u++)for(c=Math.floor(x*u),d=Math.floor(b*h),p=x*u-c,m=b*h-d,v=4*(d*t+c),g=0;g<4;g++)a=_[v+g],r=_[v+4+g],o=_[v+w+g],l=_[v+w+4+g],f=a*(1-p)*(1-m)+r*p*(1-m)+o*m*(1-p)+l*p*m,k[y++]=f;return S}hermiteFastResize(e,t,n,s,i){const a=this.rcpScaleX,r=this.rcpScaleY,o=Math.ceil(a/2),l=Math.ceil(r/2),c=e.imageData.data,d=e.ctx.createImageData(s,i),h=d.data;for(let u=0;u<i;u++)for(let e=0;e<s;e++){const n=4*(e+u*s);let i=0,d=0,p=0,m=0,g=0,f=0,v=0;const y=(u+.5)*r;for(let s=Math.floor(u*r);s<(u+1)*r;s++){const n=Math.abs(y-(s+.5))/l,r=(e+.5)*a,h=n*n;for(let l=Math.floor(e*a);l<(e+1)*a;l++){let e=Math.abs(r-(l+.5))/o;const n=Math.sqrt(h+e*e);n>1&&n<-1||(i=2*n*n*n-3*n*n+1,i>0&&(e=4*(l+s*t),v+=i*c[e+3],p+=i,c[e+3]<255&&(i=i*c[e+3]/250),m+=i*c[e],g+=i*c[e+1],f+=i*c[e+2],d+=i))}}h[n]=m/d,h[n+1]=g/d,h[n+2]=f/d,h[n+3]=v/p}return d}}kw(oN,"type","Resize"),kw(oN,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),kw(oN,"uniformLocations",["uDelta","uTaps"]),S_.setClass(oN);class lN extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.saturation;for(let s=0;s<t.length;s+=4){const e=t[s],i=t[s+1],a=t[s+2],r=Math.max(e,i,a);t[s]+=r!==e?(r-e)*n:0,t[s+1]+=r!==i?(r-i)*n:0,t[s+2]+=r!==a?(r-a)*n:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}kw(lN,"type","Saturation"),kw(lN,"defaults",{saturation:0}),kw(lN,"uniformLocations",["uSaturation"]),S_.setClass(lN);class cN extends EE{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(e){let{imageData:{data:t}}=e;const n=-this.vibrance;for(let s=0;s<t.length;s+=4){const e=t[s],i=t[s+1],a=t[s+2],r=Math.max(e,i,a),o=(e+i+a)/3,l=2*Math.abs(r-o)/255*n;t[s]+=r!==e?(r-e)*l:0,t[s+1]+=r!==i?(r-i)*l:0,t[s+2]+=r!==a?(r-a)*l:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}kw(cN,"type","Vibrance"),kw(cN,"defaults",{vibrance:0}),kw(cN,"uniformLocations",["uVibrance"]),S_.setClass(cN);Object.freeze({__proto__:null,BaseFilter:EE,BlackWhite:VE,BlendColor:PE,BlendImage:DE,Blur:LE,Brightness:RE,Brownie:WE,ColorMatrix:IE,Composed:qE,Contrast:KE,Convolute:QE,Gamma:ZE,Grayscale:eN,HueRotation:nN,Invert:sN,Kodachrome:zE,Noise:iN,Pixelate:aN,Polaroid:HE,RemoveColor:rN,Resize:oN,Saturation:lN,Sepia:YE,Technicolor:GE,Vibrance:cN,Vintage:UE});class dN{constructor(e){this.canvas=e,this.width=10,this.color="rgba(0,0,0,1)",this._isErasing=!1,this._eraserGroup=[]}onMouseDown(e){this._isErasing=!0,this._eraserGroup=[],this._prepareForErasing(e)}onMouseMove(e){this._isErasing&&this._prepareForErasing(e)}onMouseUp(){this._isErasing=!1,this._finalizeErasing()}_prepareForErasing(e){const t=this.canvas.getObjects(),n={left:e.x-this.width/2,top:e.y-this.width/2,width:this.width,height:this.width};t.forEach(e=>{this._isIntersecting(e,n)&&this._eraserGroup.push(e)})}_isIntersecting(e,t){const n=e.getBoundingRect();return!(t.left>n.left+n.width||t.left+t.width<n.left||t.top>n.top+n.height||t.top+t.height<n.top)}_finalizeErasing(){const e=this.canvas;this._eraserGroup.forEach(t=>{e.remove(t)}),e.renderAll(),this._eraserGroup=[]}}const hN=e=>{let{videoElement:t,isVisible:n,onClose:i}=e;const a=(0,s.useRef)(null),r=(0,s.useRef)(null),[o,l]=(0,s.useState)("pencil"),[c,d]=(0,s.useState)("#FF0000"),[h,u]=(0,s.useState)(3),[p,m]=(0,s.useState)("medium"),[g,f]=(0,s.useState)([]),[v,y]=(0,s.useState)(-1),x=(0,s.useRef)(null),b={small:10,medium:20,large:40},w=e=>{const t=JSON.stringify(e.toJSON());g[v]!==t&&(f(e=>[...e.slice(0,v+1),t]),y(e=>e+1))};(0,s.useEffect)(()=>{if(!n||!a.current||!t)return;const e=a.current,s=document.createElement("canvas");e.appendChild(s);const i=new Qj(s,{backgroundColor:"transparent",isDrawingMode:!0});r.current=i;const l=()=>{t&&i&&(i.setWidth(t.offsetWidth),i.setHeight(t.offsetHeight),i.renderAll())};l(),_(o),w(i);const c=new ResizeObserver(l);c.observe(t);const d=()=>w(i);return i.on("mouse:up",d),()=>{if(c.disconnect(),i.off("mouse:up",d),i.dispose(),e)for(;e.firstChild;)e.removeChild(e.firstChild);r.current=null}},[n,t]),(0,s.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(i(),e.stopPropagation())};return n&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,i]);const _=e=>{const t=r.current;if(t)switch(l(e),t.isDrawingMode=!1,t.selection=!1,t.forEachObject(e=>{e.selectable=!1,e.evented=!1}),x.current&&"eraser"!==e&&(t.off("mouse:down"),t.off("mouse:move"),t.off("mouse:up"),x.current=null),e){case"pencil":t.isDrawingMode=!0;const e=new yT(t);e.width=h,e.color=c,t.freeDrawingBrush=e;break;case"highlighter":t.isDrawingMode=!0;const n=new yT(t);n.width=4*h,n.color=c+"80",t.freeDrawingBrush=n;break;case"eraser":t.isDrawingMode=!1,x.current=new dN(t),x.current.width=b[p],t.on("mouse:down",e=>{x.current&&x.current.onMouseDown(t.getPointer(e.e))}),t.on("mouse:move",e=>{x.current&&x.current.onMouseMove(t.getPointer(e.e))}),t.on("mouse:up",()=>{x.current&&(x.current.onMouseUp(),w(t))});break;case"select":t.selection=!0,t.forEachObject(e=>{e.selectable=!0,e.evented=!0})}},S=e=>{m(e)};(0,s.useEffect)(()=>{_(o)},[c,h,p]);return n?(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsx)("div",{ref:a,className:"magicPencilCanvasContainer"}),(0,qt.jsx)("div",{className:"magicPencilToolsContainer",children:(0,qt.jsxs)("div",{className:"magicPencilTools",children:[(0,qt.jsx)("button",{className:"mpCloseBtn",onClick:i,children:"\u2715"}),(0,qt.jsxs)("div",{className:"mpToolGroup",children:[(0,qt.jsx)("button",{className:"mpTool ".concat("select"===o?"active":""),onClick:()=>_("select"),title:"\uc120\ud0dd/\uc774\ub3d9",children:(0,qt.jsx)(lw,{})}),(0,qt.jsx)("button",{className:"mpTool ".concat("pencil"===o?"active":""),onClick:()=>_("pencil"),title:"\ud39c",children:(0,qt.jsx)(dw,{})}),(0,qt.jsx)("button",{className:"mpTool ".concat("highlighter"===o?"active":""),onClick:()=>_("highlighter"),title:"\ud615\uad11\ud39c",children:(0,qt.jsx)(cw,{})}),(0,qt.jsx)("button",{className:"mpTool ".concat("eraser"===o?"active":""),onClick:()=>_("eraser"),title:"\uc9c0\uc6b0\uac1c",children:(0,qt.jsx)(ow,{})})]}),(0,qt.jsx)("div",{className:"mpColorGroup",children:["#FF0000","#0066FF","#FFD700","#00FF00","#FF8C00","#9400D3","#000000","#FFFFFF"].map(e=>(0,qt.jsx)("button",{className:"mpColor ".concat(c===e?"active":""),style:{backgroundColor:e},onClick:()=>(e=>{d(e)})(e)},e))}),("pencil"===o||"highlighter"===o)&&(0,qt.jsxs)("div",{className:"mpSizeGroup",children:[(0,qt.jsxs)("label",{children:["\uad75\uae30: ",h,"px"]}),(0,qt.jsx)("input",{type:"range",min:"1",max:"20",value:h,onChange:e=>{return t=Number(e.target.value),void u(t);var t}})]}),"eraser"===o&&(0,qt.jsxs)("div",{className:"mpEraserSize",children:[(0,qt.jsx)("label",{children:"\uc9c0\uc6b0\uac1c \ud06c\uae30"}),(0,qt.jsxs)("div",{className:"mpEraserSize-buttons",children:[(0,qt.jsx)("button",{className:"small"===p?"active":"",onClick:()=>S("small"),children:"\uc18c"}),(0,qt.jsx)("button",{className:"medium"===p?"active":"",onClick:()=>S("medium"),children:"\uc911"}),(0,qt.jsx)("button",{className:"large"===p?"active":"",onClick:()=>S("large"),children:"\ub300"})]})]}),(0,qt.jsxs)("div",{className:"mpActionGroup",children:[(0,qt.jsx)("button",{onClick:()=>{const e=r.current;if(!e||v<=0)return;const t=v-1;e.loadFromJSON(g[t],()=>{e.renderAll(),y(t)})},title:"\uc2e4\ud589 \ucde8\uc18c",disabled:v<=0,children:(0,qt.jsx)(gw,{})}),(0,qt.jsx)("button",{onClick:()=>{const e=r.current;if(!e||v>=g.length-1)return;const t=v+1;e.loadFromJSON(g[t],()=>{e.renderAll(),y(t)})},title:"\ub2e4\uc2dc \uc2e4\ud589",disabled:v>=g.length-1,children:(0,qt.jsx)(uw,{})}),(0,qt.jsx)("button",{onClick:()=>{const e=r.current;e&&(e.clear(),e.backgroundColor="transparent",w(e))},title:"\uc804\uccb4 \uc9c0\uc6b0\uae30",children:(0,qt.jsx)(mw,{})}),(0,qt.jsx)("button",{onClick:()=>{const e=r.current;if(!e||!t)return;const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight;const s=n.getContext("2d");s.drawImage(t,0,0,n.width,n.height);const i=e.getElement();s.drawImage(i,0,0,n.width,n.height);const a=n.toDataURL("image/png"),o=document.createElement("a"),l=(new Date).toISOString().replace(/[:.]/g,"-");o.download="video-analysis-".concat(l,".png"),o.href=a,o.click()},className:"mpSaveBtn",title:"PNG\ub85c \uc800\uc7a5",children:(0,qt.jsx)(rw,{})})]})]})})]}):null};class uN extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="APIError",this.status=t,this.data=n}}const pN=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}},mN=e=>{const t={"Content-Type":"application/json"};return e&&(t.Authorization="Bearer ".concat(e)),t},gN=Et.MEMOS||"/memos";async function fN(){let{gameKey:e,clipKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut();const s=new URLSearchParams;e&&s.set("gameKey",e),t&&s.set("clipKey",t);const i="".concat(jt).concat(gN).concat(s.toString()?"?".concat(s):""),a=await fetch(i,{headers:mN(n)}),r=await pN(a);if(a.ok)return r;throw new uN("object"===typeof r&&r.message||"\uba54\ubaa8 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328",a.status,r)}const vN=e=>"string"===typeof e?e.trim():"",yN=e=>"string"===typeof e?e:"";function xN(e){let{isVisible:t,onClose:n,gameKey:i,clipKey:a,clipInfo:r={},onMemoCountChange:o}=e;const{token:l}=Qt(),[c,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)(""),[m,g]=(0,s.useState)([]),[f,v]=(0,s.useState)(!1),[y,x]=(0,s.useState)(new Set),[b,w]=(0,s.useState)(null),[_,S]=(0,s.useState)(""),[k,C]=(0,s.useState)(!1),[A,j]=(0,s.useState)(50),[T,E]=(0,s.useState)(!1),N=s.useRef(null);s.useEffect(()=>{if(!T)return;const e=e=>{if(!N.current)return;const t=N.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100,s=Math.min(Math.max(n,25),75);j(s)},t=()=>{E(!1)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[T]),(0,s.useEffect)(()=>{a&&(null===o||void 0===o||o(a,m.length))},[m,a,o]),(0,s.useEffect)(()=>{if(t){const e=window.scrollY;return document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.width="100%",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,e)}}},[t]),(0,s.useEffect)(()=>{if(!t||!i||!a||!l)return;let e=!1;return(async()=>{try{const t=await fN({gameKey:i,clipKey:a},l),n=Array.isArray(null===t||void 0===t?void 0:t.memos)?t.memos:[];e||g([...n].sort((e,t)=>new Date(t.updatedAt||t.createdAt||0)-new Date(e.updatedAt||e.createdAt||0)))}catch(Cw){console.error("\uba54\ubaa8 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328:",Cw)}})(),()=>{e=!0}},[t,i,a,l]);const P=async e=>{if(e&&l)try{x(t=>new Set([...t,e])),await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut();if(!e)throw new uN("memoId\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.",400);const n=await fetch("".concat(jt).concat(gN,"/").concat(encodeURIComponent(e)),{method:"DELETE",headers:mN(t)}),s=await pN(n);if(n.ok)return s;throw new uN("object"===typeof s&&s.message||"\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328",n.status,s)}(e,l),g(t=>t.filter(t=>t._id!==e))}catch(Cw){console.error("\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328:",Cw),alert((null===Cw||void 0===Cw?void 0:Cw.message)||"\uba54\ubaa8 \uc0ad\uc81c \uc2e4\ud328")}finally{x(t=>{const n=new Set(t);return n.delete(e),n})}},M=()=>{w(null),S("")},O=async e=>{if(!b||!l||k)return;const t=vN(_);if(t)try{var n;C(!0);const s=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut();if(!e)throw new uN("memoId\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.",400);const s=await fetch("".concat(jt).concat(gN,"/").concat(encodeURIComponent(e)),{method:"PUT",headers:mN(n),body:JSON.stringify(t)}),i=await pN(s);if(s.ok)return i;throw new uN("object"===typeof i&&i.message||"\uba54\ubaa8 \uc218\uc815 \uc2e4\ud328",s.status,i)}(e._id,{content:t,isPrivate:e.isPrivate},l),i=null!==(n=null===s||void 0===s?void 0:s.memo)&&void 0!==n?n:d(d({},e),{},{content:t,updatedAt:(new Date).toISOString()});g(t=>t.map(t=>t._id===e._id?i:t).sort((e,t)=>new Date(t.updatedAt||t.createdAt||0)-new Date(e.updatedAt||e.createdAt||0))),M()}catch(Cw){console.error("\uba54\ubaa8 \uc218\uc815 \uc2e4\ud328:",Cw),alert((null===Cw||void 0===Cw?void 0:Cw.message)||"\uba54\ubaa8 \uc218\uc815 \uc2e4\ud328")}finally{C(!1)}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.")};return t?(0,qt.jsx)("div",{className:"video-memo-overlay",children:(0,qt.jsxs)("div",{className:"video-memo-modal",children:[(0,qt.jsxs)("div",{className:"video-memo-header",children:[(0,qt.jsx)("h3",{children:"\uba54\ubaa8 \uc791\uc131"}),(0,qt.jsx)("button",{onClick:n,children:"\xd7"})]}),(0,qt.jsxs)("div",{className:"memoContent",ref:N,children:[(0,qt.jsxs)("div",{className:"memo-write-column",style:{width:"".concat(A,"%")},children:[(0,qt.jsxs)("div",{className:"memoClipInfo",children:[(0,qt.jsxs)("span",{children:["Q",r.quarter]}),r.down&&(0,qt.jsx)("span",{children:r.down}),r.playType&&(0,qt.jsx)("span",{children:r.playType})]}),(0,qt.jsx)("div",{className:"memo-options",children:(0,qt.jsxs)("label",{className:"private-memo-toggle",children:[(0,qt.jsx)("input",{type:"checkbox",checked:c,onChange:e=>h(e.target.checked)}),(0,qt.jsx)("span",{className:"private-icon",children:"\ud83d\udd12"}),(0,qt.jsx)("span",{children:"\ub098\ub9cc \ubcf4\uae30"})]})}),(0,qt.jsxs)("div",{className:"memoInput",children:[(0,qt.jsx)("textarea",{value:yN(u),onChange:e=>p(e.target.value),placeholder:"\uc774 \ud50c\ub808\uc774\uc5d0 \ub300\ud55c \uba54\ubaa8\ub97c \uc791\uc131\ud558\uc138\uc694..."}),(0,qt.jsx)("div",{className:"memoActions",children:(0,qt.jsxs)("button",{className:"memoSaveBtn",onClick:async()=>{const e=yN(u);if(vN(e)&&i&&a&&l&&!f)try{v(!0);const t={gameKey:i,clipKey:a,content:e,isPrivate:c},n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut();const n=await fetch("".concat(jt).concat(gN),{method:"POST",headers:mN(t),body:JSON.stringify(e)}),s=await pN(n);if(console.log("createMemo response data:",s),n.ok||201===n.status)return s;throw new uN("object"===typeof s&&s.message||"\uba54\ubaa8 \uc791\uc131 \uc2e4\ud328",n.status,s)}(t,l),s=null===n||void 0===n?void 0:n.memo;g(t=>{const n=[...t,null!==s&&void 0!==s?s:{_id:"tmp-".concat(Date.now()),gameKey:i,clipKey:a,content:e,isPrivate:c,createdAt:(new Date).toISOString()}];return n.sort((e,t)=>new Date(t.updatedAt||t.createdAt||0)-new Date(e.updatedAt||e.createdAt||0)),n}),p("")}catch(Cw){console.error("\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328:",Cw),alert((null===Cw||void 0===Cw?void 0:Cw.message)||"\uba54\ubaa8 \uc800\uc7a5 \uc2e4\ud328")}finally{v(!1)}},disabled:f||!vN(yN(u))||!l,children:[(0,qt.jsx)(cb,{})," ",c?"\uac1c\uc778 \uba54\ubaa8 \uc800\uc7a5":"\ud300 \uba54\ubaa8 \uc800\uc7a5"]})})]})]}),(0,qt.jsx)("div",{className:"memo-resize-handle",onMouseDown:e=>{e.preventDefault(),E(!0)},style:{cursor:"col-resize"}}),(0,qt.jsx)("div",{className:"memo-list-column",children:m.length>0?(0,qt.jsxs)("div",{className:"memoList",children:[(0,qt.jsx)("div",{className:"memoListHeader",children:(0,qt.jsxs)("h4",{children:["\uc800\uc7a5\ub41c \uba54\ubaa8 (",m.length,")"]})}),(0,qt.jsx)("div",{className:"memo-list-scroll",children:m.map(e=>{var t;const n=b===e._id;return(0,qt.jsxs)("div",{className:"memoItem",children:[(0,qt.jsxs)("div",{className:"memoItemTop",children:[(0,qt.jsx)("div",{className:"memoAuthorRow",children:(0,qt.jsxs)("div",{className:"memoAuthorDetails",children:[(0,qt.jsx)("span",{className:"memoAuthor",children:e.userName||(null===(t=e.user)||void 0===t?void 0:t.name)||"\uc0ac\uc6a9\uc790"}),(0,qt.jsx)("span",{className:"memoDate",children:new Date(e.createdAt||e.updatedAt||Date.now()).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})}),(0,qt.jsxs)("div",{className:"memoItemActions",children:[e.isPrivate?(0,qt.jsx)("span",{className:"memoTypeBadge private",children:"\ud83d\udd12"}):(0,qt.jsx)("span",{className:"memoTypeBadge team",children:"\ud83d\udc65"}),n?(0,qt.jsxs)("div",{className:"memoEditActions",children:[(0,qt.jsx)("button",{className:"memoActionBtn save",onClick:()=>O(e),disabled:k,title:"\uc218\uc815 \uc800\uc7a5",children:"\uc800\uc7a5"}),(0,qt.jsx)("button",{className:"memoActionBtn cancel",onClick:M,disabled:k,title:"\uc218\uc815 \ucde8\uc18c",children:"\ucde8\uc18c"})]}):(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsx)("button",{className:"memoActionBtn edit",onClick:()=>(e=>{w(e._id),S(yN(e.content))})(e),title:"\uba54\ubaa8 \uc218\uc815",children:"\u270f\ufe0f"}),(0,qt.jsx)("button",{className:"memoActionBtn delete",onClick:()=>P(e._id),disabled:y.has(e._id),title:"\uba54\ubaa8 \uc0ad\uc81c",children:(0,qt.jsx)(hb,{size:14})})]})]})]}),n?(0,qt.jsx)("textarea",{className:"memoEditTextarea",value:_,onChange:e=>S(e.target.value),placeholder:"\uba54\ubaa8 \ub0b4\uc6a9\uc744 \uc218\uc815\ud558\uc138\uc694...",disabled:k}):(0,qt.jsx)("div",{className:"memoItemContent",children:yN(e.content)})]},e._id)})})]}):(0,qt.jsxs)("div",{className:"memo-empty-state",children:[(0,qt.jsx)(pw,{}),(0,qt.jsxs)("p",{children:["\uc544\uc9c1 \uc800\uc7a5\ub41c \uba54\ubaa8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),"\uc67c\ucabd\uc5d0\uc11c \uba54\ubaa8\ub97c \uc791\uc131\ud574\ubcf4\uc138\uc694."]})]})})]})]})}):null}class bN extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="APIError",this.status=t,this.data=n}}const wN=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}};async function _N(e){if(!e)return[];const t="".concat(Et.GET_GAMES_BY_TEAM,"/").concat(encodeURIComponent(e)),n=await Sb(t,{method:"GET"}),s=await wN(n);if(console.log(s),!n.ok)throw new bN("object"===typeof s&&s.message||"\ud300 \uacbd\uae30 \uc870\ud68c \uc2e4\ud328",n.status,s);let i=[];return"object"===typeof s&&s.success&&Array.isArray(s.data)?i=s.data:Array.isArray(s)?i=s:s&&"object"===typeof s&&(i=[s]),i.map(e=>{var t,n,s,i;return{gameKey:e.gameKey,date:(e.date||"").slice(0,10),type:e.type||"Season",location:e.location||"",homeId:e.homeTeam,awayId:e.awayTeam,homeScore:null!==(t=null===e||void 0===e||null===(n=e.score)||void 0===n?void 0:n.home)&&void 0!==t?t:0,awayScore:null!==(s=null===e||void 0===e||null===(i=e.score)||void 0===i?void 0:i.away)&&void 0!==s?s:0,length:e.length||"-",report:!!e.report,uploadStatus:e.uploadStatus||"completed"}})}async function SN(e){if(!e)return[];const t="".concat(Et.GET_CLIPS_BY_TEAM,"/").concat(encodeURIComponent(e)),n=await Sb(t,{method:"GET"}),s=await wN(n);if(!n.ok)throw new bN("object"===typeof s&&s.message||"\ud074\ub9bd \uc870\ud68c \uc2e4\ud328",n.status,s);console.log("fetchGameClips data:",s);let i=[];return"object"===typeof s&&s.success&&s.data&&Array.isArray(s.data.Clips)?i=s.data.Clips:Array.isArray(s)&&(i=s),i}function kN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let CN={data:""},AN=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||CN},jN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,TN=/\/\*[^]*?\*\/|  +/g,EN=/\n+/g,NN=(e,t)=>{let n="",s="",i="";for(let a in e){let r=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+r+";":s+="f"==a[1]?NN(r,a):a+"{"+NN(r,"k"==a[1]?"":t)+"}":"object"==typeof r?s+=NN(r,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=r&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=NN.p?NN.p(a,r):a+":"+r+";")}return n+(t&&i?t+"{"+i+"}":i)+s},PN={},MN=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+MN(e[n]);return t}return e};function ON(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,s,i)=>{let a=MN(e),r=PN[a]||(PN[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!PN[r]){let t=a!==e?e:(e=>{let t,n,s=[{}];for(;t=jN.exec(e.replace(TN,""));)t[4]?s.shift():t[3]?(n=t[3].replace(EN," ").trim(),s.unshift(s[0][n]=s[0][n]||{})):s[0][t[1]]=t[2].replace(EN," ").trim();return s[0]})(e);PN[r]=NN(i?{["@keyframes "+r]:t}:t,n?"":"."+r)}let o=n&&PN.g?PN.g:null;return n&&(PN.g=PN[r]),((e,t,n,s)=>{s?t.data=t.data.replace(s,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(PN[r],t,s,o),r})(n.unshift?n.raw?((e,t,n)=>e.reduce((e,s,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":NN(e,""):!1===e?"":e}return e+s+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,AN(t.target),t.g,t.o,t.k)}ON.bind({g:1});let DN,LN,RN,FN=ON.bind({k:1});function IN(e,t){let n=this||{};return function(){let s=arguments;function i(a,r){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:LN&&LN()},o),n.o=/ *go\d+/.test(l),o.className=ON.apply(n,s)+(l?" "+l:""),t&&(o.ref=r);let c=e;return e[0]&&(c=o.as||e,delete o.as),RN&&c[0]&&RN(o),DN(c,o)}return t?t(i):i}}var BN,WN,UN,zN,GN,HN,YN,VN,qN,KN,XN,QN,JN,ZN,$N,eP,tP=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,nP=(()=>{let e=0;return()=>(++e).toString()})(),sP=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),iP="default",aP=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return d(d({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return d(d({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?d(d({},e),t.toast):e)});case 2:let{toast:s}=t;return aP(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return d(d({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?d(d({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?d(d({},e),{},{toasts:[]}):d(d({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return d(d({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return d(d({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>d(d({},e),{},{pauseDuration:e.pauseDuration+a}))})}},rP=[],oP={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},lP={},cP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iP;lP[t]=aP(lP[t]||oP,e),rP.forEach(e=>{let[n,s]=e;n===t&&s(lP[t])})},dP=e=>Object.keys(lP).forEach(t=>cP(e,t)),hP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iP;return t=>{cP(t,e)}},uP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pP=e=>(t,n)=>{let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return d(d({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||nP()})}(t,e,n);return hP(s.toasterId||(e=>Object.keys(lP).find(t=>lP[t].toasts.some(t=>t.id===e)))(s.id))({type:2,toast:s}),s.id},mP=(e,t)=>pP("blank")(e,t);mP.error=pP("error"),mP.success=pP("success"),mP.loading=pP("loading"),mP.custom=pP("custom"),mP.dismiss=(e,t)=>{let n={type:3,toastId:e};t?hP(t)(n):dP(n)},mP.dismissAll=e=>mP.dismiss(void 0,e),mP.remove=(e,t)=>{let n={type:4,toastId:e};t?hP(t)(n):dP(n)},mP.removeAll=e=>mP.remove(void 0,e),mP.promise=(e,t,n)=>{let s=mP.loading(t.loading,d(d({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?tP(t.success,e):void 0;return i?mP.success(i,d(d({id:s},n),null==n?void 0:n.success)):mP.dismiss(s),e}).catch(e=>{let i=t.error?tP(t.error,e):void 0;i?mP.error(i,d(d({id:s},n),null==n?void 0:n.error)):mP.dismiss(s)}),e};var gP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iP,[n,i]=(0,s.useState)(lP[t]||oP),a=(0,s.useRef)(lP[t]);(0,s.useEffect)(()=>(a.current!==lP[t]&&i(lP[t]),rP.push([t,i]),()=>{let e=rP.findIndex(e=>{let[n]=e;return n===t});e>-1&&rP.splice(e,1)}),[t]);let r=n.toasts.map(t=>{var n,s,i;return d(d(d(d({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(s=e[t.type])?void 0:s.duration)||(null==e?void 0:e.duration)||uP[t.type],style:d(d(d({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return d(d({},n),{},{toasts:r})}(e,t),a=(0,s.useRef)(new Map).current,r=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),o({type:4,toastId:e})},t);a.set(e,n)},[]);(0,s.useEffect)(()=>{if(i)return;let e=Date.now(),s=n.map(n=>{if(n.duration===1/0)return;let s=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(s<0))return setTimeout(()=>mP.dismiss(n.id,t),s);n.visible&&mP.dismiss(n.id)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[n,i,t]);let o=(0,s.useCallback)(hP(t),[t]),l=(0,s.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,s.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),h=(0,s.useCallback)(()=>{i&&o({type:6,time:Date.now()})},[i,o]),u=(0,s.useCallback)((e,t)=>{let{reverseOrder:s=!1,gutter:i=8,defaultPosition:a}=t||{},r=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=r.findIndex(t=>t.id===e.id),l=r.filter((e,t)=>t<o&&e.visible).length;return r.filter(e=>e.visible).slice(...s?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)r(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,r]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:h,calculateOffset:u}}},fP=FN(BN||(BN=kN(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),vP=FN(WN||(WN=kN(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),yP=FN(UN||(UN=kN(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),xP=IN("div")(zN||(zN=kN(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",fP,vP,e=>e.secondary||"#fff",yP),bP=FN(GN||(GN=kN(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),wP=IN("div")(HN||(HN=kN(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",bP),_P=FN(YN||(YN=kN(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),SP=FN(VN||(VN=kN(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),kP=IN("div")(qN||(qN=kN(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",_P,SP,e=>e.secondary||"#fff"),CP=IN("div")(KN||(KN=kN(["\n  position: absolute;\n"]))),AP=IN("div")(XN||(XN=kN(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),jP=FN(QN||(QN=kN(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),TP=IN("div")(JN||(JN=kN(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),jP),EP=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:a}=t;return void 0!==n?"string"==typeof n?s.createElement(TP,null,n):n:"blank"===i?null:s.createElement(AP,null,s.createElement(wP,d({},a)),"loading"!==i&&s.createElement(CP,null,"error"===i?s.createElement(xP,d({},a)):s.createElement(kP,d({},a))))},NP=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),PP=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),MP=IN("div")(ZN||(ZN=kN(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),OP=IN("div")($N||($N=kN(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),DP=s.memo(e=>{let{toast:t,position:n,style:i,children:a}=e,r=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[s,i]=sP()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[NP(n),PP(n)];return{animation:t?"".concat(FN(s)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(FN(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=s.createElement(EP,{toast:t}),l=s.createElement(OP,d({},t.ariaProps),tP(t.message,t));return s.createElement(MP,{className:t.className,style:d(d(d({},r),i),t.style)},"function"==typeof a?a({icon:o,message:l}):s.createElement(s.Fragment,null,o,l))});!function(e,t,n,s){NN.p=t,DN=e,LN=n,RN=s}(s.createElement);var LP=e=>{let{id:t,className:n,style:i,onHeightUpdate:a,children:r}=e,o=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return s.createElement("div",{ref:o,className:n,style:i},r)},RP=ON(eP||(eP=kN(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),FP=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:a,children:r,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:h,handlers:u}=gP(i,o);return s.createElement("div",{"data-rht-toaster":o||"",style:d({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},h.map(e=>{let i=e.position||n,o=((e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return d(d({left:0,right:0,display:"flex",position:"absolute",transition:sP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},s),i)})(i,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return s.createElement(LP,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?RP:"",style:o},"custom"===e.type?tP(e.message,e):r?r(e):s.createElement(DP,{toast:e,position:i}))}))},IP=mP;const BP={duration:2600,position:"top-right",className:"gd-toast",style:{width:400,height:100,background:"#111827",color:"#F9FAFB",border:"1px solid #334155",padding:"10px 14px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,.22)",fontWeight:600,letterSpacing:"-0.01em"}},WP=d(d({},BP),{},{iconTheme:{primary:"#10b981",secondary:"#ffffff"}}),UP=d(d({},BP),{},{iconTheme:{primary:"#ef4444",secondary:"#ffffff"},style:d(d({},BP.style),{},{border:"1px solid #ef4444"})}),zP=e=>{let{isVisible:t,onClose:n,clipKey:i,gameKey:a,playType:r}=e;const{user:o}=Qt(),[l,c]=(0,s.useState)({gameKey:"",clipKey:"",playType:r}),[h,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&c({gameKey:a||"",clipKey:i||"",playType:r||""})},[t,a,i,r]);const g=()=>{u(""),n()};return t?(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsx)("div",{className:"gameDataEditOverlay",onClick:g}),(0,qt.jsxs)("div",{className:"gameDataEditModal",children:[(0,qt.jsxs)("div",{className:"gameDataEditHeader",children:[(0,qt.jsx)("h3",{children:"\uacbd\uae30 \ub370\uc774\ud130 \uc218\uc815 \uc694\uccad"}),(0,qt.jsx)("button",{className:"gameDataEditCloseBtn",onClick:g,"aria-label":"\ub2eb\uae30",children:(0,qt.jsx)(rb,{size:24})})]}),(0,qt.jsxs)("div",{className:"gameDataEditContent",children:[(0,qt.jsxs)("div",{className:"gameDataEditRow",children:[(0,qt.jsx)("label",{className:"gameDataEditLabel",children:"\uacbd\uae30 ID"}),(0,qt.jsx)("input",{type:"text",className:"gameDataEditInput",value:l.gameKey,readOnly:!0})]}),(0,qt.jsxs)("div",{className:"gameDataEditRow",children:[(0,qt.jsx)("label",{className:"gameDataEditLabel",children:"\ud074\ub9bd ID"}),(0,qt.jsx)("input",{type:"text",className:"gameDataEditInput",value:l.clipKey,readOnly:!0})]}),(0,qt.jsxs)("div",{className:"gameDataEditRow",children:[(0,qt.jsx)("label",{className:"gameDataEditLabel",children:"\uc218\uc815 \uc694\uccad \uc0ac\ud56d"}),(0,qt.jsx)("textarea",{className:"gameDataEditTextarea",value:h,onChange:e=>u(e.target.value),placeholder:"\uc218\uc815\uc774 \ud544\uc694\ud55c \ub0b4\uc6a9\uc744 \uc0c1\uc138\ud788 \uc791\uc131\ud574\uc8fc\uc138\uc694.",rows:6})]})]}),(0,qt.jsx)("div",{className:"gameDataEditActions",children:(0,qt.jsx)("button",{className:"gameDataEditSubmitBtn",onClick:async()=>{var e,t,s;const i=h.trim();if(!i)return void alert("\uc218\uc815 \uc694\uccad \uc0ac\ud56d\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");const a=(null===o||void 0===o?void 0:o.playerID)||"Unknown User",r=null!==(e=null!==(t=null===bb||void 0===bb||null===(s=bb[null===o||void 0===o?void 0:o.teamName])||void 0===s?void 0:s.name)&&void 0!==t?t:null===o||void 0===o?void 0:o.team)&&void 0!==e?e:"",c=(null===o||void 0===o?void 0:o.role)||(null!==o&&void 0!==o&&o.isAdmin?"admin":"player");try{m(!0);const e=IP.loading("\uc804\uc1a1 \uc911...",BP);await async function(e){let{gameKey:t,clipKey:n,requesterName:s,requesterTeam:i,requesterRole:a,reason:r}=e;if(!t||!n)throw new bN("gameKey/clipKey\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.",400);if(!r)throw new bN("reason(\uc694\uccad \ub0b4\uc6a9)\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",400);const o="".concat(Et.REQUEST_EDIT),l=await Sb(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameKey:t,clipKey:n,requesterName:s,requesterTeam:i,requesterRole:a,reason:r})}),c=await wN(l);if(l.ok)return c||{success:!0};throw new bN("object"===typeof c&&c.message||"\uac8c\uc784 \ub370\uc774\ud130 \uc218\uc815 \uc694\uccad \uc2e4\ud328",l.status,c)}({gameKey:l.gameKey,clipKey:"".concat(l.gameKey,"_").concat(l.clipKey,"_").concat(l.playType),requesterName:a,requesterTeam:r,requesterRole:c,reason:i}),IP.success("\uc218\uc815 \uc694\uccad\uc774 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",d(d({},WP),{},{id:e})),u(""),n()}catch(p){console.error("\uc218\uc815 \uc694\uccad \uc804\uc1a1 \uc2e4\ud328:",p),IP.error((null===p||void 0===p?void 0:p.message)||"\uc218\uc815 \uc694\uccad \uc804\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",UP)}finally{m(!1)}},disabled:p||!h.trim(),children:p?"\uc804\uc1a1 \uc911...":"\uc218\uc815 \uc694\uccad"})})]})]}):null};function GP(e){let{isVisible:t,onClose:n}=e;console.log("VideoSettingModal \ub80c\ub354\ub9c1\ub428");const{settings:i,updateSetting:a,updateHotkey:r,resetSettings:o}=ww(),[l,c]=(0,s.useState)(null),d=(0,s.useRef)(null),[h,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=e=>"Escape"===e.key&&(null===n||void 0===n?void 0:n());return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),(0,s.useEffect)(()=>{d.current&&(d.current.playbackRate=i.playbackRate)},[i.playbackRate]);const p=(e,t)=>{t.preventDefault();const n=t.key.toUpperCase();1===n.length&&/[A-Z0-9]/.test(n)&&(r(e,n),c(null))};return t?(0,fb.createPortal)((0,qt.jsx)("div",{className:"vs-overlay",onClick:n,children:(0,qt.jsx)("div",{className:"vs-modal",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true","aria-label":"\ube44\ub514\uc624 \uc124\uc815",children:(0,qt.jsx)("div",{className:"settings-page-container",children:(0,qt.jsxs)("div",{className:"settings-panel",children:[(0,qt.jsxs)("div",{className:"settings-section video-settings-section",children:[(0,qt.jsxs)("div",{className:"vs-top",children:[(0,qt.jsxs)("div",{className:"section-header",children:[(0,qt.jsx)("span",{className:"section-number",children:"1"}),(0,qt.jsx)("h4",{children:"\ube44\ub514\uc624"})]}),(0,qt.jsx)(ab,{className:"vs-close",onClick:n})]}),(0,qt.jsxs)("div",{className:"section-description",children:[(0,qt.jsxs)("div",{className:"test-video-container",children:[(0,qt.jsx)("label",{children:"\ud14c\uc2a4\ud2b8 \uc601\uc0c1 \uc7ac\uc0dd"}),(0,qt.jsxs)("div",{className:"video-player-frame",children:[(0,qt.jsx)("video",{ref:d,src:"https://www.pexels.com/ko-kr/download/video/9441427/",controls:!1}),(0,qt.jsx)("button",{className:"play-button",onClick:()=>{d.current&&(h?d.current.pause():d.current.play(),u(e=>!e))},children:(0,qt.jsx)(lb,{size:48})})]})]}),(0,qt.jsxs)("div",{className:"settings-row",children:[(0,qt.jsxs)("div",{className:"setting-item",children:[(0,qt.jsx)("label",{children:"\uc601\uc0c1 \uc7ac\uc0dd \uc18d\ub3c4 \uc81c\uc5b4"}),(0,qt.jsxs)("div",{className:"slider-control",children:[(0,qt.jsx)("span",{children:"0.1X"}),(0,qt.jsx)("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:i.playbackRate,onChange:e=>a("playbackRate",parseFloat(e.target.value))}),(0,qt.jsx)("span",{children:"2X"})]})]}),(0,qt.jsxs)("div",{className:"setting-item",children:[(0,qt.jsx)("label",{children:"\uc601\uc0c1 \uac74\ub108\ub6f0\uae30 \uc2dc\uac04 \uc870\uc808"}),(0,qt.jsxs)("div",{className:"slider-control",children:[(0,qt.jsx)("span",{children:"0.1\ucd08"}),(0,qt.jsx)("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:i.skipTime,onChange:e=>a("skipTime",parseFloat(e.target.value))}),(0,qt.jsx)("span",{children:"2\ucd08"})]})]}),(0,qt.jsx)("button",{className:"save-button",onClick:n,children:"\uc800\uc7a5"})]})]})]}),(0,qt.jsxs)("div",{className:"settings-section interface-settings-section",children:[(0,qt.jsx)("div",{className:"vs-top",children:(0,qt.jsxs)("div",{className:"section-header",children:[(0,qt.jsx)("span",{className:"section-number",children:"2"}),(0,qt.jsx)("h4",{children:"\uc778\ud130\ud398\uc774\uc2a4"})]})}),(0,qt.jsxs)("div",{className:"settings-row",children:[(0,qt.jsxs)("div",{className:"setting-item",style:{display:"flex",gap:"25px"},children:[(0,qt.jsx)("label",{children:"\uc5b8\uc5b4 \uc124\uc815"}),(0,qt.jsxs)("select",{value:i.language,onChange:e=>a("language",e.target.value),style:{padding:"20px 30px",textSize:"24px"},children:[(0,qt.jsx)("option",{value:"ko",children:"\ud55c\uad6d\uc5b4"}),(0,qt.jsx)("option",{value:"en",children:"English"})]})]}),(0,qt.jsxs)("div",{className:"setting-item",style:{display:"flex",gap:"25px"},children:[(0,qt.jsx)("label",{children:"\ud654\uba74 \ube44\uc728 \uc124\uc815"}),(0,qt.jsxs)("select",{value:i.screenRatio,onChange:e=>a("screenRatio",e.target.value),style:{padding:"20px 30px",textSize:"24px"},children:[(0,qt.jsx)("option",{value:"1920:1080",children:"1920:1080"}),(0,qt.jsx)("option",{value:"1280:720",children:"1280:720"})]})]}),(0,qt.jsxs)("div",{className:"setting-item initial-screen-item",children:[(0,qt.jsx)("label",{children:"\ucd08\uae30\ud654\uba74 \uc124\uc815"}),(0,qt.jsxs)("div",{className:"initial-screen-settings",children:[(0,qt.jsx)("span",{children:"\ub9ac\uadf8 \ud300 \uc21c\uc704:"}),(0,qt.jsxs)("select",{value:i.leaguePosition,onChange:e=>a("leaguePosition",parseInt(e.target.value)),children:[(0,qt.jsx)("option",{value:1,children:"1\ubd80"}),(0,qt.jsx)("option",{value:2,children:"2\ubd80"})]}),(0,qt.jsx)("span",{children:"\ub9ac\uadf8 \ud3ec\uc9c0\uc158 \uc21c\uc704:"}),(0,qt.jsxs)("select",{value:i.teamRank,onChange:e=>a("teamRank",parseInt(e.target.value)),children:[(0,qt.jsx)("option",{value:1,children:"1\ubd80"}),(0,qt.jsx)("option",{value:2,children:"2\ubd80"})]})]})]})]})]}),(0,qt.jsxs)("div",{className:"settings-section hotkey-settings-section",children:[(0,qt.jsx)("div",{className:"vs-top",children:(0,qt.jsxs)("div",{className:"section-header",children:[(0,qt.jsx)("span",{className:"section-number",children:"3"}),(0,qt.jsx)("h4",{children:"\ub2e8\ucd95\ud0a4 \uc124\uc815"})]})}),(0,qt.jsxs)("div",{className:"hotkey-grid",children:[(0,qt.jsxs)("div",{className:"hotkey-item",children:[(0,qt.jsx)("label",{children:"\uc55e\uc73c\ub85c \ub118\uae30\uae30:"}),(0,qt.jsx)("input",{type:"text",value:"forward"===l?"Press a key...":i.hotkeys.forward,readOnly:!0,onFocus:()=>c("forward"),onBlur:()=>c(null),onKeyDown:e=>p("forward",e)})]}),(0,qt.jsxs)("div",{className:"hotkey-item",children:[(0,qt.jsx)("label",{children:"\ub4a4\ub85c \ub118\uae30\uae30:"}),(0,qt.jsx)("input",{type:"text",value:"backward"===l?"Press a key...":i.hotkeys.backward,readOnly:!0,onFocus:()=>c("backward"),onBlur:()=>c(null),onKeyDown:e=>p("backward",e)})]}),(0,qt.jsxs)("div",{className:"hotkey-item",children:[(0,qt.jsx)("label",{children:"\ub2e4\uc74c \uc601\uc0c1 \uc7ac\uc0dd:"}),(0,qt.jsx)("input",{type:"text",value:"nextVideo"===l?"Press a key...":i.hotkeys.nextVideo,readOnly:!0,onFocus:()=>c("nextVideo"),onBlur:()=>c(null),onKeyDown:e=>p("nextVideo",e)})]}),(0,qt.jsxs)("div",{className:"hotkey-item",children:[(0,qt.jsx)("label",{children:"\uc774\uc804 \uc601\uc0c1 \uc7ac\uc0dd:"}),(0,qt.jsx)("input",{type:"text",value:"prevVideo"===l?"Press a key...":i.hotkeys.prevVideo,readOnly:!0,onFocus:()=>c("prevVideo"),onBlur:()=>c(null),onKeyDown:e=>p("prevVideo",e)})]})]}),(0,qt.jsxs)("div",{className:"settings-buttons",children:[(0,qt.jsx)("button",{className:"cancel-button",onClick:o,children:"\ucde8\uc18c"}),(0,qt.jsx)("button",{className:"primary-button",onClick:n,children:"\uc124\uc815 \uc800\uc7a5"})]})]})]})})})}),document.body):null}function HP(e){let{label:t,summary:n,isOpen:i,onToggle:a,onClose:r,children:o}=e;const l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&(null===r||void 0===r||r())};return i&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r,i]),(0,qt.jsxs)("div",{className:"ff-dropdown",ref:l,style:{marginBottom:"8px"},children:[(0,qt.jsxs)("button",{type:"button",className:"ff-dd-btn ".concat(i?"open":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},children:[(0,qt.jsx)("span",{className:"ff-dd-label",children:n||t}),(0,qt.jsx)("span",{className:"ff-dd-icon",children:"\u25be"})]}),i&&(0,qt.jsx)("div",{className:"ff-dd-menu",role:"menu",children:o})]})}const YP={RUN:"\ub7f0",PASS:"\ud328\uc2a4",RETURN:"\ub9ac\ud134",PUNT:"\ud380\ud2b8",FG:"FG",SACK:"\uc0c9",NOPASS:"\ud328\uc2a4"},VP={TOUCHDOWN:"\ud130\uce58\ub2e4\uc6b4",TWOPTCONVGOOD:"2PT \uc131\uacf5",TWOPTCONVNOGOOD:"2PT \uc2e4\ud328",PATGOOD:"PAT \uc131\uacf5",PATNOGOOD:"PAT \uc2e4\ud328",FIELDGOALGOOD:"FG \uc131\uacf5",FIELDGOALNOGOOD:"FG \uc2e4\ud328","PENALTY.OFF":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","PENALTY.DEF":"\uc218\ube44\ud300 \ud398\ub110\ud2f0",SACK:"\uc0c9",TFL:"TFL",FUMBLE:"\ud38c\ube14",FUMBLERECOFF:"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac",FUMBLERECDEF:"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac",INTERCEPT:"\uc778\ud130\uc149\ud2b8",TURNOVER:"\ud134\uc624\ubc84",SAFETY:"\uc138\uc774\ud504\ud2f0"},qP={"2PT \uc131\uacf5":"2PT \uc2e4\ud328","2PT \uc2e4\ud328":"2PT \uc131\uacf5","PAT \uc131\uacf5":"PAT \uc2e4\ud328","PAT \uc2e4\ud328":"PAT \uc131\uacf5","FG \uc131\uacf5":"FG \uc2e4\ud328","FG \uc2e4\ud328":"FG \uc131\uacf5","\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0","\uc218\ube44\ud300 \ud398\ub110\ud2f0":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac","\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac"},KP={TPT:"2PT",KICKOFF:"\ud0a5\uc624\ud504",PAT:"PAT"},XP=e=>{var t,n;if(!e)return"";const s=String(e.playType||"").trim().toUpperCase(),i=null!==(t=null===(n=e.raw)||void 0===n?void 0:n.down)&&void 0!==t?t:e.down,a=null!=i?String(i).trim().toUpperCase():"";if(KP[a])return KP[a];if(KP[s])return KP[s];const r="number"===typeof e.down?e.down:Number.isFinite(parseInt(a,10))?parseInt(a,10):null;if(null!=r){var o;const t=null!==(o=e.yardsToGo)&&void 0!==o?o:0;return"".concat(r," & ").concat(t)}return""};function QP(e){var t,n,i,a,r,o,l,c,h;let{stateData:u}=e;const p=fe(),{settings:m}=ww(),g=(0,s.useRef)(null),[f,v]=(0,s.useState)(!1),[y,x]=(0,s.useState)(.6),{token:b}=Qt(),w=(0,s.useRef)(null),[_,S]=(0,s.useState)(!1),{gameKey:k,rawClips:C,initialFilters:A,teamOptions:j,teamMeta:T,initialPlayId:E}=u,N=(0,s.useMemo)(()=>({rawClips:C||[],initialFilters:A||{},teamOptions:j||[],opposites:qP,significantPlayField:"displaySignificantPlays",persistKey:"videoPlayerFilters:".concat((null===T||void 0===T?void 0:T.homeName)||"default")}),[C,A,j,null===T||void 0===T?void 0:T.homeName]),{clips:P=[],filters:M={},setFilters:O=()=>{},summaries:D={},handleFilterChange:L=()=>{},clearAllFilters:R=()=>{}}=Sw(N),F=(0,s.useRef)(null),I=(0,s.useRef)(!1),[B,W]=(0,s.useState)(!1),[U,z]=(0,s.useState)(null),[G,H]=(0,s.useState)(!1),[Y,V]=(0,s.useState)(!1),[q,K]=(0,s.useState)(!0),[X,Q]=(0,s.useState)(0),[J,Z]=(0,s.useState)(0),[$,ee]=(0,s.useState)(null),[te,ne]=(0,s.useState)(!1),[se,ie]=(0,s.useState)(()=>{const e=localStorage.getItem("videoMemos:".concat(null===T||void 0===T?void 0:T.gameId));return e?JSON.parse(e):{}}),[ae,re]=(0,s.useState)({}),[oe,le]=(0,s.useState)({visible:!1,x:0,y:0}),ce=(0,s.useRef)(null),[de,he]=(0,s.useState)(!1),[ue,pe]=(0,s.useState)(!1),me=(0,s.useRef)(!1);(0,s.useEffect)(()=>{if(!me.current&&P&&P.length>0){const e=E&&P.find(e=>String(e.clipKey)===String(E)),t=String(e?e.id:P[0].id);z(t),me.current=!0}},[P,E]),(0,s.useEffect)(()=>{if(!U||!P||0===P.length)return;const e=P.some(e=>String(e.id)===String(U));!e&&P.length>0&&(z(String(P[0].id)),H(!1),V(!1),K(!0),Z(0),Q(0))},[P,U]),(0,s.useEffect)(()=>{if(!k||!b)return;(async()=>{try{const e=await fN({gameKey:k},b),t=(Array.isArray(null===e||void 0===e?void 0:e.memos)?e.memos:[]).reduce((e,t)=>{const n=t.clipKey;return n&&(e[n]=(e[n]||0)+1),e},{});re(t)}catch(Cw){console.error("\uc804\uccb4 \uba54\ubaa8 \uac1c\uc218 \uc870\ud68c \ubc0f \uac00\uacf5 \uc2e4\ud328:",Cw),re({})}})()},[k,b]);const ge=(0,s.useCallback)((e,t)=>{e&&re(n=>d(d({},n),{},{[e]:t}))},[]);(0,s.useEffect)(()=>{w.current&&(w.current.volume=y)},[y,U]);const ve=(0,s.useCallback)(()=>{const e=g.current;var t,n,s;document.fullscreenElement?null===(t=(n=document).exitFullscreen)||void 0===t||t.call(n).then(()=>v(!1)).catch(()=>{}):null===e||void 0===e||null===(s=e.requestFullscreen)||void 0===s||s.call(e).then(()=>v(!0)).catch(()=>{})},[]);(0,s.useEffect)(()=>{const e=()=>v(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const ye=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),le({visible:!0,x:e.clientX,y:e.clientY})},[]),xe=(0,s.useCallback)(()=>le({visible:!1,x:0,y:0}),[]),be=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),pe(!0),xe()},[xe]),we=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),he(!0),xe()},[xe]);(0,s.useEffect)(()=>{if(!oe.visible)return;const e=e=>{ce.current&&ce.current.contains(e.target)||xe()};document.addEventListener("mousedown",e,!0),document.addEventListener("contextmenu",e,!0);const t=e=>{"Escape"===e.key&&xe()};return document.addEventListener("keydown",t,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("contextmenu",e,!0),document.removeEventListener("keydown",t,!0)}},[oe.visible,xe]);const _e=(0,s.useCallback)(()=>ee(null),[]),Se=(0,s.useCallback)(e=>{ee(t=>t===e?null:e)},[]),ke=(0,s.useMemo)(()=>P.find(e=>String(e.id)===U)||null,[P,U]),Ce=ae[(null===ke||void 0===ke?void 0:ke.clipKey)||U]||0,Ae=!!ke&&!ke.clipUrl,je=(0,s.useCallback)(e=>String(e)===U,[U]);(0,s.useEffect)(()=>{ke&&ke.clipUrl&&w.current&&w.current.load()},[null===ke||void 0===ke?void 0:ke.clipUrl]);const Te=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=String(e);n!==U&&(z(n),t.autoplay&&(I.current=!0),H(!1),V(!1),K(!0),Z(0),Q(0))},[U]),Ee=(0,s.useMemo)(()=>{if(!U||!P||0===P.length)return null;const e=P.findIndex(e=>String(e.id)===String(U));return-1===e?null:{current:e+1,total:P.length,isFirst:0===e,isLast:e===P.length-1}},[U,P]),Ne=(0,s.useCallback)(()=>{if(!Ee||Ee.isLast)return;const e=P[Ee.current];e&&Te(e.id,{autoplay:!0})},[P,Ee,Te]),Pe=(0,s.useCallback)(()=>{if(!Ee||Ee.isFirst)return;const e=P[Ee.current-2];e&&Te(e.id,{autoplay:!0})},[P,Ee,Te]);(0,s.useEffect)(()=>{const e=w.current;e&&(e.playbackRate=m.playbackRate)},[m.playbackRate,U]),(0,s.useEffect)(()=>{const e=w.current;if(!e)return;const t=()=>{Q(e.duration||0),K(!1),V(!1),Z(e.currentTime||0)},n=()=>Z(e.currentTime||0),s=()=>{H(!1),m.autoNext&&Ne()},i=()=>{V(!0),K(!1)},a=()=>{K(!1),I.current&&(I.current=!1,e.play().then(()=>H(!0)).catch(()=>{}))},r=()=>K(!0);return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",s),e.addEventListener("error",i),e.addEventListener("canplay",a),e.addEventListener("loadstart",r),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",s),e.removeEventListener("error",i),e.removeEventListener("canplay",a),e.removeEventListener("loadstart",r)}},[U,Ne,m.autoNext]);const Me=(0,s.useCallback)(()=>{const e=w.current;e&&!Y&&ke&&(G?(e.pause(),H(!1)):e.play().then(()=>H(!0)).catch(()=>V(!0)))},[G,Y,ke]),Oe=(0,s.useCallback)(e=>{const t=w.current;t&&!Y&&0!==X&&(t.currentTime=Math.max(0,Math.min(X,t.currentTime+e)))},[X,Y]),De=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Me()},[Me]),Le=(0,s.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),Oe(t)},[Oe]),Re=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Ne()},[Ne]),Fe=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Pe()},[Pe]),Ie=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation();const t=w.current,n=F.current;if(!t||!n||Y||0===X)return;const s=n.getBoundingClientRect(),i=e.clientX-s.left,a=s.width-20,r=Math.max(0,Math.min(a,i-10));t.currentTime=r/a*X},[X,Y]),Be=(0,s.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),!w.current||!F.current||Y||0===X)return;Ie(e);const t=e=>{e.preventDefault(),e.stopPropagation(),Ie(e)},n=()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)},[X,Y,Ie]);(0,s.useEffect)(()=>{const e=e=>{var t,n,s,i,a,r,o,l,c,d,h,u,p,g,f;if(te||"INPUT"===(null===(t=e.target)||void 0===t?void 0:t.tagName)||"TEXTAREA"===(null===(n=e.target)||void 0===n?void 0:n.tagName)||null!==(s=e.target)&&void 0!==s&&s.isContentEditable)return;if(e.defaultPrevented)return;const v=e.key.toUpperCase(),y=(null===m||void 0===m||null===(i=m.hotkeys)||void 0===i||null===(a=i.backward)||void 0===a||null===(r=a.toUpperCase)||void 0===r?void 0:r.call(a))||"A",x=(null===m||void 0===m||null===(o=m.hotkeys)||void 0===o||null===(l=o.forward)||void 0===l||null===(c=l.toUpperCase)||void 0===c?void 0:c.call(l))||"D",b=(null===m||void 0===m||null===(d=m.hotkeys)||void 0===d||null===(h=d.nextVideo)||void 0===h||null===(u=h.toUpperCase)||void 0===u?void 0:u.call(h))||"N",w=(null===m||void 0===m||null===(p=m.hotkeys)||void 0===p||null===(g=p.prevVideo)||void 0===g||null===(f=g.toUpperCase)||void 0===f?void 0:f.call(g))||"M";let _=!1;" "!==v||e.repeat?v===y?(e.preventDefault(),e.stopPropagation(),Oe(-m.skipTime),_=!0):v===x?(e.preventDefault(),e.stopPropagation(),Oe(m.skipTime),_=!0):v===b?(e.preventDefault(),e.stopPropagation(),Ne(),_=!0):v===w&&(e.preventDefault(),e.stopPropagation(),Pe(),_=!0):(e.preventDefault(),e.stopPropagation(),Me(),_=!0),_&&e.stopImmediatePropagation()};return document.addEventListener("keydown",e,{capture:!0}),()=>document.removeEventListener("keydown",e,{capture:!0})},[Me,Oe,m,te,Ne,Pe]);const We=e=>{if(isNaN(e)||null===e)return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(String(n).padStart(2,"0"))},Ue=(0,s.useMemo)(()=>ke?XP(ke):"",[ke]),ze=(null===T||void 0===T?void 0:T.homeName)||"Home",Ge=(null===T||void 0===T?void 0:T.awayName)||"Away",He=(null===T||void 0===T?void 0:T.homeLogo)||null,Ye=(null===T||void 0===T?void 0:T.awayLogo)||null,Ve=null!==(t=null!==(n=null===ke||void 0===ke||null===(i=ke.StartScore)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.Home)&&void 0!==n?n:null===ke||void 0===ke?void 0:ke.scoreHome)&&void 0!==t?t:0,qe=null!==(r=null!==(o=null===ke||void 0===ke||null===(l=ke.StartScore)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.Away)&&void 0!==o?o:null===ke||void 0===ke?void 0:ke.scoreAway)&&void 0!==r?r:0,Ke=null!==(h=null===ke||void 0===ke?void 0:ke.quarter)&&void 0!==h?h:1,Xe=D.team,Qe=D.quarter,Je=M.playType?YP[M.playType]:"\uc720\ud615",Ze=D.significant,$e=(0,s.useCallback)(e=>{e.stopPropagation()},[]);return(0,qt.jsxs)("div",{className:"videoPlayerPage ".concat(_?"pencil-active":""),children:[(0,qt.jsxs)("div",{className:"player-main-content",children:[(0,qt.jsxs)("div",{className:"videoContainer",ref:g,onClick:$e,children:[(0,qt.jsx)("button",{className:"videoBackButton",onClick:e=>{e.preventDefault(),e.stopPropagation(),p(-1)},children:(0,qt.jsx)(rb,{size:24})}),(0,qt.jsx)("button",{className:"videoModalToggleButton",onClick:e=>{e.preventDefault(),e.stopPropagation(),W(e=>!e)},children:(0,qt.jsx)(sw,{size:24})}),(0,qt.jsxs)("div",{className:"videoScoreboard",children:[(0,qt.jsxs)("div",{className:"scoreTeam leftTeam",children:[He?(0,qt.jsx)("img",{src:He,alt:ze,className:"scoreTeamLogo"}):(0,qt.jsx)("div",{className:"scoreTeamLogo placeholder",children:ze[0]}),(0,qt.jsxs)("div",{className:"scoreTeamInfo",children:[(0,qt.jsx)("span",{className:"scoreTeamName",children:ze}),(0,qt.jsx)("span",{className:"scoreTeamScore",children:Ve})]})]}),(0,qt.jsxs)("div",{className:"scoreCenter",children:[(0,qt.jsxs)("div",{className:"scoreQuarter",children:["Q",Ke]}),(0,qt.jsx)("div",{className:"scoreDown",children:Ue})]}),(0,qt.jsxs)("div",{className:"scoreTeam rightTeam",children:[(0,qt.jsxs)("div",{className:"scoreTeamInfo",children:[(0,qt.jsx)("span",{className:"scoreTeamName",children:Ge}),(0,qt.jsx)("span",{className:"scoreTeamScore",children:qe})]}),Ye?(0,qt.jsx)("img",{src:Ye,alt:Ge,className:"scoreTeamLogo"}):(0,qt.jsx)("div",{className:"scoreTeamLogo placeholder",children:Ge[0]})]})]}),(0,qt.jsx)("div",{className:"videoScreen",children:(0,qt.jsx)("div",{className:"videoPlaceholder",children:(0,qt.jsxs)("div",{className:"videoContent",children:[Ae&&(0,qt.jsxs)("div",{className:"videoNoVideoMessage",children:[(0,qt.jsx)("div",{className:"videoNoVideoIcon",children:"\ud83c\udfac"}),(0,qt.jsx)("div",{className:"videoNoVideoText",children:"\ube44\ub514\uc624\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]}),!ke&&0===P.length&&(0,qt.jsxs)("div",{className:"videoNoVideoMessage",children:[(0,qt.jsx)("div",{className:"videoNoVideoIcon",children:"\ud83e\uddd0"}),(0,qt.jsx)("div",{className:"videoNoVideoText",children:"\ud45c\uc2dc\ud560 \ud074\ub9bd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]}),ke&&(0,qt.jsxs)(qt.Fragment,{children:[q&&(0,qt.jsx)("div",{className:"videoLoadingMessage",children:"Loading..."}),Y&&(0,qt.jsxs)("div",{className:"videoErrorMessage",children:[(0,qt.jsx)("div",{children:"\ube44\ub514\uc624\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,qt.jsxs)("div",{className:"videoErrorUrl",children:["ID: ",null===ke||void 0===ke?void 0:ke.id]})]}),(0,qt.jsx)("video",{ref:w,className:"videoElement ".concat(q||Y?"hidden":""),src:(null===ke||void 0===ke?void 0:ke.clipUrl)||"",preload:"metadata",controls:!1,crossOrigin:"anonymous",muted:!0,playsInline:!0,autoPlay:!1,onContextMenu:ye},"".concat(null===ke||void 0===ke?void 0:ke.id,"_").concat(null===ke||void 0===ke?void 0:ke.clipUrl))]})]})})}),(0,qt.jsxs)("div",{className:"floatingToolButtons",children:[(0,qt.jsxs)("button",{className:"floatingToolBtn memoBtn",onClick:e=>{e.preventDefault(),e.stopPropagation(),ne(!0)},title:"\uba54\ubaa8 \uc791\uc131",children:[(0,qt.jsx)(pw,{size:24}),Ce>0&&(0,qt.jsx)("span",{className:"memo-badge",children:Ce})]}),(0,qt.jsx)("button",{className:"floatingToolBtn magicPencilBtn",onClick:e=>{e.preventDefault(),e.stopPropagation(),S(e=>!e)},disabled:Y||!ke||Ae,title:"\ub9e4\uc9c1\ud39c\uc2ac",children:(0,qt.jsx)(dw,{size:24})})]}),(0,qt.jsxs)("div",{className:"videoEditorControls",children:[(0,qt.jsxs)("div",{className:"videoControlsTop",children:[(0,qt.jsx)("button",{className:"videoPlayButton",onClick:De,disabled:Y||!ke||Ae,children:G?(0,qt.jsx)(ob,{size:32}):(0,qt.jsx)(lb,{size:32})}),(0,qt.jsxs)("div",{className:"videoFrameNavigation",children:[(0,qt.jsxs)("button",{className:"skipSquare skipSquare--back",onClick:e=>Le(e,-m.skipTime),disabled:Y||!ke,title:"Previous ".concat(m.skipTime,"s (A)"),children:[(0,qt.jsx)(tw,{className:"skipSquare__icon"})," ",(0,qt.jsx)("span",{className:"skipSquare__sec",children:m.skipTime})]}),(0,qt.jsxs)("button",{className:"skipSquare",onClick:e=>Le(e,m.skipTime),disabled:Y||!ke,title:"Next ".concat(m.skipTime,"s (D)"),children:[(0,qt.jsx)(tw,{className:"skipSquare__icon"})," ",(0,qt.jsx)("span",{className:"skipSquare__sec",children:m.skipTime})]}),(0,qt.jsx)("button",{className:"videoFrameStepButton",onClick:Fe,disabled:!ke||!Ee||Ee.isFirst,title:"Previous Clip (M)",children:(0,qt.jsx)(nw,{className:"prevClipIcon",style:{transform:"scaleX(-1)",transformOrigin:"50% 50%"}})}),(0,qt.jsx)("button",{className:"videoFrameStepButton",onClick:Re,disabled:!ke||!Ee||Ee.isLast,title:"Next Clip (N)",children:(0,qt.jsx)(nw,{className:"nextClipIcon"})})]})]}),(0,qt.jsxs)("div",{className:"videoTimelineContainer",children:[(0,qt.jsx)("div",{className:"timeLabel",children:We(J)}),(0,qt.jsxs)("div",{ref:F,className:"ctrl timeline",onMouseDown:Be,role:"slider","aria-valuemin":0,"aria-valuemax":X||0,"aria-valuenow":J||0,children:[(0,qt.jsx)("div",{className:"timelineTrack"}),(0,qt.jsx)("div",{className:"timelineProgress",style:{width:X>0?"".concat(J/X*100,"%"):"0%"}}),(0,qt.jsx)("div",{className:"timelineHandle",style:{left:X>0?"".concat(J/X*100,"%"):"0%"}})]}),(0,qt.jsx)("div",{className:"timeLabel dim",children:We(X)}),(0,qt.jsxs)("div",{className:"volume",children:[(0,qt.jsx)("button",{className:"ctrl volBtn",onClick:()=>x(e=>e>0?0:.6),title:"Mute/Unmute",children:y>0?(0,qt.jsx)(ub,{size:18}):(0,qt.jsx)(pb,{size:18})}),(0,qt.jsx)("input",{className:"volSlider",type:"range",min:"0",max:"1",step:"0.01",value:y,onChange:e=>x(parseFloat(e.target.value))})]}),(0,qt.jsx)("button",{className:"ctrl fsBtn",onClick:ve,title:"Fullscreen",children:f?(0,qt.jsx)($x,{size:18}):(0,qt.jsx)(Zx,{size:18})})]})]})]}),(0,qt.jsxs)("div",{className:"videoSideModal ".concat(B?"open":""),children:[(0,qt.jsx)("div",{className:"videoModalClose",children:(0,qt.jsx)("button",{className:"videoCloseButton",onClick:e=>{e.preventDefault(),e.stopPropagation(),W(!1)},children:(0,qt.jsx)(rb,{size:20})})}),(0,qt.jsxs)("div",{className:"videoModalContent",children:[(0,qt.jsx)("div",{className:"videoMatchInfo",children:(0,qt.jsxs)("div",{className:"videoMatchTeams",children:[(0,qt.jsxs)("div",{className:"videoMatchHome",children:[He?(0,qt.jsx)("img",{src:He,alt:ze,className:"videoTeamLogos"}):(0,qt.jsx)("div",{className:"videoTeamLogos placeholder",children:ze[0]}),(0,qt.jsx)("span",{children:ze})]}),(0,qt.jsx)("div",{children:"VS"}),(0,qt.jsxs)("div",{className:"videoMatchAway",children:[Ye?(0,qt.jsx)("img",{src:Ye,alt:Ge,className:"videoTeamLogos"}):(0,qt.jsx)("div",{className:"videoTeamLogos placeholder",children:Ge[0]}),(0,qt.jsx)("span",{children:Ge})]})]})}),(0,qt.jsxs)("div",{className:"videoFilterControls",onClick:e=>e.stopPropagation(),children:[(0,qt.jsxs)("div",{className:"filterRow",children:[(0,qt.jsxs)(HP,{label:"\ucffc\ud130",summary:Qe,isOpen:"quarter"===$,onToggle:()=>Se("quarter"),onClose:_e,children:[(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.quarter?"":"selected"),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("quarter",null),_e()},children:[" ","\uc804\uccb4"," "]}),[1,2,3,4].map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.quarter===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),L("quarter",e),_e()},children:[" ","Q",e," "]},e))]}),(0,qt.jsxs)(HP,{label:"\uacf5\uaca9\ud300",summary:Xe,isOpen:"team"===$,onToggle:()=>Se("team"),onClose:_e,children:[(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.team?"":"selected"),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("team",null),_e()},children:[" ","\uc804\uccb4"," "]}),j.map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.team===e.value?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),L("team",e.value),_e()},children:[" ",e.logo&&(0,qt.jsx)("img",{className:"ff-dd-avatar",src:e.logo,alt:""})," ",e.label||e.value," "]},e.value))]})]}),(0,qt.jsxs)("div",{className:"filterRow",children:[(0,qt.jsxs)(HP,{label:"\uc720\ud615",summary:Je,isOpen:"playType"===$,onToggle:()=>Se("playType"),onClose:_e,children:[(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.playType?"":"selected"),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("playType",null),_e()},children:[" ","\uc804\uccb4"," "]}),Object.entries(YP).map(e=>{let[t]=e;return(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(M.playType===t?"selected":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("playType",t),_e()},children:[" ",YP[t]||t," "]},t)})]}),(0,qt.jsxs)(HP,{label:"\uc911\uc694\ud50c\ub808\uc774",summary:Ze,isOpen:"significant"===$,onToggle:()=>Se("significant"),onClose:_e,children:[(0,qt.jsx)("div",{className:"ff-dd-section",children:Object.entries(VP).map(e=>{var t;let[n,s]=e;return(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(null!==(t=M.significantPlay)&&void 0!==t&&t.includes(s)?"selected":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("significantPlay",s)},children:[" ",s," "]},n)})}),(0,qt.jsxs)("div",{className:"ff-dd-actions",children:[(0,qt.jsxs)("button",{className:"ff-dd-clear",onClick:e=>{e.preventDefault(),e.stopPropagation(),O(e=>d(d({},e),{},{significantPlay:[]}))},children:[" ","\ubaa8\ub450 \ud574\uc81c"," "]}),(0,qt.jsxs)("button",{className:"ff-dd-close",onClick:e=>{e.preventDefault(),e.stopPropagation(),_e()},children:[" ","\ub2eb\uae30"," "]})]})]})]}),(0,qt.jsx)("div",{className:"filterRow",children:(0,qt.jsxs)("button",{type:"button",className:"videoFilterResetButton",onClick:e=>{e.preventDefault(),e.stopPropagation(),R()},children:[" ","\ucd08\uae30\ud654"," "]})})]}),(0,qt.jsx)("div",{className:"videoPlaysList",children:P.length>0?P.map(e=>(0,qt.jsxs)("div",{className:"clip-row ".concat(je(e.id)?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),Te(e.id,{autoplay:!0})},children:[(0,qt.jsxs)("div",{className:"quarter-name",children:[" ",(0,qt.jsxs)("div",{children:[e.quarter,"Q"]})," "]}),(0,qt.jsxs)("div",{className:"clip-rows",children:[(0,qt.jsxs)("div",{className:"vid-clip-row1",children:[(0,qt.jsx)("div",{className:"clip-down",children:XP(e)}),YP[e.playType]?(0,qt.jsxs)("div",{className:"clip-type",children:["#",YP[e.playType]]}):(0,qt.jsx)("div",{className:"clip-type"})]}),(0,qt.jsxs)("div",{className:"vid-clip-row2",children:[(0,qt.jsx)("div",{className:"clip-oT",children:"Home"===e.offensiveTeam?ze:"Away"===e.offensiveTeam?Ge:e.offensiveTeam}),Array.isArray(e.displaySignificantPlays)&&e.displaySignificantPlays.length>0?(0,qt.jsx)("div",{className:"clip-sig vid",children:e.displaySignificantPlays.map((t,n)=>(0,qt.jsxs)("span",{children:["#",t]},"".concat(e.id,"-sig-").concat(n)))}):(0,qt.jsx)("div",{className:"clip-sig"})]})]})]},e.id)):(0,qt.jsxs)("div",{className:"videoNoPlaysMessage",children:[" ","\uc77c\uce58\ud558\ub294 \ud074\ub9bd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."," "]})})]})]}),B&&(0,qt.jsx)("div",{className:"videoModalOverlay",onClick:e=>{e.preventDefault(),e.stopPropagation(),W(!1)}}),oe.visible&&(0,qt.jsxs)("div",{ref:ce,className:"customContextMenu",style:{position:"fixed",left:"".concat(oe.x,"px"),top:"".concat(oe.y,"px"),zIndex:9999},children:[(0,qt.jsxs)("div",{className:"contextMenuItem",onClick:be,children:[" ","\u2699\ufe0f \uc2dc\uc2a4\ud15c \uc124\uc815"," "]}),(0,qt.jsxs)("div",{className:"contextMenuItem",onClick:we,children:[" ","\ud83d\udcdd \uacbd\uae30\ub370\uc774\ud130 \uc218\uc815"," "]})]}),(0,qt.jsx)(zP,{isVisible:de,onClose:()=>he(!1),clipKey:(null===ke||void 0===ke?void 0:ke.clipKey)||U,gameKey:k,playType:null===ke||void 0===ke?void 0:ke.playType}),(0,qt.jsx)(xN,{isVisible:te,onClose:()=>ne(!1),gameKey:k,clipKey:(null===ke||void 0===ke?void 0:ke.clipKey)||U,teamId:null===T||void 0===T?void 0:T.teamId,playType:null===ke||void 0===ke?void 0:ke.playType,memos:se,onSaveMemo:(e,t,n)=>{ie(s=>{const i=s[n]||{},a="memo_".concat(e),r=d(d({},s),{},{[n]:d(d({},i),{},{[a]:t})});return localStorage.setItem("videoMemos:".concat(null===T||void 0===T?void 0:T.gameId),JSON.stringify(r)),r})},onMemoCountChange:ge,clipInfo:{quarter:Ke,down:null===ke||void 0===ke?void 0:ke.down,yardsToGo:null===ke||void 0===ke?void 0:ke.yardsToGo,playType:null===ke||void 0===ke?void 0:ke.playType,time:We(J)}}),(0,qt.jsx)(GP,{isVisible:ue,onClose:()=>pe(!1)})]}),(0,qt.jsx)(hN,{videoElement:w.current,isVisible:_,onClose:()=>S(!1)})]})}function JP(e){let{}=e;const t=ue(),n=fe();return t.state?(0,qt.jsx)(QP,{stateData:t.state}):(0,qt.jsx)("div",{className:"videoPlayerPage",children:(0,qt.jsx)("div",{className:"videoContainer",style:{justifyContent:"center",alignItems:"center"},children:(0,qt.jsxs)("div",{className:"videoErrorMessage",children:["\ud074\ub9bd \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,qt.jsx)("button",{onClick:()=>n(-1),style:{marginTop:"1rem",cursor:"pointer"},children:"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \ub3cc\uc544\uac00\uae30"})]})})})}const ZP=()=>(0,qt.jsx)("div",{className:"guest-layout",children:(0,qt.jsx)(Le,{})}),$P=e=>String(e||"").replace(/\s+/g,"").toLowerCase();const eM=function(e,t,n){const s=$P(t),i=$P(n);let a=0,r=0;return e.map(e=>{const o=[{Home:a,Away:r}],l=Array.isArray(e.significantPlay)?e.significantPlay:[],c=(e=>{const a=$P(e);return a===s?"home":a===i?"away":a.includes($P(t))?"home":a.includes($P(n))?"away":null})(e.offensiveTeam),h=e=>a+=e,u=e=>r+=e;return l.some(e=>String(e).toUpperCase().includes("TOUCHDOWN"))&&("home"===c?h(6):"away"===c&&u(6)),l.some(e=>String(e).toUpperCase().includes("FIELDGOALGOOD"))&&("home"===c?h(3):"away"===c&&u(3)),l.some(e=>String(e).toUpperCase().includes("PATGOOD"))&&("home"===c?h(1):"away"===c&&u(1)),l.some(e=>String(e).toUpperCase().includes("TWOPT")&&String(e).toUpperCase().includes("GOOD"))&&("home"===c?h(2):"away"===c&&u(2)),d(d({},e),{},{StartScore:o})})}([{id:"1",quarter:1,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:38,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527629/Wide_-_Clip_001_tqkgou.mp4"},{id:"2",quarter:1,playType:"PASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527629/Wide_-_Clip_002_kyogzq.mp4"},{id:"3",quarter:1,playType:"NONE",down:2,yardsToGo:8,significantPlay:["PENALTY.DEF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527629/Wide_-_Clip_003_w098cx.mp4"},{id:"4",quarter:1,playType:"RUN",down:2,yardsToGo:3,significantPlay:["TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-4,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527629/Wide_-_Clip_004_yl6snx.mp4"},{id:"5",quarter:1,playType:"NOPASS",down:3,yardsToGo:7,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527901/Wide_-_Clip_005_t2xnpt.mp4"},{id:"6",quarter:1,playType:"PUNT",down:4,yardsToGo:7,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:37,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527901/Wide_-_Clip_006_ikh58m.mp4"},{id:"7",quarter:1,playType:"NONE",down:1,yardsToGo:10,significantPlay:["PENALTY.DEF"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527901/Wide_-_Clip_007_ijweoq.mp4"},{id:"8",quarter:1,playType:"NONE",down:1,yardsToGo:5,significantPlay:["PENALTY.OFF"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527901/Wide_-_Clip_008_y0b2on.mp4"},{id:"9",quarter:1,playType:"RUN",down:1,yardsToGo:10,significantPlay:["TFL"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:-1,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527903/Wide_-_Clip_009_bm1mvg.mp4"},{id:"10",quarter:1,playType:"NOPASS",down:2,yardsToGo:11,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527902/Wide_-_Clip_010_mzcs98.mp4"},{id:"11",quarter:1,playType:"NOPASS",down:3,yardsToGo:11,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527903/Wide_-_Clip_011_v8iz0y.mp4"},{id:"12",quarter:1,playType:"PUNT",down:4,yardsToGo:11,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:10,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527904/Wide_-_Clip_012_lboqeh.mp4"},{id:"13",quarter:1,playType:"NONE",down:1,yardsToGo:10,significantPlay:["PENALTY.OFF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527905/Wide_-_Clip_013_ova1b1.mp4"},{id:"15",quarter:1,playType:"SACK",down:1,yardsToGo:15,significantPlay:["SACK","TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-10,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527905/Wide_-_Clip_015_g7izzr.mp4"},{id:"16",quarter:1,playType:"PASS",down:2,yardsToGo:25,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527906/Wide_-_Clip_016_e2nwgl.mp4"},{id:"17",quarter:1,playType:"NOPASS",down:3,yardsToGo:23,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527906/Wide_-_Clip_017_dlhqlo.mp4"},{id:"18",quarter:1,playType:"PUNT",down:4,yardsToGo:23,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:30,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527907/Wide_-_Clip_018_rdrih1.mp4"},{id:"19",quarter:1,playType:"RUN",down:1,yardsToGo:10,significantPlay:["TFL"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:-2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527908/Wide_-_Clip_019_ws0ddh.mp4"},{id:"20",quarter:1,playType:"NOPASS",down:2,yardsToGo:12,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527908/Wide_-_Clip_020_cj2alg.mp4"},{id:"21",quarter:1,playType:"PASS",down:3,yardsToGo:12,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527957/Wide_-_Clip_021_xesxrh.mp4"},{id:"22",quarter:1,playType:"PUNT",down:4,yardsToGo:7,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:41,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527958/Wide_-_Clip_022_lgp2du.mp4"},{id:"23",quarter:1,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527958/Wide_-_Clip_023_skx2cl.mp4"},{id:"24",quarter:1,playType:"NONE",down:2,yardsToGo:10,significantPlay:["PENALTY.OFF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527958/Wide_-_Clip_024_o1y4kg.mp4"},{id:"26",quarter:1,playType:"RUN",down:1,yardsToGo:10,significantPlay:["FUMBLE","TURNOVER"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-7,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527959/Wide_-_Clip_026_jhoele.mp4"},{id:"27",quarter:1,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527959/Wide_-_Clip_027_x23zzh.mp4"},{id:"28",quarter:1,playType:"RUN",down:2,yardsToGo:10,significantPlay:["TFL"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:-5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527960/Wide_-_Clip_028_gozawd.mp4"},{id:"29",quarter:1,playType:"PASS",down:3,yardsToGo:15,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527961/Wide_-_Clip_029_vvzooq.mp4"},{id:"31",quarter:2,playType:"PUNT",down:4,yardsToGo:13,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:26,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527962/Wide_-_Clip_031_vm2czk.mp4"},{id:"32",quarter:2,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:26,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527963/Wide_-_Clip_032_cpyvzh.mp4"},{id:"33",quarter:2,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:11,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527962/Wide_-_Clip_033_akcbmu.mp4"},{id:"34",quarter:2,playType:"SACK",down:1,yardsToGo:10,significantPlay:["SACK","TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-6,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527963/Wide_-_Clip_034_l0dlua.mp4"},{id:"35",quarter:2,playType:"PASS",down:2,yardsToGo:16,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:3,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527964/Wide_-_Clip_035_smikfj.mp4"},{id:"36",quarter:2,playType:"PASS",down:3,yardsToGo:13,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:6,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527965/Wide_-_Clip_036_r7pzar.mp4"},{id:"37",quarter:2,playType:"PASS",down:4,yardsToGo:7,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:13,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527965/Wide_-_Clip_037_sylygh.mp4"},{id:"38",quarter:2,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527967/Wide_-_Clip_038_vgzjau.mp4"},{id:"39",quarter:2,playType:"NONE",down:2,yardsToGo:15,significantPlay:["PENALTY.OFF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757527966/Wide_-_Clip_039_tflnmk.mp4"},{id:"41",quarter:2,playType:"RUN",down:2,yardsToGo:20,significantPlay:["TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-3,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528019/Wide_-_Clip_041_voadcv.mp4"},{id:"42",quarter:2,playType:"SACK",down:3,yardsToGo:23,significantPlay:["SACK","TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-6,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528018/Wide_-_Clip_042_sgcr5k.mp4"},{id:"43",quarter:2,playType:"PUNT",down:4,yardsToGo:29,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:34,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528019/Wide_-_Clip_043_uflmfu.mp4"},{id:"44",quarter:2,playType:"NONE",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528020/Wide_-_Clip_044_nnrkld.mp4"},{id:"45",quarter:2,playType:"NOPASS",down:1,yardsToGo:15,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528020/Wide_-_Clip_045_ttfny2.mp4"},{id:"46",quarter:2,playType:"NOPASS",down:2,yardsToGo:15,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528020/Wide_-_Clip_046_olehbc.mp4"},{id:"47",quarter:2,playType:"RUN",down:3,yardsToGo:15,significantPlay:["FUMBLE","TURNOVER"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528021/Wide_-_Clip_047_aylle6.mp4"},{id:"49",quarter:2,playType:"NONE",down:1,yardsToGo:8,significantPlay:["PENALTY.DEF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528022/Wide_-_Clip_049_dd6vnb.mp4"},{id:"51",quarter:2,playType:"RUN",down:1,yardsToGo:3,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528023/Wide_-_Clip_051_ybvwsh.mp4"},{id:"52",quarter:2,playType:"RUN",down:2,yardsToGo:1,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528024/Wide_-_Clip_052_v56bmf.mp4"},{id:"53",quarter:2,playType:"RUN",down:3,yardsToGo:1,significantPlay:["TOUCHDOWN"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:1,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528024/Wide_-_Clip_053_wph7hb.mp4"},{id:"54",quarter:2,playType:"PAT",significantPlay:["PATGOOD"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528025/Wide_-_Clip_054_z3pn4j.mp4"},{id:"55",quarter:2,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:56,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528026/Wide_-_Clip_055_tmltl6.mp4"},{id:"56",quarter:2,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528027/Wide_-_Clip_056_fzvcow.mp4"},{id:"57",quarter:2,playType:"RUN",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:-2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528027/Wide_-_Clip_057_k8qfzi.mp4"},{id:"59",quarter:3,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:62,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528028/Wide_-_Clip_059_dttuaw.mp4"},{id:"61",quarter:3,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528029/Wide_-_Clip_061_xvwcmy.mp4"},{id:"62",quarter:3,playType:"NOPASS",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528029/Wide_-_Clip_062_cnhx2m.mp4"},{id:"63",quarter:3,playType:"NOPASS",down:3,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528030/Wide_-_Clip_063_aoc8cu.mp4"},{id:"64",quarter:3,playType:"PUNT",down:4,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:30,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528032/Wide_-_Clip_064_gnutzp.mp4"},{id:"65",quarter:3,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:3,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528031/Wide_-_Clip_065_qrtqah.mp4"},{id:"66",quarter:3,playType:"RUN",down:2,yardsToGo:7,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528075/Wide_-_Clip_066_vcb01d.mp4"},{id:"67",quarter:3,playType:"RUN",down:3,yardsToGo:12,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:7,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528075/Wide_-_Clip_067_p1hjjc.mp4"},{id:"68",quarter:3,playType:"PASS",down:4,yardsToGo:5,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528076/Wide_-_Clip_068_l8xon8.mp4"},{id:"69",quarter:3,playType:"PASS",down:1,yardsToGo:10,significantPlay:["FUMBLE","TURNOVER"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:14,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528076/Wide_-_Clip_069_bbk2z2.mp4"},{id:"70",quarter:3,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528077/Wide_-_Clip_070_sqegwy.mp4"},{id:"71",quarter:3,playType:"NOPASS",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528077/Wide_-_Clip_071_yf1jrp.mp4"},{id:"72",quarter:3,playType:"PASS",down:3,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:17,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528079/Wide_-_Clip_072_lk8pxn.mp4"},{id:"74",quarter:3,playType:"RUN",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:7,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528078/Wide_-_Clip_074_npjfct.mp4"},{id:"75",quarter:3,playType:"RUN",down:3,yardsToGo:3,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:9,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528080/Wide_-_Clip_075_jraa7d.mp4"},{id:"76",quarter:3,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528080/Wide_-_Clip_076_hlq3ix.mp4"},{id:"77",quarter:3,playType:"RUN",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528080/Wide_-_Clip_077_ttuoho.mp4"},{id:"78",quarter:3,playType:"NOPASS",down:3,yardsToGo:8,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528080/Wide_-_Clip_078_islodq.mp4"},{id:"79",quarter:3,playType:"PUNT",down:4,yardsToGo:8,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528081/Wide_-_Clip_079_vnuarv.mp4"},{id:"80",quarter:3,playType:"PASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:8,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528082/Wide_-_Clip_080_bwai3i.mp4"},{id:"81",quarter:3,playType:"PASS",down:2,yardsToGo:2,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:25,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528083/Wide_-_Clip_081_porvkh.mp4"},{id:"82",quarter:3,playType:"RUN",down:1,yardsToGo:10,significantPlay:["TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528083/Wide_-_Clip_082_rw5wqv.mp4"},{id:"83",quarter:3,playType:"NOPASS",down:2,yardsToGo:12,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528083/Wide_-_Clip_083_guuzhq.mp4"},{id:"84",quarter:3,playType:"NOPASS",down:3,yardsToGo:12,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528083/Wide_-_Clip_084_iwy5ny.mp4"},{id:"85",quarter:3,playType:"FG",down:4,yardsToGo:12,significantPlay:["FIELDGOALGOOD"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:24,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528083/Wide_-_Clip_085_sluib9.mp4"},{id:"86",quarter:3,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:50,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528085/Wide_-_Clip_086_nvv6jg.mp4"},{id:"87",quarter:3,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:4,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528086/Wide_-_Clip_087_fxdwkb.mp4"},{id:"88",quarter:3,playType:"PASS",down:2,yardsToGo:6,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:8,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528086/Wide_-_Clip_088_dq0qvm.mp4"},{id:"89",quarter:3,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:2,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528086/Wide_-_Clip_089_bnhqp4.mp4"},{id:"91",quarter:4,playType:"NOPASS",down:2,yardsToGo:8,significantPlay:["INTERCEPT"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528180/Wide_-_Clip_091_tzdfuw.mp4"},{id:"92",quarter:4,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528180/Wide_-_Clip_092_ujcmmx.mp4"},{id:"93",quarter:4,playType:"NONE",down:2,yardsToGo:10,significantPlay:["PENALTY.OFF"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528181/Wide_-_Clip_093_dpzwvn.mp4"},{id:"95",quarter:4,playType:"RUN",down:2,yardsToGo:20,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528181/Wide_-_Clip_095_bfbqhk.mp4"},{id:"97",quarter:4,playType:"NOPASS",down:3,yardsToGo:20,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528182/Wide_-_Clip_097_wr88jq.mp4"},{id:"98",quarter:4,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528183/Wide_-_Clip_098_wri1m3.mp4"},{id:"99",quarter:4,playType:"NOPASS",down:2,yardsToGo:10,significantPlay:["INTERCEPT"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528184/Wide_-_Clip_099_pyljvp.mp4"},{id:"100",quarter:4,playType:"PAT",significantPlay:["PATNOGOOD"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528184/Wide_-_Clip_100_x358ep.mp4"},{id:"101",quarter:4,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:8,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528184/Wide_-_Clip_101_prcbtx.mp4"},{id:"102",quarter:4,playType:"PASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:7,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528185/Wide_-_Clip_102_k6h0er.mp4"},{id:"103",quarter:4,playType:"RUN",down:2,yardsToGo:3,significantPlay:["TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-5,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528185/Wide_-_Clip_103_zm6aao.mp4"},{id:"104",quarter:4,playType:"PASS",down:3,yardsToGo:8,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:14,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528186/Wide_-_Clip_104_vni7nb.mp4"},{id:"105",quarter:4,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528187/Wide_-_Clip_105_ietr0q.mp4"},{id:"106",quarter:4,playType:"RUN",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:7,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528187/Wide_-_Clip_106_vcxun6.mp4"},{id:"107",quarter:4,playType:"PASS",down:3,yardsToGo:3,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:13,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528187/Wide_-_Clip_107_bqigcm.mp4"},{id:"108",quarter:4,playType:"RUN",down:1,yardsToGo:7,significantPlay:["TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-6,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528188/Wide_-_Clip_108_bt5pnt.mp4"},{id:"109",quarter:4,playType:"RUN",down:2,yardsToGo:13,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:4,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528188/Wide_-_Clip_109_vugsjo.mp4"},{id:"110",quarter:4,playType:"RUN",down:3,yardsToGo:9,significantPlay:["TOUCHDOWN"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:9,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528189/Wide_-_Clip_110_ufvcbi.mp4"},{id:"111",quarter:4,playType:"PAT",significantPlay:["PATGOOD"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528189/Wide_-_Clip_111_mm7pjg.mp4"},{id:"112",quarter:4,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:49,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528190/Wide_-_Clip_112_f8q2jv.mp4"},{id:"115",quarter:4,playType:"RUN",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:4,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528190/Wide_-_Clip_115_yjhvd8.mp4"},{id:"116",quarter:4,playType:"PASS",down:2,yardsToGo:6,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:1,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528190/Wide_-_Clip_116_zzmnjp.mp4"},{id:"117",quarter:4,playType:"NOPASS",down:3,yardsToGo:5,significantPlay:["INTERCEPT"],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528191/Wide_-_Clip_117_iadx63.mp4"},{id:"118",quarter:4,playType:"RUN",down:1,yardsToGo:15,significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:4,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528192/Wide_-_Clip_118_hy8rh8.mp4"},{id:"119",quarter:4,playType:"SACK",down:2,yardsToGo:11,significantPlay:["SACK","TFL"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:-11,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528192/Wide_-_Clip_119_ch81kq.mp4"},{id:"120",quarter:4,playType:"PASS",down:3,yardsToGo:22,significantPlay:["FUMBLE"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:11,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528194/Wide_-_Clip_120_heqbld.mp4"},{id:"121",quarter:4,playType:"PASS",down:4,yardsToGo:6,significantPlay:["TOUCHDOWN"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:25,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528227/Wide_-_Clip_121_myo3qy.mp4"},{id:"122",quarter:4,playType:"PAT",significantPlay:["PATGOOD"],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528227/Wide_-_Clip_122_njbabn.mp4"},{id:"123",quarter:4,playType:"KICKOFF",significantPlay:[],offensiveTeam:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",gainYard:62,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528227/Wide_-_Clip_123_g1voh9.mp4"},{id:"124",quarter:4,playType:"NOPASS",down:1,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528227/Wide_-_Clip_124_inqoah.mp4"},{id:"125",quarter:4,playType:"RUN",down:2,yardsToGo:10,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:8,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528228/Wide_-_Clip_125_r3h8lz.mp4"},{id:"126",quarter:4,playType:"NOPASS",down:3,yardsToGo:2,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528230/Wide_-_Clip_126_g7jn3w.mp4"},{id:"127",quarter:4,playType:"PASS",down:4,yardsToGo:2,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:43,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528230/Wide_-_Clip_127_zdiba2.mp4"},{id:"129",quarter:4,playType:"NOPASS",down:1,yardsToGo:15,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:0,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528230/Wide_-_Clip_129_g4sulh.mp4"},{id:"130",quarter:4,playType:"PASS",down:2,yardsToGo:15,significantPlay:[],offensiveTeam:"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0",gainYard:24,videoUrl:"https://res.cloudinary.com/dxtwujk7a/video/upload/v1757528230/Wide_-_Clip_130_drc4py.mp4"}],"\uacbd\uae30\uac15\uc6d0\uc62c\uc2a4\ud0c0","\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4");const tM=n.p+"static/media/Stechlogo.2515ff7fa7a75b8f8e85a718db911acc.svg";function nM(e){let{label:t,summary:n,isOpen:i,onToggle:a,onClose:r,children:o}=e;const l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&(null===r||void 0===r||r())},t=e=>"Escape"===e.key&&(null===r||void 0===r?void 0:r());return i&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[r,i]),(0,qt.jsxs)("div",{className:"ff-dropdown",ref:l,children:[(0,qt.jsxs)("button",{type:"button",className:"ff-dd-btn ".concat(i?"open":""),"aria-haspopup":"menu","aria-expanded":i,onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},children:[(0,qt.jsx)("span",{className:"ff-dd-label",children:n||t}),(0,qt.jsx)("span",{className:"ff-dd-icon",children:"\u25be"})]}),i&&(0,qt.jsx)("div",{className:"ff-dd-menu",role:"menu",children:o})]})}const sM={RUN:"\ub7f0",PASS:"\ud328\uc2a4",PUNT:"\ud380\ud2b8",FG:"FG",SACK:"\uc0c9",NOPASS:"\ud328\uc2a4"},iM={TOUCHDOWN:"\ud130\uce58\ub2e4\uc6b4","TWOPTCONV.GOOD":"2PT \uc131\uacf5","TWOPTCONV.NOGOOD":"2PT \uc2e4\ud328",PATGOOD:"PAT \uc131\uacf5",PATNOGOOD:"PAT \uc2e4\ud328",FIELDGOALGOOD:"FG \uc131\uacf5",FIELDGOALNOGOOD:"FG \uc2e4\ud328","PENALTY.OFF":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","PENALTY.DEF":"\uc218\ube44\ud300 \ud398\ub110\ud2f0",SACK:"\uc0c9",TFL:"TFL",FUMBLE:"\ud38c\ube14",FUMBLERECOFF:"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac",FUMBLERECDEF:"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac",INTERCEPT:"\uc778\ud130\uc149\ud2b8",TURNOVER:"\ud134\uc624\ubc84",SAFETY:"\uc138\uc774\ud504\ud2f0"},aM={"2PT \uc131\uacf5":"2PT \uc2e4\ud328","2PT \uc2e4\ud328":"2PT \uc131\uacf5","PAT \uc131\uacf5":"PAT \uc2e4\ud328","PAT \uc2e4\ud328":"PAT \uc131\uacf5","FG \uc131\uacf5":"FG \uc2e4\ud328","FG \uc2e4\ud328":"FG \uc131\uacf5","\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0","\uc218\ube44\ud300 \ud398\ub110\ud2f0":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac","\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac"},rM=e=>String(null!==e&&void 0!==e?e:"").replace(/[.\-\xb7\s]/g,"").toLowerCase(),oM=e=>String(null!==e&&void 0!==e?e:"").replace(/[.\-\xb7\s]/g,""),lM=e=>{if(!e)return{name:"",logo:null,display:""};const t=rM(e),n=xb.find(e=>[e.name,e.enName,e.code].some(e=>rM(e)===t))||null;return n?d(d({},n),{},{display:oM(n.name||e)}):{name:String(e),logo:null,display:oM(e)}},cM=xb.reduce((e,t)=>(e[t.id]=t,e),{});function dM(){var e,t;const{gameKey:n}=ye(),i=ue(),a=fe(),{user:r}=Qt(),o="GCF",l=(0,s.useMemo)(()=>(o?cM[o]:null)||xb[0]||null,[o]),c=(null===l||void 0===l?void 0:l.logo)||tM,h=(null===l||void 0===l?void 0:l.name)||"Choose Team",[u,p]=(0,s.useState)(!1),m=(null===(e=i.state)||void 0===e?void 0:e.game)||null,[g]=(0,s.useState)(m||{gameKey:n||"guest-game",home:"\uacbd\uae30\uac15\uc6d0 \uc62c\uc2a4\ud0c0",away:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",date:"N/A"}),f=(0,s.useMemo)(()=>lM(null===g||void 0===g?void 0:g.home),[null===g||void 0===g?void 0:g.home]),v=(0,s.useMemo)(()=>lM(null===g||void 0===g?void 0:g.away),[null===g||void 0===g?void 0:g.away]),y=(0,s.useMemo)(()=>{const e=[];return null!==f&&void 0!==f&&f.display&&e.push({value:f.display,label:f.display,logo:f.logo}),null!==v&&void 0!==v&&v.display&&e.push({value:v.display,label:v.display,logo:v.logo}),e.filter((e,t,n)=>n.findIndex(t=>t.value===e.value)===t)},[null===f||void 0===f?void 0:f.display,null===f||void 0===f?void 0:f.logo,null===v||void 0===v?void 0:v.display,null===v||void 0===v?void 0:v.logo]),[x,b]=(0,s.useState)(null),w=()=>b(null),_=e=>b(x===e?null:e),S=(0,s.useMemo)(()=>(eM||[]).map((e,t)=>{var n,s,i,a,r,o,l,c,h,u,p,m,g,y,x,b,w,_,S;const k=null!==(n=null!==(s=e.offensiveTeam)&&void 0!==s?s:null===f||void 0===f?void 0:f.display)&&void 0!==n?n:"\ud648\ud300",C=Array.isArray(e.significantPlay)?e.significantPlay:[],A=C.map(t=>((e,t,n)=>{const s=(null!==t&&void 0!==t?t:"").toString().trim();if(!s)return"";const i=s.toUpperCase();if(i.startsWith("PENALTY."))return((e,t,n)=>{const s=n&&null!==e&&void 0!==e&&e.offensiveTeam?e.offensiveTeam===n:null,i=!!t.endsWith(".HOME")||!t.endsWith(".AWAY")&&null;return t.endsWith(".OFF")?"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":t.endsWith(".DEF")?"\uc218\ube44\ud300 \ud398\ub110\ud2f0":null===s||null===i?"\ud398\ub110\ud2f0":i===s?"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0"})(e,i,n);if(Object.prototype.hasOwnProperty.call(iM,i)){const e=iM[i];return""===e?i:e}return i})(d(d({},e),{},{offensiveTeam:oM(k)}),t,null===f||void 0===f?void 0:f.display,null===v||void 0===v||v.display));return{id:String(null!==(i=e.id)&&void 0!==i?i:"row".concat(t+1)),quarter:Number(null!==(a=e.quarter)&&void 0!==a?a:0),playType:String(null!==(r=e.playType)&&void 0!==r?r:"").toUpperCase(),down:null!==(o=null!==(l=e.down)&&void 0!==l?l:e.Down)&&void 0!==o?o:null,yardsToGo:null!==(c=null!==(h=e.yardsToGo)&&void 0!==h?h:e.RemainYard)&&void 0!==c?c:null,offensiveTeam:oM(k),gainYard:null!==(u=e.gainYard)&&void 0!==u?u:null,videoUrl:null!==(p=null!==(m=null!==(g=e.videoUrl)&&void 0!==g?g:e.clipUrl)&&void 0!==m?m:e.ClipUrl)&&void 0!==p?p:null,scoreHome:null!==(y=null===(x=e.StartScore)||void 0===x||null===(b=x[0])||void 0===b?void 0:b.Home)&&void 0!==y?y:0,scoreAway:null!==(w=null===(_=e.StartScore)||void 0===_||null===(S=_[0])||void 0===S?void 0:S.Away)&&void 0!==w?w:0,raw:e,significantPlay:C,displaySignificantPlays:A}}),[null===f||void 0===f?void 0:f.display,null===v||void 0===v?void 0:v.display]),{filters:k,setFilters:C,summaries:A,clips:j,handleFilterChange:T,clearAllFilters:E}=Sw({persistKey:"clipFilters:".concat((null===g||void 0===g?void 0:g.gameKey)||n||"guest"),rawClips:S,teamOptions:y,opposites:aM,significantPlayField:"displaySignificantPlays"}),N=A.team,P=A.quarter,M=k.playType?sM[k.playType]||k.playType:"\uc720\ud615",O=A.significant,[D,L]=(0,s.useState)(!1),R=(0,s.useCallback)(e=>{if(D)return;L(!0);const t={quarter:k.quarter,playType:k.playType,significantPlay:[...k.significantPlay||[]],team:k.team};try{a("/service/guest/video",{state:{rawClips:S,initialFilters:t,teamOptions:y,initialPlayId:String(e.id),videoUrl:e.videoUrl,clipUrl:e.videoUrl,teamMeta:{homeName:null===f||void 0===f?void 0:f.display,awayName:null===v||void 0===v?void 0:v.display,homeLogo:null===f||void 0===f?void 0:f.logo,awayLogo:null===v||void 0===v?void 0:v.logo,gameId:(null===g||void 0===g?void 0:g.gameKey)||n||"guest-game"}}})}catch(s){console.error("Navigation failed:",s),L(!1)}setTimeout(()=>L(!1),1e3)},[D,S,k,y,f,v,g,n,a]);(0,s.useEffect)(()=>()=>L(!1),[]);const F={TPT:"2PT",KICKOFF:"\ud0a5\uc624\ud504",PAT:"PAT"},I=e=>{const t=Number(e);if(!Number.isFinite(t))return"";const n=["th","st","nd","rd"],s=t%100;return"".concat(t).concat(n[(s-20)%10]||n[s]||n[0])},B=e=>{const t=String(e.playType||"").trim().toUpperCase(),n=e.down,s=null!=n?String(n).trim().toUpperCase():"";if(F[s])return F[s];if(F[t])return F[t];const i="number"===typeof n?n:Number.isFinite(parseInt(s,10))?parseInt(s,10):null;if(null!=i){const t=null!=e.yardsToGo&&Number.isFinite(Number(e.yardsToGo))?Number(e.yardsToGo):null;return null!=t?"".concat(I(i)," & ").concat(t):"".concat(I(i))}return""},W=e=>{const t=(null!==e&&void 0!==e?e:"").toString().trim().toUpperCase();if("NONE"===t||!t)return null;const n=sM[t];return n?"#".concat(n):null};return(0,qt.jsxs)("div",{className:"clip-root",children:[(0,qt.jsxs)("header",{className:"stechHeader",children:[(0,qt.jsxs)("div",{className:"headerContainer",children:[(0,qt.jsxs)("div",{className:"header-team-box",children:[(0,qt.jsx)("div",{className:"header-team-logo-box",children:(0,qt.jsx)("img",{src:c,alt:h,className:"header-team-logo-img ".concat(null!==c&&void 0!==c&&null!==(t=c.endsWith)&&void 0!==t&&t.call(c,".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"header-team-name",children:h})]}),(0,qt.jsx)("div",{className:"bottomRow",children:(0,qt.jsx)("div",{className:"filterGroup",children:(0,qt.jsxs)("div",{className:"ff-bar",children:[(0,qt.jsxs)(nM,{label:"\uacf5\uaca9\ud300",summary:N,isOpen:"team"===x,onToggle:()=>_("team"),onClose:w,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(k.team?"":"selected"),onClick:()=>{T("team",null),w()},children:"\uc804\uccb4"}),y.map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(k.team===e.value?"selected":""),onClick:()=>{T("team",e.value),w()},children:[e.logo&&(0,qt.jsx)("img",{className:"ff-dd-avatar",src:e.logo,alt:""}),e.label||e.value]},e.value))]}),(0,qt.jsxs)(nM,{label:"\ucffc\ud130",summary:P,isOpen:"quarter"===x,onToggle:()=>_("quarter"),onClose:w,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(k.quarter?"":"selected"),onClick:()=>{T("quarter",null),w()},children:"\uc804\uccb4"}),[1,2,3,4].map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(k.quarter===e?"selected":""),onClick:()=>{T("quarter",e),w()},children:["Q",e]},e))]}),(0,qt.jsxs)(nM,{label:"\uc720\ud615",summary:M,isOpen:"playType"===x,onToggle:()=>_("playType"),onClose:w,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(k.playType?"":"selected"),onClick:()=>{T("playType",null),w()},children:"\uc804\uccb4"}),Object.entries(sM).map(e=>{let[t]=e;return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(k.playType===t?"selected":""),onClick:()=>{T("playType",t),w()},children:sM[t]||t},t)})]}),(0,qt.jsxs)(nM,{label:"\uc911\uc694\ud50c\ub808\uc774",summary:O,isOpen:"significant"===x,onToggle:()=>_("significant"),onClose:w,children:[(0,qt.jsx)("div",{className:"ff-dd-section",children:Object.entries(iM).map(e=>{let[t,n]=e;const s=Array.isArray(k.significantPlay)&&k.significantPlay.includes(n);return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(s?"selected":""),onClick:()=>T("significantPlay",n),children:n},t)})}),(0,qt.jsxs)("div",{className:"ff-dd-actions",children:[(0,qt.jsx)("button",{className:"ff-dd-clear",onClick:()=>C(e=>d(d({},e),{},{significantPlay:[]})),children:"\ubaa8\ub450 \ud574\uc81c"}),(0,qt.jsx)("button",{className:"ff-dd-close",onClick:w,children:"\ub2eb\uae30"})]})]}),(0,qt.jsx)("button",{type:"button",className:"resetButton",onClick:E,children:"\ucd08\uae30\ud654"})]})})})]}),(0,qt.jsx)(Xb,{isOpen:u,onClose:()=>p(!1),onUploaded:()=>p(!1)})]}),(0,qt.jsxs)("div",{className:"clip-page-container",children:[(0,qt.jsxs)("div",{className:"clip-left",children:[(0,qt.jsxs)("div",{className:"clip-header",children:[(0,qt.jsxs)("div",{className:"clip-team left",children:[(null===f||void 0===f?void 0:f.logo)&&(0,qt.jsxs)("div",{className:"clip-team-logo",children:[" ",(0,qt.jsx)("img",{src:f.logo,alt:"".concat(f.name," \ub85c\uace0"),className:"clip-team-logo-img ".concat(f.logo.endsWith(".svg")?"svg-logo":"png-logo")})," "]}),(0,qt.jsx)("span",{className:"clip-team-name",children:null===f||void 0===f?void 0:f.name})]}),(0,qt.jsx)("div",{className:"clip-vs",children:"VS"}),(0,qt.jsxs)("div",{className:"clip-team right",children:[(null===v||void 0===v?void 0:v.logo)&&(0,qt.jsxs)("div",{className:"clip-team-logo",children:[" ",(0,qt.jsx)("img",{src:v.logo,alt:"".concat(v.name," \ub85c\uace0"),className:"clip-team-logo-img ".concat(v.logo.endsWith(".svg")?"svg-logo":"png-logo")})," "]}),(0,qt.jsx)("span",{className:"clip-team-name",children:null===v||void 0===v?void 0:v.name})]})]}),(0,qt.jsxs)("div",{className:"clip-list",children:[j.map(e=>(0,qt.jsxs)("div",{className:"clip-row",onClick:()=>R(e),children:[(0,qt.jsx)("div",{className:"quarter-name",children:(0,qt.jsxs)("div",{children:[e.quarter,"Q"]})}),(0,qt.jsxs)("div",{className:"clip-rows",children:[(0,qt.jsxs)("div",{className:"clip-row1",children:[(0,qt.jsx)("div",{className:"clip-down",children:B(e)}),(0,qt.jsx)("div",{className:"clip-type",children:W(e.playType)})]}),(0,qt.jsxs)("div",{className:"clip-row2",children:[(0,qt.jsx)("div",{className:"clip-oT",children:e.offensiveTeam}),Array.isArray(e.displaySignificantPlays)&&e.displaySignificantPlays.length>0?(0,qt.jsx)("div",{className:"clip-sig",children:e.displaySignificantPlays.map((t,n)=>(0,qt.jsxs)("span",{children:["#",t]},"".concat(e.id,"-sig-").concat(n)))}):(0,qt.jsx)("div",{className:"clip-sig"})]})]})]},e.id)),0===j.length&&(0,qt.jsx)("div",{className:"empty",children:"\uc77c\uce58\ud558\ub294 \ud50c\ub808\uc774\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]}),(0,qt.jsxs)("div",{className:"clip-data",children:[(0,qt.jsxs)("div",{className:"clip-playcall",children:[(0,qt.jsx)("div",{className:"clip-playcall-header",children:"\ud50c\ub808\uc774\ucf5c \ube44\uc728"}),(0,qt.jsxs)("div",{className:"clip-playcall-content",children:[(0,qt.jsxs)("div",{className:"playcall-team",children:[(0,qt.jsx)("div",{className:"playcall-team-name",children:f.display}),(0,qt.jsxs)("div",{className:"pc-run",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ub7f0"}),(0,qt.jsx)("div",{children:"31.6%"})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-run",style:{width:"31.6%"}})})]}),(0,qt.jsxs)("div",{className:"pc-pass",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ud328\uc2a4"}),(0,qt.jsx)("div",{children:"68.4%"})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-pass",style:{width:"68.4%"}})})]})]}),(0,qt.jsxs)("div",{className:"playcall-team",children:[(0,qt.jsx)("div",{className:"playcall-team-name",children:v.display}),(0,qt.jsxs)("div",{className:"pc-run",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ub7f0"}),(0,qt.jsx)("div",{children:"46.7%"})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-run",style:{width:"46.7%"}})})]}),(0,qt.jsxs)("div",{className:"pc-pass",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ud328\uc2a4"}),(0,qt.jsx)("div",{children:"53.3%"})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-pass",style:{width:"53.3%"}})})]})]})]})]}),(0,qt.jsxs)("div",{className:"clip-teamstats",children:[(0,qt.jsxs)("div",{className:"tsc-header",children:[(0,qt.jsxs)("div",{className:"tsc-team tsc-left",children:[(null===f||void 0===f?void 0:f.logo)&&(0,qt.jsx)("img",{className:"tsc-logo",src:f.logo,alt:null===f||void 0===f?void 0:f.name}),(0,qt.jsx)("span",{className:"tsc-pill",children:null===f||void 0===f?void 0:f.name})]}),(0,qt.jsxs)("div",{className:"tsc-team tsc-right",children:[(null===v||void 0===v?void 0:v.logo)&&(0,qt.jsx)("img",{className:"tsc-logo",src:v.logo,alt:null===v||void 0===v?void 0:v.name}),(0,qt.jsx)("span",{className:"tsc-pill",children:null===v||void 0===v?void 0:v.name})]})]}),(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"126"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"\ucd1d \uc57c\ub4dc"})," ",(0,qt.jsx)("div",{children:"185"})," "]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"100"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"\ud328\uc2f1 \uc57c\ub4dc"})," ",(0,qt.jsx)("div",{children:"148"})," "]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"26"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"\ub7ec\uc2f1 \uc57c\ub4dc"})," ",(0,qt.jsx)("div",{children:"37"})," "]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"20%"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"3rd Down %"})," ",(0,qt.jsx)("div",{children:"36.4%"})," "]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"3"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"\ud134\uc624\ubc84"})," ",(0,qt.jsx)("div",{children:"3"})," "]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[" ",(0,qt.jsx)("div",{children:"15"})," ",(0,qt.jsx)("div",{className:"tsc-label",children:"\ud398\ub110\ud2f0 \uc57c\ub4dc"})," ",(0,qt.jsx)("div",{children:"30"})," "]})]})]})]})]})]})}const hM=e=>{let{value:t,onChange:n}=e;const[i,a]=(0,s.useState)(Tb()(t)),r=i.startOf("month").startOf("week"),o=i.endOf("month").endOf("week"),l=[];let c=r;for(;c.isBefore(o)||c.isSame(o,"day");)l.push(c),c=c.add(1,"day");return(0,qt.jsxs)("div",{className:"calendarBox",children:[(0,qt.jsxs)("div",{className:"calHeader",children:[(0,qt.jsx)("button",{onClick:()=>a(i.subtract(1,"month")),children:"\u2039"}),(0,qt.jsxs)("span",{children:[i.format("YYYY"),"\xa0/\xa0",i.format("MM")]}),(0,qt.jsx)("button",{onClick:()=>a(i.add(1,"month")),children:"\u203a"})]}),(0,qt.jsx)("div",{className:"calWeekRow",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map(e=>(0,qt.jsx)("div",{className:"calWeekCell",children:e},e))}),(0,qt.jsx)("div",{className:"calGrid",children:l.map(e=>{const s=e.isSame(Tb()(),"day"),a=e.isSame(i,"month"),r=e.isSame(t,"day");return(0,qt.jsx)("button",{className:"calCell ".concat(a?"":"dim"," ").concat(s?"today":""," ").concat(r?"selected":""),onClick:()=>n(e),children:e.format("D")},e.format("YYYY-MM-DD"))})})]})},uM=["Scrimmage","Friendly match","Season"],pM={"Friendly match":"\uce5c\uc120\uacbd\uae30",Season:"\uc815\uaddc\uc2dc\uc98c",Scrimmage:"\uc2a4\ud06c\ub9ac\ubbf8\uc9c0"},mM={Seoul:"\uc11c\uc6b8","Gyeonggi-Gangwon":"\uacbd\uae30\uac15\uc6d0","Daegu-Gyeongbuk":"\ub300\uad6c\uacbd\ubd81","Busan-Gyeongnam":"\ubd80\uc0b0\uacbd\ub0a8",Amateur:"\uc0ac\ud68c\uc778"},gM=xb.reduce((e,t)=>(e[t.id]=t,e),{}),fM=[{gameKey:"2025-06-01-GG-SEO",dateText:"2025.06.01 11:00",dateISO:"2025-06-01T11:00:00+09:00",homeId:"GCF",awayId:"seoulVI",homeScore:6,awayScore:24,type:"Friendly match",location:"\ub2e8\uad6d\ub300 \uc6b4\ub3d9\uc7a5",report:!1,length:"01:15:24"}];function vM(){var e,t;const n=fe(),i=gM.GCF||xb[0]||null,a=(null===i||void 0===i?void 0:i.logo)||tM,r=(null===i||void 0===i?void 0:i.name)||"Choose Team",[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),[x,b]=(0,s.useState)(null),[w,_]=(0,s.useState)(!1),S=(0,s.useRef)(null),k=(0,s.useRef)(null),C=(0,s.useRef)(null);s.useEffect(()=>{const e=e=>{const t=t=>t.current&&t.current.contains(e.target);t(S)||l(!1),t(k)||u(!1),t(C)||f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const A=(0,s.useMemo)(()=>{const e={};return xb.forEach(t=>{if(t.id===(null===i||void 0===i?void 0:i.id))return;const n=mM[t.region]||"\uae30\ud0c0";(e[n]||(e[n]=[])).push(t)}),e},[i]),j=(0,s.useMemo)(()=>{const e=["\uc11c\uc6b8","\uacbd\uae30\uac15\uc6d0","\ub300\uad6c\uacbd\ubd81","\ubd80\uc0b0\uacbd\ub0a8","\uc0ac\ud68c\uc778"],t=Object.keys(A),n=t.filter(t=>!e.includes(t)).sort();return[...e.filter(e=>t.includes(e)),...n]},[A]);s.useEffect(()=>{g&&b(e=>{var t;return e&&null!==(t=A[e])&&void 0!==t&&t.length?e:j[0]||null})},[g,j,A]);const T=fM,E=(0,s.useMemo)(()=>T.filter(e=>{if(c&&!Tb()(e.dateISO).isSame(c,"day"))return!1;if(p&&e.type!==p)return!1;if(v){const t=v.id;if(e.homeId!==t&&e.awayId!==t)return!1}return!0}),[T,c,p,v]),N=e=>{n("/service/guest/clip")};return(0,qt.jsxs)("div",{className:"gamepage-root",children:[(0,qt.jsxs)("header",{className:"stechHeader",children:[(0,qt.jsxs)("div",{className:"headerContainer",children:[(0,qt.jsxs)("div",{className:"header-team-box",children:[(0,qt.jsx)("div",{className:"header-team-logo-box",children:(0,qt.jsx)("img",{src:a,alt:r,className:"header-team-logo-img ".concat(null!==a&&void 0!==a&&null!==(e=a.endsWith)&&void 0!==e&&e.call(a,".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"header-team-name",children:r})]}),(0,qt.jsxs)("div",{className:"bottomRow",children:[(0,qt.jsxs)("div",{className:"filterGroup",children:[(0,qt.jsxs)("div",{className:"datePickerWrap",ref:S,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(o||c?"active":""),onClick:()=>l(!o),children:[c?c.format("YYYY-MM-DD"):"\ub0a0\uc9dc"," ",(0,qt.jsx)(aw,{size:10})]}),o&&(0,qt.jsx)(hM,{value:c||Tb()(null===(t=T[0])||void 0===t?void 0:t.dateISO),onChange:e=>{d(e),l(!1)}})]}),(0,qt.jsxs)("div",{className:"typePickerWrap",ref:k,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(p?"active":""),onClick:()=>u(!h),children:[null!==p&&void 0!==p?p:"\uc720\ud615"," ",(0,qt.jsx)(aw,{size:10})]}),h&&(0,qt.jsx)("ul",{className:"typeDropdown",children:uM.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"typeItem ".concat(p===e?"active":""),onClick:()=>{m(e),u(!1)},children:pM[e]||e})},e))})]}),(0,qt.jsxs)("div",{className:"oppsPickerWrap",ref:C,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(v?"active":""),onClick:()=>f(e=>!e),children:[v?v.name:"\uc0c1\ub300"," ",(0,qt.jsx)(aw,{size:10})]}),g&&(0,qt.jsxs)("div",{className:"oppsMega",role:"menu",children:[(0,qt.jsx)("ul",{className:"oppsLeagues",role:"menu",children:j.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{type:"button",className:"leagueItem ".concat(x===e?"active":""),onMouseEnter:()=>b(e),onFocus:()=>b(e),onClick:()=>b(e),children:e})},e))}),(0,qt.jsxs)("ul",{className:"oppsTeams",role:"menu",children:[(A[x]||[]).map(e=>(0,qt.jsx)("li",{children:(0,qt.jsxs)("button",{type:"button",className:"oppsItem",onClick:()=>{y(e),f(!1)},children:[e.logo&&(0,qt.jsx)("div",{className:"opps-team-logo-img-box",children:(0,qt.jsx)("img",{src:e.logo,alt:e.name,className:"opps-team-logo-img ".concat(e.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),e.name]})},e.id)),(!x||0===(A[x]||[]).length)&&(0,qt.jsx)("li",{className:"oppsEmpty",children:"\ud574\ub2f9 \ub9ac\uadf8 \ud300\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})]}),(0,qt.jsx)("button",{className:"resetButton",onClick:()=>{d(null),m(null),y(null),l(!1),u(!1),f(!1)},children:"\ucd08\uae30\ud654"})]}),(0,qt.jsx)("button",{className:"newVideoButton",onClick:()=>_(!0),children:"\uacbd\uae30 \uc5c5\ub85c\ub4dc"})]})]}),(0,qt.jsx)(Xb,{isOpen:w,onClose:()=>_(!1),onUploaded:()=>{_(!1)}})]}),(0,qt.jsxs)("div",{className:"game-container",children:[(0,qt.jsxs)("div",{className:"game-header",children:[(0,qt.jsx)("div",{className:"game-header-cell",children:"\ub0a0\uc9dc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30 \uacb0\uacfc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uc138\ubd80\uc0ac\ud56d"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30\ubcf4\uace0\uc11c"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uae38\uc774"})]}),(0,qt.jsx)("div",{className:"game-list",children:E.map(e=>{const t=gM[e.homeId],n=gM[e.awayId];return(0,qt.jsxs)("div",{className:"game-card",onClick:()=>N(),role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&N(),children:[(0,qt.jsx)("div",{className:"date",children:e.dateText}),(0,qt.jsxs)("div",{className:"game-results",children:[(0,qt.jsxs)("div",{className:"game-team left",children:[(null===t||void 0===t?void 0:t.logo)&&(0,qt.jsx)("div",{className:"game-team-logo",children:(0,qt.jsx)("img",{src:t.logo,alt:"".concat(t.name," \ub85c\uace0"),className:"game-team-logo-img ".concat(t.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"game-team-name",children:(null===t||void 0===t?void 0:t.name)||e.homeId})]}),(0,qt.jsxs)("div",{className:"game-score",children:[e.homeScore," : ",e.awayScore]}),(0,qt.jsxs)("div",{className:"game-team right",children:[(null===n||void 0===n?void 0:n.logo)&&(0,qt.jsx)("div",{className:"game-team-logo",children:(0,qt.jsx)("img",{src:n.logo,alt:"".concat(n.name," \ub85c\uace0"),className:"game-team-logo-img ".concat(n.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"game-team-name",children:(null===n||void 0===n?void 0:n.name)||e.awayId})]})]}),(0,qt.jsx)("div",{className:"meta",children:(0,qt.jsx)("span",{children:(pM[e.type]||e.type)+" / "+e.location})}),(0,qt.jsxs)("div",{className:"game-report ".concat(e.report?"reportY":"reportN"),children:[(0,qt.jsx)("span",{className:"report-text",children:e.report?"\ubcf4\uace0\uc11c \uc0dd\uc131\ub428":"\ubcf4\uace0\uc11c \uc900\ube44\uc911"}),e.report?(0,qt.jsx)(yw,{size:16}):null]}),(0,qt.jsx)("div",{className:"game-length",children:e.length})]},e.gameKey)})})]})]})}const yM=()=>(0,qt.jsxs)("div",{children:[(0,qt.jsx)("h1",{children:"Guest Home Page"}),(0,qt.jsx)("p",{children:"This is the Guest Home page content."})]});function xM(e){let{label:t,summary:n,isOpen:i,onToggle:a,onClose:r,children:o}=e;const l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&(null===r||void 0===r||r())};return i&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[r,i]),(0,qt.jsxs)("div",{className:"ff-dropdown",ref:l,style:{marginBottom:"8px"},children:[(0,qt.jsxs)("button",{type:"button",className:"ff-dd-btn ".concat(i?"open":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},children:[(0,qt.jsx)("span",{className:"ff-dd-label",children:n||t}),(0,qt.jsx)("span",{className:"ff-dd-icon",children:"\u25be"})]}),i&&(0,qt.jsx)("div",{className:"ff-dd-menu",role:"menu",children:o})]})}const bM={RUN:"\ub7f0",PASS:"\ud328\uc2a4",KICKOFF:"\ud0a5\uc624\ud504",PUNT:"\ud380\ud2b8",PAT:"PAT",TPT:"2PT",FG:"FG",SACK:"\uc0c9",NOPASS:"\ud328\uc2a4"},wM={TOUCHDOWN:"\ud130\uce58\ub2e4\uc6b4","TWOPTCONV.GOOD":"2PT \uc131\uacf5","TWOPTCONV.NOGOOD":"2PT \uc2e4\ud328",PATGOOD:"PAT \uc131\uacf5",PATNOGOOD:"PAT \uc2e4\ud328",FIELDGOALGOOD:"FG \uc131\uacf5",FIELDGOALNOGOOD:"FG \uc2e4\ud328","PENALTY.OFF":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","PENALTY.DEF":"\uc218\ube44\ud300 \ud398\ub110\ud2f0",SACK:"\uc0c9",TFL:"TFL",FUMBLE:"\ud38c\ube14",FUMBLERECOFF:"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac",FUMBLERECDEF:"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac",INTERCEPT:"\uc778\ud130\uc149\ud2b8",TURNOVER:"\ud134\uc624\ubc84",SAFETY:"\uc138\uc774\ud504\ud2f0"},_M={"2PT \uc131\uacf5":"2PT \uc2e4\ud328","2PT \uc2e4\ud328":"2PT \uc131\uacf5","PAT \uc131\uacf5":"PAT \uc2e4\ud328","PAT \uc2e4\ud328":"PAT \uc131\uacf5","FG \uc131\uacf5":"FG \uc2e4\ud328","FG \uc2e4\ud328":"FG \uc131\uacf5","\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0","\uc218\ube44\ud300 \ud398\ub110\ud2f0":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac","\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac"},SM={TPT:"2PT",KICKOFF:"\ud0a5\uc624\ud504",PAT:"PAT"},kM=e=>{const t=Number(e);if(!Number.isFinite(t))return"";const n=["th","st","nd","rd"],s=t%100;return"".concat(t).concat(n[(s-20)%10]||n[s]||n[0])},CM=e=>{if(!e)return"";const t=String(e.playType||"").trim().toUpperCase(),n=e.down,s=null!=n?String(n).trim().toUpperCase():"";if(SM[s])return SM[s];if(SM[t])return SM[t];const i="number"===typeof n?n:Number.isFinite(parseInt(s,10))?parseInt(s,10):null;if(null!=i){const t=null!=e.yardsToGo&&Number.isFinite(Number(e.yardsToGo))?Number(e.yardsToGo):null;return null!=t?"".concat(kM(i)," & ").concat(t):"".concat(kM(i))}return""};function AM(e){var t,n,i;let{stateData:a}=e;const r=fe(),{settings:o}=ww(),l=(0,s.useRef)(null),[c,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)(.5),{rawClips:m,initialFilters:g,teamOptions:f,teamMeta:v,initialPlayId:y}=a,{clips:x,filters:b,setFilters:w,summaries:_,handleFilterChange:S,clearAllFilters:k}=Sw({rawClips:m||[],initialFilters:g||{},teamOptions:f||[],opposites:_M,significantPlayField:"displaySignificantPlays",persistKey:"guestVideoFilters:".concat((null===v||void 0===v?void 0:v.gameId)||"default")}),C=(0,s.useRef)(null),A=(0,s.useRef)(null),j=(0,s.useRef)(!1),T=(0,s.useRef)(null),[E,N]=(0,s.useState)(!1),[P,M]=(0,s.useState)(null),[O,D]=(0,s.useState)(!1),[L,R]=(0,s.useState)(!1),[F,I]=(0,s.useState)(!0),[B,W]=(0,s.useState)(0),[U,z]=(0,s.useState)(0),[G,H]=(0,s.useState)(null),[Y,V]=(0,s.useState)(!1),[q,K]=(0,s.useState)({visible:!1,x:0,y:0});(0,s.useEffect)(()=>{if(x&&x.length>0&&!P){const e=y?x.find(e=>String(e.id)===String(y)):x[0];M(String((null===e||void 0===e?void 0:e.id)||x[0].id))}},[x,y,P]),(0,s.useEffect)(()=>{if(!P||!x||0===x.length)return;const e=x.some(e=>String(e.id)===String(P));e||M(String(x[0].id))},[x,P]);const X=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),K({visible:!0,x:e.clientX,y:e.clientY})},[]),Q=(0,s.useCallback)(()=>K({visible:!1,x:0,y:0}),[]),J=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),V(!0),Q()},[Q]);(0,s.useEffect)(()=>{if(!q.visible)return;const e=e=>{T.current&&T.current.contains(e.target)||Q()};document.addEventListener("mousedown",e,!0),document.addEventListener("contextmenu",e,!0);const t=e=>{"Escape"===e.key&&Q()};return document.addEventListener("keydown",t,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("contextmenu",e,!0),document.removeEventListener("keydown",t,!0)}},[q.visible,Q]);const Z=(0,s.useMemo)(()=>x.find(e=>String(e.id)===P)||null,[x,P]),$=(null===Z||void 0===Z?void 0:Z.videoUrl)||"",ee=(0,s.useRef)(!1),te=(0,s.useCallback)(e=>{const t=String(e);t!==P&&(M(t),j.current=!0,D(!1),R(!1),I(!0),z(0),W(0))},[P]);(0,s.useEffect)(()=>{if(ee.current||!x||0===x.length)return;const e=y?x.find(e=>String(e.id)===String(y)):x[0];e&&(te(String(e.id)),ee.current=!0)},[x,y,te]),(0,s.useEffect)(()=>{if(!P||!x||0===x.length)return;const e=x.some(e=>String(e.id)===String(P));e||M(String(x[0].id))},[x,P]);const ne=(0,s.useMemo)(()=>{if(!P||!x||0===x.length)return null;const e=x.findIndex(e=>String(e.id)===String(P));return-1===e?null:{current:e+1,total:x.length,isFirst:0===e,isLast:e===x.length-1}},[P,x]),se=(0,s.useCallback)(()=>{if(!ne||ne.isLast)return;const e=x[ne.current];e&&te(e.id)},[x,ne,te]),ie=(0,s.useCallback)(()=>{if(!ne||ne.isFirst)return;const e=x[ne.current-2];e&&te(e.id)},[x,ne,te]),ae=(0,s.useCallback)(()=>{const e=C.current;e&&!L&&Z&&$&&(O?(e.pause(),D(!1)):(0===e.readyState&&e.load(),e.play().then(()=>D(!0)).catch(e=>{console.error("\uc7ac\uc0dd \uc2e4\ud328:",e),R(!0)})))},[O,L,Z,$]);(0,s.useEffect)(()=>{const e=C.current;e&&$&&e.load()},[$]),(0,s.useEffect)(()=>{const e=C.current;e&&(e.playbackRate=o.playbackRate)},[o.playbackRate,P]),(0,s.useEffect)(()=>{const e=C.current;if(!e)return;const t=()=>{W(e.duration||0),I(!1),R(!1)},n=()=>z(e.currentTime||0),s=()=>{D(!1),o.autoNext&&se()},i=()=>{R(!0),I(!1)},a=()=>{I(!1),R(!1),j.current&&(j.current=!1,e.play().then(()=>D(!0)).catch(e=>console.error("\uc790\ub3d9\uc7ac\uc0dd \uc2e4\ud328:",e)))},r=()=>I(!0),l=()=>D(!0),c=()=>D(!1);return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",s),e.addEventListener("error",i),e.addEventListener("canplay",a),e.addEventListener("loadstart",r),e.addEventListener("play",l),e.addEventListener("pause",c),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",s),e.removeEventListener("error",i),e.removeEventListener("canplay",a),e.removeEventListener("loadstart",r),e.removeEventListener("play",l),e.removeEventListener("pause",c)}},[P,se,o.autoNext]);const re=e=>{if(isNaN(e)||null===e)return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(String(n).padStart(2,"0"))},oe=(0,s.useCallback)(e=>{const t=C.current;t&&!L&&0!==B&&(t.currentTime=Math.max(0,Math.min(B,t.currentTime+e)))},[B,L]);(0,s.useEffect)(()=>{const e=e=>{var t,n,s,i,a,r,l,c,d,h,u,p,m,g;if("INPUT"===(null===(t=e.target)||void 0===t?void 0:t.tagName)||"TEXTAREA"===(null===(n=e.target)||void 0===n?void 0:n.tagName))return;const f=e.key.toUpperCase(),v=(null===o||void 0===o||null===(s=o.hotkeys)||void 0===s||null===(i=s.backward)||void 0===i||null===(a=i.toUpperCase)||void 0===a?void 0:a.call(i))||"A",y=(null===o||void 0===o||null===(r=o.hotkeys)||void 0===r||null===(l=r.forward)||void 0===l||null===(c=l.toUpperCase)||void 0===c?void 0:c.call(l))||"D",x=(null===o||void 0===o||null===(d=o.hotkeys)||void 0===d||null===(h=d.nextVideo)||void 0===h||null===(u=h.toUpperCase)||void 0===u?void 0:u.call(h))||"N",b=(null===o||void 0===o||null===(p=o.hotkeys)||void 0===p||null===(m=p.prevVideo)||void 0===m||null===(g=m.toUpperCase)||void 0===g?void 0:g.call(m))||"M";" "===f?(e.preventDefault(),ae()):f===v?(e.preventDefault(),oe(-o.skipTime)):f===y?(e.preventDefault(),oe(o.skipTime)):f===x?(e.preventDefault(),se()):f===b&&(e.preventDefault(),ie())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[ae,oe,se,ie,o]);const le=(0,s.useCallback)(e=>{const t=C.current,n=A.current;if(!t||!n||L||0===B)return;const s=n.getBoundingClientRect(),i=e.clientX-s.left;t.currentTime=i/s.width*B},[B,L]),ce=(0,s.useCallback)(()=>{const e=l.current;var t,n,s;document.fullscreenElement?null===(t=(n=document).exitFullscreen)||void 0===t||t.call(n).then(()=>h(!1)).catch(()=>{}):null===e||void 0===e||null===(s=e.requestFullscreen)||void 0===s||s.call(e).then(()=>h(!0)).catch(()=>{})},[]);(0,s.useEffect)(()=>{const e=()=>h(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const de=(null===v||void 0===v?void 0:v.homeName)||"Home",he=(null===v||void 0===v?void 0:v.awayName)||"Away",ue=(null===v||void 0===v?void 0:v.homeLogo)||null,pe=(null===v||void 0===v?void 0:v.awayLogo)||null,me=null!==(t=null===Z||void 0===Z?void 0:Z.scoreHome)&&void 0!==t?t:0,ge=null!==(n=null===Z||void 0===Z?void 0:Z.scoreAway)&&void 0!==n?n:0,ve=null!==(i=null===Z||void 0===Z?void 0:Z.quarter)&&void 0!==i?i:1,ye=(0,s.useMemo)(()=>Z?CM(Z):"",[Z]),xe=_.team,be=_.quarter,we=b.playType?bM[b.playType]:"\uc720\ud615",_e=_.significant,Se=(0,s.useCallback)(()=>H(null),[]),ke=(0,s.useCallback)(e=>{H(t=>t===e?null:e)},[]);return(0,qt.jsxs)("div",{className:"videoPlayerPage",children:[(0,qt.jsxs)("div",{className:"videoContainer",ref:l,children:[(0,qt.jsx)("button",{className:"videoBackButton",onClick:()=>r(-1),children:(0,qt.jsx)(rb,{size:24})}),(0,qt.jsx)("button",{className:"videoModalToggleButton",onClick:()=>N(e=>!e),children:(0,qt.jsx)(sw,{size:24})}),(0,qt.jsxs)("div",{className:"videoScoreboard",children:[(0,qt.jsxs)("div",{className:"scoreTeam leftTeam",children:[ue&&(0,qt.jsx)("img",{src:ue,alt:de,className:"scoreTeamLogo"}),(0,qt.jsxs)("div",{className:"scoreTeamInfo",children:[(0,qt.jsx)("span",{className:"scoreTeamName",children:de}),(0,qt.jsx)("span",{className:"scoreTeamScore",children:me})]})]}),(0,qt.jsxs)("div",{className:"scoreCenter",children:[(0,qt.jsxs)("div",{className:"scoreQuarter",children:["Q",ve]}),(0,qt.jsx)("div",{className:"scoreDown",children:ye})]}),(0,qt.jsxs)("div",{className:"scoreTeam rightTeam",children:[(0,qt.jsxs)("div",{className:"scoreTeamInfo",children:[(0,qt.jsx)("span",{className:"scoreTeamName",children:he}),(0,qt.jsx)("span",{className:"scoreTeamScore",children:ge})]}),pe&&(0,qt.jsx)("img",{src:pe,alt:he,className:"scoreTeamLogo"})]})]}),(0,qt.jsx)("div",{className:"videoScreen",children:(0,qt.jsxs)("div",{className:"videoContent",children:[F&&!L&&(0,qt.jsx)("div",{className:"videoLoadingMessage",children:"Loading..."}),L&&(0,qt.jsx)("div",{className:"videoErrorMessage",children:"\ube44\ub514\uc624\ub97c \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),!Z&&0===x.length&&(0,qt.jsx)("div",{className:"videoNoVideoMessage",children:"\ud45c\uc2dc\ud560 \ud074\ub9bd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,qt.jsx)("video",{ref:C,className:"videoElement ".concat(F||L?"hidden":""),src:$,preload:"metadata",autoPlay:!1,playsInline:!0,muted:!0,onContextMenu:X},P)]})}),(0,qt.jsxs)("div",{className:"videoEditorControls",children:[(0,qt.jsxs)("div",{className:"videoControlsTop",children:[(0,qt.jsx)("button",{className:"videoPlayButton",onClick:ae,disabled:L||!Z,children:O?(0,qt.jsx)(ob,{size:32}):(0,qt.jsx)(lb,{size:32})}),(0,qt.jsxs)("div",{className:"videoFrameNavigation",children:[(0,qt.jsxs)("button",{className:"skipSquare skipSquare--back",onClick:()=>oe(-o.skipTime),disabled:L||!Z,title:"Previous ".concat(o.skipTime,"s (").concat(o.hotkeys.backward,")"),children:[(0,qt.jsx)(tw,{className:"skipSquare__icon"}),(0,qt.jsx)("span",{className:"skipSquare__sec",children:o.skipTime})]}),(0,qt.jsxs)("button",{className:"skipSquare",onClick:()=>oe(o.skipTime),disabled:L||!Z,title:"Next ".concat(o.skipTime,"s (").concat(o.hotkeys.forward,")"),children:[(0,qt.jsx)(tw,{className:"skipSquare__icon"}),(0,qt.jsx)("span",{className:"skipSquare__sec",children:o.skipTime})]}),(0,qt.jsx)("button",{className:"videoFrameStepButton",onClick:ie,disabled:!ne||ne.isFirst,title:"Previous Clip (".concat(o.hotkeys.prevVideo,")"),children:(0,qt.jsx)(nw,{style:{transform:"scaleX(-1)"}})}),(0,qt.jsx)("button",{className:"videoFrameStepButton",onClick:se,disabled:!ne||ne.isLast,title:"Next Clip (".concat(o.hotkeys.nextVideo,")"),children:(0,qt.jsx)(nw,{})})]})]}),(0,qt.jsxs)("div",{className:"videoTimelineContainer",children:[(0,qt.jsx)("div",{className:"timeLabel",children:re(U)}),(0,qt.jsxs)("div",{ref:A,className:"ctrl timeline",onClick:le,children:[(0,qt.jsx)("div",{className:"timelineTrack"}),(0,qt.jsx)("div",{className:"timelineProgress",style:{width:B>0?"".concat(U/B*100,"%"):"0%"}}),(0,qt.jsx)("div",{className:"timelineHandle",style:{left:B>0?"".concat(U/B*100,"%"):"0%"}})]}),(0,qt.jsx)("div",{className:"timeLabel dim",children:re(B)}),(0,qt.jsxs)("div",{className:"volume",children:[(0,qt.jsx)("button",{className:"ctrl volBtn",onClick:()=>p(e=>e>0?0:.5),children:u>0?(0,qt.jsx)(ub,{size:18}):(0,qt.jsx)(pb,{size:18})}),(0,qt.jsx)("input",{className:"volSlider",type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:e=>p(parseFloat(e.target.value))})]}),(0,qt.jsx)("button",{className:"ctrl fsBtn",onClick:ce,children:c?(0,qt.jsx)($x,{size:18}):(0,qt.jsx)(Zx,{size:18})})]})]})]}),(0,qt.jsxs)("div",{className:"videoSideModal ".concat(E?"open":""),children:[(0,qt.jsx)("div",{className:"videoModalClose",children:(0,qt.jsx)("button",{className:"videoCloseButton",onClick:()=>N(!1),children:(0,qt.jsx)(rb,{size:20})})}),(0,qt.jsxs)("div",{className:"videoModalContent",children:[(0,qt.jsxs)("div",{className:"videoFilterControls",children:[(0,qt.jsxs)("div",{className:"filterRow",children:[(0,qt.jsxs)(xM,{label:"\ucffc\ud130",summary:be,isOpen:"quarter"===G,onToggle:()=>ke("quarter"),onClose:Se,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(b.quarter?"":"selected"),onClick:()=>{S("quarter",null),Se()},children:"\uc804\uccb4"}),[1,2,3,4].map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(b.quarter===e?"selected":""),onClick:()=>{S("quarter",e),Se()},children:["Q",e]},e))]}),(0,qt.jsxs)(xM,{label:"\uacf5\uaca9\ud300",summary:xe,isOpen:"team"===G,onToggle:()=>ke("team"),onClose:Se,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(b.team?"":"selected"),onClick:()=>{S("team",null),Se()},children:"\uc804\uccb4"}),f.map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(b.team===e.value?"selected":""),onClick:()=>{S("team",e.value),Se()},children:[e.logo&&(0,qt.jsx)("img",{className:"ff-dd-avatar",src:e.logo,alt:""}),e.label||e.value]},e.value))]})]}),(0,qt.jsxs)("div",{className:"filterRow",children:[(0,qt.jsxs)(xM,{label:"\uc720\ud615",summary:we,isOpen:"playType"===G,onToggle:()=>ke("playType"),onClose:Se,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(b.playType?"":"selected"),onClick:()=>{S("playType",null),Se()},children:"\uc804\uccb4"}),Object.entries(bM).map(e=>{let[t,n]=e;return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(b.playType===t?"selected":""),onClick:()=>{S("playType",t),Se()},children:n},t)})]}),(0,qt.jsxs)(xM,{label:"\uc911\uc694\ud50c\ub808\uc774",summary:_e,isOpen:"significant"===G,onToggle:()=>ke("significant"),onClose:Se,children:[(0,qt.jsx)("div",{className:"ff-dd-section",children:Object.entries(wM).map(e=>{var t;let[n,s]=e;return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(null!==(t=b.significantPlay)&&void 0!==t&&t.includes(s)?"selected":""),onClick:()=>S("significantPlay",s),children:s},n)})}),(0,qt.jsxs)("div",{className:"ff-dd-actions",children:[(0,qt.jsx)("button",{className:"ff-dd-clear",onClick:()=>w(e=>d(d({},e),{},{significantPlay:[]})),children:"\ubaa8\ub450 \ud574\uc81c"}),(0,qt.jsx)("button",{className:"ff-dd-close",onClick:Se,children:"\ub2eb\uae30"})]})]})]}),(0,qt.jsx)("div",{className:"filterRow",children:(0,qt.jsx)("button",{type:"button",className:"videoFilterResetButton",onClick:k,children:"\ucd08\uae30\ud654"})})]}),(0,qt.jsx)("div",{className:"videoPlaysList",children:x.length>0?x.map(e=>(0,qt.jsxs)("div",{className:"clip-row ".concat(String(e.id)===P?"selected":""),onClick:()=>te(e.id),children:[(0,qt.jsx)("div",{className:"quarter-name",children:(0,qt.jsxs)("div",{children:[e.quarter,"Q"]})}),(0,qt.jsxs)("div",{className:"clip-rows",children:[(0,qt.jsxs)("div",{className:"vid-clip-row1",children:[(0,qt.jsx)("div",{className:"clip-down",children:CM(e)}),(0,qt.jsxs)("div",{className:"clip-type",children:["#",bM[e.playType]||e.playType]})]}),(0,qt.jsxs)("div",{className:"vid-clip-row2",children:[(0,qt.jsx)("div",{className:"clip-oT",children:e.offensiveTeam}),Array.isArray(e.displaySignificantPlays)&&e.displaySignificantPlays.length>0?(0,qt.jsx)("div",{className:"clip-sig",children:e.displaySignificantPlays.map((t,n)=>(0,qt.jsxs)("span",{children:["#",t]},"".concat(e.id,"-sig-").concat(n)))}):(0,qt.jsx)("div",{className:"clip-sig"})]})]})]},e.id)):(0,qt.jsx)("div",{className:"videoNoPlaysMessage",children:"\uc77c\uce58\ud558\ub294 \ud074\ub9bd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})]}),E&&(0,qt.jsx)("div",{className:"videoModalOverlay",onClick:()=>N(!1)}),q.visible&&(0,qt.jsx)("div",{ref:T,className:"customContextMenu",style:{position:"fixed",left:"".concat(q.x,"px"),top:"".concat(q.y,"px"),zIndex:9999},children:(0,qt.jsx)("div",{className:"contextMenuItem",onClick:J,children:"\u2699\ufe0f \uc2dc\uc2a4\ud15c \uc124\uc815"})}),(0,qt.jsx)(GP,{isVisible:Y,onClose:()=>V(!1)})]})}function jM(){var e;const t=ue(),n=fe();return null!==(e=t.state)&&void 0!==e&&e.rawClips?(0,qt.jsx)(AM,{stateData:t.state}):(0,qt.jsx)("div",{className:"videoPlayerPage",children:(0,qt.jsx)("div",{className:"videoContainer",style:{justifyContent:"center",alignItems:"center"},children:(0,qt.jsxs)("div",{className:"videoErrorMessage",children:["\ud074\ub9bd \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,qt.jsx)("button",{onClick:()=>n(-1),style:{marginTop:"1rem",cursor:"pointer"},children:"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \ub3cc\uc544\uac00\uae30"})]})})})}const TM=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})});function EM(e){return Vx({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{d:"M4 6H11L7.5 10.5L4 6Z",fill:"currentColor"},child:[]}]})(e)}function NM(e){let{value:t,options:n=[],onChange:i,label:a,placeholder:r,disabled:o=!1}=e;const[l,c]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1),u=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,qt.jsxs)("div",{className:"dropdown-container",ref:u,"aria-label":a,children:[(0,qt.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(l?"open":""," ").concat(d?"":"placeholder"," ").concat(o?"disabled":""),onClick:()=>!o&&c(e=>!e),disabled:o,children:[(0,qt.jsx)("span",{className:"dropdown-text",children:d?t:null!==r&&void 0!==r?r:t}),(0,qt.jsx)(aw,{size:16,className:"dropdown-arrow ".concat(l?"rotated":"")})]}),l&&!o&&(0,qt.jsx)("div",{className:"dropdown-menu",children:(0,qt.jsx)("ul",{className:"dropdown-list",children:n.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"dropdown-option ".concat(t===e?"selected":""),onClick:()=>{i(e),h(!0),c(!1)},role:"option","aria-selected":t===e,children:e})},e))})})]})}const PM={"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4":"\uc11c\uc6b8","\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4":"\uc11c\uc6b8","\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4":"\uc11c\uc6b8","\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc988":"\uc11c\uc6b8","\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4":"\uc11c\uc6b8","\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4":"\uc11c\uc6b8","\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20":"\uc11c\uc6b8","\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4":"\uc11c\uc6b8","\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4":"\uc11c\uc6b8","\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4":"\uc11c\uc6b8","\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4":"\uc11c\uc6b8","\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4":"\uc11c\uc6b8","\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4":"\uc11c\uc6b8","\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4":"\uc11c\uc6b8","\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4":"\uc11c\uc6b8","\uac15\uc6d0\ub300 \uce74\ud504\ub77c\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uae08\uc624\uacf5\uacfc\ub300 \ub808\uc774\ube10\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20":"\ub300\uad6c\uacbd\ubd81","\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ubd80\uc0b0\uc678\uad6d\uc5b4\ub300 \ud1a0\ub124\uc774\ub3c4":"\ubd80\uc0b0\uacbd\ub0a8","\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\uad70\uc704 \ud53c\ub2c9\uc2a4":"\uc0ac\ud68c\uc778","\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988":"\uc0ac\ud68c\uc778","\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4":"\uc0ac\ud68c\uc778","\uc778\ucc9c \ub77c\uc774\ub178\uc2a4":"\uc0ac\ud68c\uc778"},MM=["QB","RB","WR","TE","K","P","OL","DL","LB","DB"],OM=new Set(["interceptions","sacks","fumbles","fumbles_lost","penalties","sacks_allowed","touchback_percentage"]),DM=new Set(["field_goal"]),LM=e=>{if("string"!==typeof e)return[0,0];const[t,n]=e.split("-").map(e=>parseFloat(e)||0);return[t,n]},RM={QB:{"\ud328\uc2a4":"passing_yards","\ub7f0":"rushing_yards"},RB:{"\ub7f0":"rushing_yards","\ud328\uc2a4":"receiving_yards","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"},WR:{"\ud328\uc2a4":"receiving_yards","\ub7f0":"rushing_yards","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"},TE:{"\ud328\uc2a4":"receiving_yards","\ub7f0":"rushing_yards"},K:{"\uc2a4\ud398\uc15c\ud300":"field_goal_percentage"},P:{"\uc2a4\ud398\uc15c\ud300":"average_punt_yard"},OL:{default:"offensive_snaps_played"},DL:{default:"sacks"},LB:{default:"tackles"},DB:{"\uc218\ube44":"interceptions","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"}},FM={QB:["\ud328\uc2a4","\ub7f0"],RB:["\ud328\uc2a4","\ub7f0","\uc2a4\ud398\uc15c\ud300"],WR:["\ud328\uc2a4","\ub7f0","\uc2a4\ud398\uc15c\ud300"],TE:["\ud328\uc2a4","\ub7f0"],K:["\uc2a4\ud398\uc15c\ud300"],P:["\uc2a4\ud398\uc15c\ud300"],OL:["default"],DL:["default"],LB:["default"],DB:["\uc218\ube44","\uc2a4\ud398\uc15c\ud300"]},IM={QB:{"\ud328\uc2a4":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"passing_attempts",label:"\ud328\uc2a4\n\uc2dc\ub3c4 \uc218"},{key:"pass_completions",label:"\ud328\uc2a4\n\uc131\uacf5 \uc218"},{key:"completion_percentage",label:"\ud328\uc2a4\n\uc131\uacf5\ub960"},{key:"passing_yards",label:"\ud328\uc2f1\n\uc57c\ub4dc"},{key:"passing_td",label:"\ud328\uc2f1\n\ud130\uce58\ub2e4\uc6b4"},{key:"interceptions",label:"\uc778\ud130\uc149\ud2b8"},{key:"longest_pass",label:"\uac00\uc7a5\n\uae34 \ud328\uc2a4"},{key:"sacks",label:"\uacbd\uae30 \ub2f9 \n\uc0c9 \ud5c8\uc6a9"}],"\ub7f0":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34\n\ub7ec\uc2f1 \uc57c\ub4dc"}]},RB:{"\ub7f0":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1\n\uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushingFumbles",label:"\ud38c\ube14 \uc218"},{key:"rushingFumblesLost",label:"\ud38c\ube14\n\ud134\uc624\ubc84"}],"\ud328\uc2a4":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4\n\ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4\n\uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58 \ub2f9\n\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34\n\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"receiving_first_downs",label:"\ub9ac\uc2dc\ube0c \ud6c4 \ud37c\uc2a4\ud2b8\n\ub2e4\uc6b4 \uc218"},{key:"passingFumbles",label:"\ud38c\ube14 \uc218"},{key:"passingFumblesLost",label:"\ud38c\ube14 \ud134\n\uc624\ubc84 \uc218"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134\n\uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \ub2f9\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8 \ub9ac\ud134\n\uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8\ub9ac\ud134\n\ub9ac\ud134\uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134\n\ud130\uce58\ub2e4\uc6b4"}]},WR:{"\ud328\uc2a4":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4\n\ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4\n\uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58\ub2f9\n\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34\n\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"receiving_first_downs",label:"\ub9ac\uc2dc\ube0c\n\ud37c\uc2a4\ud2b8\n\ub2e4\uc6b4 \uc218"},{key:"passingFumbles",label:"\ud38c\ube14 \uc218"},{key:"passingFumblesLost",label:"\ud38c\ube14 \ud134\n\uc624\ubc84 \uc218"}],"\ub7f0":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1\n\uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushingFumbles",label:"\ud38c\ube14 \uc218"},{key:"rushingFumblesLost",label:"\ud38c\ube14\n\ud134\uc624\ubc84 \uc218"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134\n\uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \ub2f9\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8\n\ub9ac\ud134\uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8 \ub9ac\ud134\ub2f9\ub9ac\ud134 \uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134\n\ud130\uce58\ub2e4\uc6b4"}]},TE:{"\ud328\uc2a4":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4\n\ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4\n\uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59\n\uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58\ub2f9 \ub9ac\uc2dc\ube59\uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34 \ub9ac\uc2dc\ube59\uc57c\ub4dc"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\n\uc624\ubc84 \uc218"}],"\ub7f0":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1\n\uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1\n\ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\n\uc624\ubc84 \uc218"}]},K:{"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"extra_points_attempted",label:"PAT\n\uc2dc\ub3c4"},{key:"extra_points_made",label:"PAT\n\uc131\uacf5"},{key:"field_goal",label:"\ud544\ub4dc\uace8\n\uc131\uacf5-\uc2dc\ub3c4"},{key:"field_goal_percentage",label:"\ud544\ub4dc\uace8\n\uc131\uacf5\ub960"},{key:"field_goal_1_19",label:"1-19"},{key:"field_goal_20_29",label:"20-29"},{key:"field_goal_30_39",label:"30-39"},{key:"fiedl_goal_40_49",label:"40-49"},{key:"field_goal_50_plus",label:"50+"},{key:"longest_field_goal",label:"\uac00\uc7a5 \uae34\n\ud544\ub4dc\uace8"}]},P:{"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"punt_count",label:"\ud380\ud2b8 \uc218"},{key:"punt_yards",label:"\ud380\ud2b8 \uc57c\ub4dc"},{key:"average_punt_yard",label:"\ud3c9\uade0\n\ud380\ud2b8 \uac70\ub9ac"},{key:"longest_punt",label:"\uac00\uc7a5\n\uae34 \ud380\ud2b8"},{key:"touchbacks",label:"\ud130\uce58\ubc31"},{key:"touchback_percentage",label:"\ud130\uce58\ubc31 %"},{key:"inside20",label:"20\uc57c\ub4dc\n\uc548\ucabd \ud380\ud2b8"},{key:"inside20_percentage",label:"20\uc57c\ub4dc \uc548\ucabd\ud380\ud2b8%"}]},OL:{default:[{key:"offensive_snaps_played",label:"\uacf5\uaca9 \ud50c\ub808\uc774 \uc2a4\ub0c5 \ucc38\uc5ec \uc218"},{key:"penalties",label:"\ubc18\uce59 \uc218"},{key:"sacks_allowed",label:"\uc0c9 \ud5c8\uc6a9 \uc218"}]},DL:{default:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"TFL",label:"TFL"},{key:"sacks",label:"\uc0c9"},{key:"forced_fumbles",label:"\ud38c\ube14\n\uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14\n\ub9ac\ucee4\ubc84\ub9ac"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44\n\ud130\uce58\ub2e4\uc6b4"}]},LB:{default:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"TFL",label:"TFL"},{key:"sacks",label:"\uc0c9 "},{key:"forced_fumbles",label:"\ud38c\ube14\n\uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44 \ud130\uce58\ub2e4\uc6b4"}]},DB:{"\uc218\ube44":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"TFL",label:"TFL"},{key:"sacks",label:"\uc0c9 "},{key:"forced_fumbles",label:"\ud38c\ube14 \uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44 \ud130\uce58\ub2e4\uc6b4"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134\n\uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \ub2f9\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134\n\uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8 \ub9ac\ud134\ub2f9\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134\n\ud130\uce58\ub2e4\uc6b4"}]}};function BM(e){var t;let{data:n=[],teams:i=[]}=e;const[a,r]=(0,s.useState)("\uc11c\uc6b8"),[o,l]=(0,s.useState)("1\ubd80"),[c,h]=(0,s.useState)("QB"),[u,p]=(0,s.useState)("\ud328\uc2a4"),[m,g]=(0,s.useState)(null),f=(0,s.useMemo)(()=>{const e=new Set;return(Array.isArray(n)?n:[]).forEach(t=>{const n=PM[t.team];n&&e.add(n)}),Array.from(e)},[n]);(0,s.useEffect)(()=>{if(!f.length)return;const e=f.includes("\uc11c\uc6b8")?"\uc11c\uc6b8":f[0];r(t=>f.includes(t)?t:e)},[f]);const v=(0,s.useMemo)(()=>{const e=(Array.isArray(n)?n:[]).filter(e=>PM[e.team]===a),t=new Set(e.map(e=>e.division).filter(Boolean));return Array.from(t)},[n,a]);(0,s.useEffect)(()=>{if(!v.length)return;const e=v.includes("1\ubd80")?"1\ubd80":v[0];l(t=>v.includes(t)?t:e)},[v]);const y="\uc0ac\ud68c\uc778"!==a&&v.length>0,x=(0,s.useMemo)(()=>FM[c]||["default"],[c]);(0,s.useEffect)(()=>{var e,t,n;if(!c||!u)return;const s=null!==(e=null===(t=RM[c])||void 0===t?void 0:t[u])&&void 0!==e?e:null===(n=RM[c])||void 0===n?void 0:n.default;g(s?{key:s,direction:"desc"}:null)},[u,c]);const b=(null===(t=IM[c])||void 0===t?void 0:t[u])||[],w=(0,s.useMemo)(()=>{const e=(Array.isArray(n)?n:[]).filter(e=>{if(e.position!==c)return!1;return(PM[e.team]||"")===a&&("\uc0ac\ud68c\uc778"===a||e.division===o)});if(!m)return e;const{key:t,direction:s}=m;return[...e].sort((e,n)=>{var i,a;if(DM.has(t)){var r,o;const[i,a]=LM(null!==(r=e[t])&&void 0!==r?r:"0-0"),[l,c]=LM(null!==(o=n[t])&&void 0!==o?o:"0-0"),d=OM.has(t)?1:-1,h="asc"===s?-1:1,u=(i-l)*d*h;if(0!==u)return u;return(a-c)*d*h}const l=null!==(i=e[t])&&void 0!==i?i:0,c=null!==(a=n[t])&&void 0!==a?a:0;return(l<c?-1:l>c?1:0)*("asc"===s?1:-1)*(OM.has(t)?-1:1)})},[n,a,o,c,m]),_=(0,s.useMemo)(()=>{if(!w.length||!m)return w.map((e,t)=>d(d({},e),{},{__rank:t+1}));const{key:e}=m;let t=null,n=0,s=0;return w.map(i=>{s+=1;const a=(t=>{var n;if(DM.has(e)){var s;const[n,i]=LM(null!==(s=t[e])&&void 0!==s?s:"0-0");return"".concat(n,"|").concat(i)}return null!==(n=t[e])&&void 0!==n?n:0})(i);return a!==t&&(n=s),t=a,d(d({},i),{},{__rank:n})})},[w,m]),S=(e,t)=>{if("number"===typeof t){return String(e).toLowerCase().includes("percentage")?"".concat(t.toFixed(1)):t%1!==0?t.toFixed(1):t}return null!==t&&void 0!==t?t:"0"};return(0,qt.jsxs)("div",{className:"stat-position",children:[(0,qt.jsx)("div",{className:"stat-header",children:(0,qt.jsxs)("div",{className:"stat-dropdown-group",children:[(0,qt.jsx)(NM,{label:"League",placeholder:"\ub9ac\uadf8",value:a,options:f,onChange:r,disabled:f.length<=1}),y&&(0,qt.jsx)(NM,{label:"Division",placeholder:"\ub514\ube44\uc804",value:o,options:v,onChange:l,disabled:v.length<=1}),(0,qt.jsx)(NM,{label:"Position",placeholder:"\ud3ec\uc9c0\uc158",value:c,options:MM,onChange:e=>{var t,n,s;const i=(FM[e]||["default"])[0],a=null!==(t=null===(n=RM[e])||void 0===n?void 0:n[i])&&void 0!==t?t:null===(s=RM[e])||void 0===s?void 0:s.default;h(e),p(i),g(a?{key:a,direction:"desc"}:null)}}),x.length>1&&(0,qt.jsx)(NM,{label:"Category",placeholder:"\uc720\ud615",value:u,options:x,onChange:p})]})}),(0,qt.jsx)("div",{className:"table-header",children:(0,qt.jsx)("div",{className:"table-title",children:"\ud3ec\uc9c0\uc158\ubcc4 \uc120\uc218 \uc21c\uc704"})}),(0,qt.jsx)("div",{className:"table-wrapper",children:(0,qt.jsxs)("div",{className:"stat-table",children:[(0,qt.jsx)("div",{className:"table-head",children:(0,qt.jsxs)("div",{className:"table-row",children:[(0,qt.jsxs)("div",{className:"table-row1",children:[(0,qt.jsx)("div",{className:"table-header-cell rank-column",children:"\uc21c\uc704"}),(0,qt.jsx)("div",{className:"table-header-cell player-column",children:"\uc120\uc218 \uc774\ub984"}),(0,qt.jsx)("div",{className:"table-header-cell team-column",children:"\uc18c\uc18d\ud300"})]}),(0,qt.jsx)("div",{className:"table-row2",style:{"--cols":b.length,whiteSpace:"pre-line"},children:b.map(e=>{var t,n;const s=m&&m.key===e.key,i=s?m.direction:null,a=(null===(t=RM[c])||void 0===t?void 0:t[u])===e.key||(null===(n=RM[c])||void 0===n?void 0:n.default)===e.key;return(0,qt.jsx)("div",{className:"table-header-cell stat-column sortable\n                        ".concat(s?"active-blue":"","\n                        ").concat(a&&!s?"primary-orange":""),children:(0,qt.jsxs)("button",{type:"button",className:"sort-toggle one ".concat(null!==i&&void 0!==i?i:"none"),onClick:()=>{return t=e.key,void g(e=>e&&e.key===t?{key:t,direction:"desc"===e.direction?"asc":"desc"}:{key:t,direction:"desc"});var t},title:i?"\uc815\ub82c: ".concat("desc"===i?"\ub0b4\ub9bc\ucc28\uc21c":"\uc624\ub984\ucc28\uc21c"):"\uc815\ub82c \uc801\uc6a9",children:[(0,qt.jsx)("span",{className:"column-label",children:e.label}),(0,qt.jsx)(EM,{className:"chev ".concat("asc"===i?"asc":""," ").concat(s?"active-blue":""),size:30})]})},e.key)})})]})}),(0,qt.jsxs)("div",{className:"table-body",children:[_.map((e,t)=>{const n=i.find(t=>t.name===e.team),s="table-rows ".concat("2\ubd80"===o?"is-division2":"");return(0,qt.jsxs)("div",{className:"table-rows ".concat(s),children:[(0,qt.jsxs)("div",{className:"table-row1",children:[(0,qt.jsxs)("div",{className:"table-cell",children:[e.__rank,"\uc704"]}),(0,qt.jsx)("div",{className:"table-cell player-name clickable",children:e.name}),(0,qt.jsxs)("div",{className:"table-cell team-name",children:[(null===n||void 0===n?void 0:n.logo)&&(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:n.logo,alt:"".concat(e.team," \ub85c\uace0"),className:"team-logo-img ".concat(n.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{children:e.team})]})]}),(0,qt.jsx)("div",{className:"table-row2",style:{"--cols":b.length},children:b.map(t=>(0,qt.jsx)("div",{className:"table-cell",children:S(t.key,e[t.key])},t.key))})]},e.id||"".concat(e.name,"-").concat(e.team)||t)}),!_.length&&(0,qt.jsx)("div",{className:"empty-rows",children:"\ud45c\uc2dc\ud560 \uc120\uc218\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})})]})}const WM={2024:{"\uc11c\uc6b8":{event:"\ucd94\uacc4",divisions:[{name:"1\ubd80",groups:[{name:"1\uc870",teams:["\uc5f0\uc138\ub300 \uc774\uae00\uc2a4","\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4","\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20","\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2024-09-07 15:30",location:"\uc11c\uc6b8\ub300 \ub300\uc6b4\ub3d9\uc7a5",home:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",away:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",homeScore:6,awayScore:27,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-09-08 12:30",location:"\uc11c\uc6b8\ub300 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:36,awayScore:0,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-05 13:00",location:"\uc591\ud3c9\ub204\ub9ac\uccb4\uc721\uacf5\uc6d0",home:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",away:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",homeScore:0,awayScore:41,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-06 13:00",location:"\uc591\ud3c9\ub204\ub9ac\uccb4\uc721\uacf5\uc6d0",home:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:13,awayScore:9,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-12 13:00",location:"\uad6d\ubbfc\ub300 \uc6b4\ub3d9\uc7a5",home:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:13,awayScore:12,winner:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20"},{stage:"\uc870\ubcc4",date:"2024-10-13 18:00",location:"\uc57d\ub300\uc6b8 \uccb4\uc721\uacf5\uc6d0",home:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",away:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",homeScore:12,awayScore:14,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"}]},{name:"2\uc870",teams:["\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4","\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4","\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4","\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2024-09-07 09:00",location:"\uc11c\uc6b8\ub300 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",homeScore:38,awayScore:7,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-09-08 15:30",location:"\uc11c\uc6b8\ub300 \ub300\uc6b4\ub3d9\uc7a5",home:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",away:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",homeScore:0,awayScore:36,winner:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-06 15:30",location:"\uc57d\ub300\uc6b8 \uccb4\uc721\uacf5\uc6d0",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",homeScore:41,awayScore:6,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-06 18:00",location:"\uc57d\ub300\uc6b8 \uccb4\uc721\uacf5\uc6d0",home:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",away:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",homeScore:0,awayScore:20,winner:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-12 15:30",location:"\uad6d\ubbfc\ub300 \uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",homeScore:27,awayScore:13,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"\uc870\ubcc4",date:"2024-10-12 18:00",location:"\uad6d\ubbfc\ub300 \uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",away:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",homeScore:21,awayScore:19,winner:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4"}]}],final:[{stage:"\uacb0\uc2b9\uc804",date:"2024-10-19 19:30",location:"\uc7ac\ud604\uace0\ub4f1\ud559\uad50",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",homeScore:7,awayScore:19,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"}],playoffs:[{stage:"3,4\uc704\uc804",date:"2024-11-10 15:30",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",away:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",homeScore:13,awayScore:22,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"5,6\uc704\uc804",date:"2024-11-10 13:00",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",away:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",homeScore:16,awayScore:6,winner:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4"},{stage:"7,8\uc704\uc804",date:"2024-10-20 17:00",location:"\uc11c\uc6b8\ub300 \ub300\uc6b4\ub3d9\uc7a5",home:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:8,awayScore:10,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"}],promotion:[{stage:"\uc2b9\uac15\uc804",date:"2024-11-09 10:00",location:"\ud6a8\ucc3d \uc6b4\ub3d9\uc7a5",home:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",away:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",homeScore:6,awayScore:36,winner:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4"}]}]}}},UM=[{team:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",division:"1\ubd80",points_per_game:28.3,total_points:113,total_touchdowns:16,total_yards:1628,yards_per_game:407,rushing_attempts:183,rushing_yards:1021,yards_per_carry:5.6,rushing_yards_per_game:255.3,rushing_td:10,"pass_completions-attempts":"62-104",passing_yards:607,passing_yards_per_passing_attempts:5.8,passing_yards_per_game:151.8,passing_td:6,interceptions:2,total_punt_yards:1716,average_punt_yards:42.9,touchback_percentage:"21.8%","field_goal_completions-attempts":"3-3",yards_per_kick_return:27.2,yards_per_punt_return:12.5,total_return_yards:1025,"fumble-turnover":"4-2",turnover_per_game:1.1,turnover_rate:"+3","penalty-pen_yards":"20-113",pen_yards_per_game:28.3},{team:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",division:"1\ubd80",points_per_game:27.5,total_points:110,total_touchdowns:15,total_yards:1549,yards_per_game:387.3,rushing_attempts:129,rushing_yards:631,yards_per_carry:4.9,rushing_yards_per_game:157.8,rushing_td:6,"pass_completions-attempts":"72-97",passing_yards:918,passing_yards_per_passing_attempts:9.5,passing_yards_per_game:229.5,passing_td:9,interceptions:1,total_punt_yards:1828,average_punt_yards:45.7,touchback_percentage:"21.2%","field_goal_completions-attempts":"4-4",yards_per_kick_return:29.3,yards_per_punt_return:13.1,total_return_yards:1148,"fumble-turnover":"3-2",turnover_per_game:.9,turnover_rate:"+4","penalty-pen_yards":"25-180",pen_yards_per_game:45},{team:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",division:"1\ubd80",points_per_game:18.5,total_points:74,total_touchdowns:9,total_yards:1021,yards_per_game:255.3,rushing_attempts:158,rushing_yards:713,yards_per_carry:4.5,rushing_yards_per_game:178.3,rushing_td:7,"pass_completions-attempts":"20-42",passing_yards:308,passing_yards_per_passing_attempts:7.3,passing_yards_per_game:77,passing_td:2,interceptions:2,total_punt_yards:1648,average_punt_yards:41.2,touchback_percentage:"19.2%","field_goal_completions-attempts":"0-1",yards_per_kick_return:25.1,yards_per_punt_return:12.1,total_return_yards:983,"fumble-turnover":"5-4",turnover_per_game:1.3,turnover_rate:"+2","penalty-pen_yards":"32-210",pen_yards_per_game:52.5},{team:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",division:"1\ubd80",points_per_game:20.5,total_points:82,total_touchdowns:11,total_yards:1130,yards_per_game:282.5,rushing_attempts:142,rushing_yards:623,yards_per_carry:4.4,rushing_yards_per_game:155.8,rushing_td:8,"pass_completions-attempts":"32-67",passing_yards:507,passing_yards_per_passing_attempts:7.6,passing_yards_per_game:126.8,passing_td:3,interceptions:2,total_punt_yards:1576,average_punt_yards:39.4,touchback_percentage:"18.7%","field_goal_completions-attempts":"0-2",yards_per_kick_return:22.3,yards_per_punt_return:11.4,total_return_yards:961,"fumble-turnover":"5-4",turnover_per_game:1.4,turnover_rate:"0","penalty-pen_yards":"28-195",pen_yards_per_game:48.8},{team:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",division:"1\ubd80",points_per_game:11,total_points:44,total_touchdowns:6,total_yards:783,yards_per_game:195.8,rushing_attempts:191,rushing_yards:603,yards_per_carry:3.2,rushing_yards_per_game:150.8,rushing_td:5,"pass_completions-attempts":"22-51",passing_yards:180,passing_yards_per_passing_attempts:3.5,passing_yards_per_game:45,passing_td:1,interceptions:3,total_punt_yards:1604,average_punt_yards:40.1,touchback_percentage:"16.3%","field_goal_completions-attempts":"0-0",yards_per_kick_return:23.4,yards_per_punt_return:10.3,total_return_yards:894,"fumble-turnover":"6-3",turnover_per_game:2.1,turnover_rate:"-1","penalty-pen_yards":"35-175",pen_yards_per_game:43.8},{team:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",division:"1\ubd80",points_per_game:6.3,total_points:25,total_touchdowns:3,total_yards:692,yards_per_game:173,rushing_attempts:185,rushing_yards:581,yards_per_carry:3.1,rushing_yards_per_game:145.3,rushing_td:2,"pass_completions-attempts":"12-36",passing_yards:111,passing_yards_per_passing_attempts:3.1,passing_yards_per_game:27.8,passing_td:1,interceptions:4,total_punt_yards:1536,average_punt_yards:38.4,touchback_percentage:"12.7%","field_goal_completions-attempts":"0-0",yards_per_kick_return:20.2,yards_per_punt_return:9.8,total_return_yards:872,"fumble-turnover":"6-4",turnover_per_game:1.9,turnover_rate:"-1","penalty-pen_yards":"33-181",pen_yards_per_game:45.3},{team:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",division:"1\ubd80",points_per_game:7.8,total_points:31,total_touchdowns:4,total_yards:726,yards_per_game:181.5,rushing_attempts:174,rushing_yards:598,yards_per_carry:3.4,rushing_yards_per_game:149.5,rushing_td:3,"pass_completions-attempts":"15-41",passing_yards:128,passing_yards_per_passing_attempts:3.1,passing_yards_per_game:32,passing_td:1,interceptions:5,total_punt_yards:1488,average_punt_yards:37.2,touchback_percentage:"9.5%","field_goal_completions-attempts":"0-0",yards_per_kick_return:19.8,yards_per_punt_return:9.2,total_return_yards:781,"fumble-turnover":"7-5",turnover_per_game:2.6,turnover_rate:"-3","penalty-pen_yards":"42-215",pen_yards_per_game:53.8},{team:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",division:"1\ubd80",points_per_game:8.3,total_points:33,total_touchdowns:4,total_yards:752,yards_per_game:188,rushing_attempts:203,rushing_yards:692,yards_per_carry:3.4,rushing_yards_per_game:173,rushing_td:3,"pass_completions-attempts":"16-45",passing_yards:60,passing_yards_per_passing_attempts:1.3,passing_yards_per_game:15,passing_td:1,interceptions:6,total_punt_yards:1412,average_punt_yards:35.3,touchback_percentage:"9.2%","field_goal_completions-attempts":"0-0",yards_per_kick_return:18.6,yards_per_punt_return:8.6,total_return_yards:793,"fumble-turnover":"8-3",turnover_per_game:2.8,turnover_rate:"-4","penalty-pen_yards":"51-260",pen_yards_per_game:65}],zM=e=>/^\d+-\d+$/.test(e),GM=e=>(e=>/^-?\d+(\.\d+)?$/.test(e))(e)||zM(e)||/%$/.test(e),HM=e=>zM(e)?e:parseFloat(e);function YM(e){const t=e.trim().split(/\s+/);if(!t.length)return null;const n=t[0];let s=1;const i=[];for(;s<t.length&&!GM(t[s]);)i.push(t[s]),s+=1;return{name:n,team:i.join(" "),stats:t.slice(s).map(HM)}}const VM=(e,t,n)=>"".concat(e,"|").concat(t,"|").concat(n),qM={"QB|\ud328\uc2a4":["games","passing_attempts","pass_completions","completion_percentage","passing_yards","passing_td","interceptions","longest_pass","sacks"],"QB|\ub7f0":["games","rushing_attempts","rushing_yards","yards_per_carry","rushing_td","longest_rushing"],"RB|\ub7f0":["games","rushing_attempts","rushing_yards","yards_per_carry","rushing_td","longest_rushing","rushingFumbles","rushingFumblesLost"],"RB|\ud328\uc2a4":["games","targets","receptions","receiving_yards","yards_per_catch","receiving_td","longest_reception","receiving_first_downs","passingFumbles","passingFumblesLost"],"RB|\uc2a4\ud398\uc15c\ud300":["games","kick_returns","kick_return_yards","yards_per_kick_return","punt_returns","punt_return_yards","yards_per_punt_return","return_td"],"WR|\ud328\uc2a4":["games","targets","receptions","receiving_yards","yards_per_catch","receiving_td","longest_reception","receiving_first_downs","passingFumbles","passingFumblesLost"],"WR|\ub7f0":["games","rushing_attempts","rushing_yards","yards_per_carry","rushing_td","longest_rushing","rushingFumbles","rushingFumblesLost"],"WR|\uc2a4\ud398\uc15c\ud300":["games","kick_returns","kick_return_yards","yards_per_kick_return","punt_returns","punt_return_yards","yards_per_punt_return","return_td"],"TE|\ud328\uc2a4":["games","targets","receptions","receiving_yards","yards_per_catch","receiving_td","longest_reception","fumbles","fumbles_lost"],"TE|\ub7f0":["games","rushing_attempts","rushing_yards","yards_per_carry","rushing_td","longest_rushing","fumbles","fumbles_lost"],"K|\uc2a4\ud398\uc15c\ud300":["games","extra_points_attempted","extra_points_made","field_goal","field_goal_percentage","field_goal_1_19","field_goal_20_29","field_goal_30_39","fiedl_goal_40_49","field_goal_50_plus","longest_field_goal"],"P|\uc2a4\ud398\uc15c\ud300":["games","punt_count","punt_yards","average_punt_yard","longest_punt","touchbacks","touchback_percentage","inside20","inside20_percentage"],"OL|default":["offensive_snaps_played","penalties","sacks_allowed"],"DL|default":["games","tackles","TFL","sacks","forced_fumbles","fumble_recovery","fumble_recovered_yards","pass_defended","interceptions","interception_yards","touchdowns"],"LB|default":["games","tackles","TFL","sacks","forced_fumbles","fumble_recovery","fumble_recovered_yards","pass_defended","interceptions","interception_yards","touchdowns"],"DB|\uc218\ube44":["games","tackles","TFL","sacks","forced_fumbles","fumble_recovery","fumble_recovered_yards","pass_defended","interceptions","interception_yards","touchdowns"],"DB|\uc2a4\ud398\uc15c\ud300":["games","kick_returns","kick_return_yards","yards_per_kick_return","punt_returns","punt_return_yards","yards_per_punt_return","return_td"]};function KM(e,t,n,s){const i=qM["".concat(t,"|").concat(n)];s.map(e=>e.trim()).filter(e=>e&&!e.startsWith("//")).forEach(n=>{const s=YM(n);if(!s)return;const{name:a,team:r,stats:o}=s,l=VM(t,r,a);e.has(l)||e.set(l,{position:t,team:r,division:"1\ubd80",name:a});const c=e.get(l);i.forEach((e,t)=>{var n,s;c[e]=null!==(n=null!==(s=o[t])&&void 0!==s?s:c[e])&&void 0!==n?n:zM(e)?"0-0":0})})}const XM=["15\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 108 40 37.0 1084 8 8 52 1","8\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 76 38 46.2 450 2 6 56 0","13\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 3 39 30 76.9 663 3 0 46 0","9\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 86 38 44.2 436 2 12 96 1","19\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 1 19 10 52.6 190 2 0 58 1","30\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 86 28 32.6 298 2 6 48 4","15\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 72 36 50 492 8 8 34 0","9\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 80 44 55 412 0 4 27 2","1\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 68 16 23.5 378 4 0 71 0"],QM=["15\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 4 88 22 0 22","8\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 24 258 10.8 4 40","13\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 3 9 15 1.7 0 5","9\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 8 -22 -2.7 0 0","19\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 1 3 -6 -2 0 0","30\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 10 -20 -2 2 3","15\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 16 96 6 4 14","9\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 20 72 3.6 0 12","1\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 8 48 6 0 19"],JM=["26\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 56 772 13.8 4 54 0 0","35\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 38 378 9.9 2 83 1 1","21\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 42 368 8.8 4 61 1 0","18\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 52 270 5.2 0 44 0 0","80\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 120 516 4.3 8 22 2 1","7\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 44 288 6.5 4 28 0 0","5\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 24 116 3.5 0 9 0 0","26\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 8 80 10 0 18 0 0"],ZM=["20\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 4 108 27 0 27 4 0 0","35\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 10 6 52 8.7 0 20 0 0 0","21\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 8 8 122 15.3 0 42 2 0 0","18\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 4 4 24 6 0 11 0 0 0","80\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 8 4 0 0 0 0 0 0 0","20\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 4 4 12 3 0 3 0 0 0","18\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 4 4 -12 -3 -3 0 0 0 0 0","28\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 4 0 0 0 0 0 0 0 0"],$M=["26\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 36 9 0 0 0 0","7\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 2 38 19 0 0 0 0","21\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 2 32 16 0 0 0 0","18\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 2 18 9 0 0 0 0","80\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 1 10 10 0 0 0 0","20\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 6 108 18 1 3 3 0","18\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 0 0 0 3 12 4 0","28\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 2 4 2 0 0 0 0"],eO=["18\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 32 24 360 15 4 34 5 0 0","24\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 22 10 106 10.6 0 30 3 0 0","88\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 18 12 334 27.8 4 52 5 0 0","20\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 24 8 332 41.5 4 77 4 0 0","86\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 4 4 284 71 4 71 4 0 0","84\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 28 16 268 16.8 0 33 2 0 0","20\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 32 24 232 9.7 0 27 2 0 0","16\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 28 12 416 34.7 4 52 8 0 0"],tO=["18\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 6 24 4 0 15 0 0","10\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 6 38 6.3 0 15 0 0","88\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 2 24 12 0 12 0 0","10\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 10 82 8.2 0 21 0 0","13\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 4 16 4 0 5 0 0","27\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 4 4 1 0 0 0 0","3\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 4 20 5 0 5 0 0","19\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 4 4 1 0 0 0 0"],nO=["18\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 8 176 22 0 0 0 0","9\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 6 60 10 0 0 0 0","28\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 4 52 13 0 0 0 0","20\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 4 212 53 0 0 0 0","44\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 4 292 76 0 0 0 0","86\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 8 188 23.5 4 -8 -2 0","3\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 0 0 0 4 12 3 0","24\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 8 84 10.5 0 0 0 0"],sO=["87\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 1 1 12 12 0 12 0 0","86\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 10 10 176 17.6 0 48 0 0","18\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 12 12 236 19.7 4 30 0 0","87\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 2 1 8 8 0 8 0 0","18\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 1 0 0 0 0 0 0 0","87\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 8 8 24 3 0 6 0 0","32\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 3 2 22 11 0 13 0 0","90\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 2 1 15 15 1 15 0 0"],iO=sO.map(e=>{const{name:t,team:n}=YM(e);return"".concat(t," ").concat(n," 4 0 0 0 0 0 0 0")}),aO=["18\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 4 0-3 0 0-1 0-1 0-1 0-1 0 0","8\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 20 20 4-4 100 1-1 1-1 1-1 1-1 0 44","21\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 36 28 0-0 0 0 0 0 0 0 0","10\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 3 3 0-0 0 0 0 0 0 0 0","1\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 8 4 0-0 0 0 0 0 0 0 0","27\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 8 8 0-0 0 0 0 0 0 0 0","20\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 2 1 0-0 0 0 0 0 0 0 0","24\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 4 4 1-2 50 1-2 0 0 0 0 18"],rO=["88\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 208 52 52 0 0.0 1 25.0","98\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 12 336 28 44 4 33.3 4 33.3","12\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 8 294 36.8 46 0 0.0 2 25","20\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 12 512 42.7 60 0 0.0 8 66.7","1\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 24 772 32.2 60 0 0.0 8 33.3","99\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 20 944 47.2 57 4 20.0 8 40.0","20\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 20 624 31.2 52 0 0.0 8 40.0","24\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 4 84 21 21 0 0.0 0 0.0"],oO=["50\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 0 1"],lO=["11\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 20 4 0 0 0 0 0 0 0 0","50\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 28 24 4 4 4 104 0 0 0 1","77\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 12 8 2 0 0 0 0 0 0 0","78\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 16 0 0 0 0 0 0 0 0 0","79\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 4 32 20 2.5 0 0 0 0 0 0 0","58\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 14 2 0 0 0 0 0 0 0 0","61\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 20 4 4 0 0 0 0 0 0 0","44\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 16 0 0 0 0 0 0 0 0 0"],cO=["5\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 0 0 0 0 0 0 1 12 0","89\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 8 2 0 0 0 0 2 0 0 0","41\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 14 4 0 0 0 0 0 0 0 0","69\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 24 0 0 0 0 0 0 1 0 0","59\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 28 12 0 0 0 0 0 0 0 0","99\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 18 2 0 0 0 0 6 0 0 0","15\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 12 0 0 0 0 0 0 0 0 0","54\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 18 2 0 4 0 0 0 0 0 0"],dO=["2\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 16 8 0 0 0 0 0 0 0 0","9\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 8 2 0 0 0 0 2 0 0 0","28\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 14 6 0 2 0 0 0 2 12 0","10\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 20 0 0 0 0 0 2 1 13 0","13\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 28 0 0 0 0 0 0 4 0 0","33\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 18 0 0 0 0 0 0 6 40 0","20\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 12 0 0 0 0 0 0 0 0 0","35\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 24 0 0 0 0 0 0 0 0 0"],hO=["27\ubc88 \ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4 4 4 60 15 0 0 0 0","9\ubc88 \uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4 4 6 60 10 0 0 0 0","28\ubc88 \uc5f0\uc138\ub300 \uc774\uae00\uc2a4 4 4 52 13 0 0 0 0","10\ubc88 \ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20 4 4 212 53 0 0 0 0","13\ubc88 \ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4 4 4 292 76 0 0 0 0","33\ubc88 \uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4 4 8 188 23.5 4 -8 -2 0","20\ubc88 \uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4 4 0 0 0 4 12 3 0","35\ubc88 \uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4 4 8 84 10.5 0 0 0 0"];const uO=function(){const e=new Map;return KM(e,"QB","\ud328\uc2a4",XM),KM(e,"QB","\ub7f0",QM),KM(e,"RB","\ub7f0",JM),KM(e,"RB","\ud328\uc2a4",ZM),KM(e,"RB","\uc2a4\ud398\uc15c\ud300",$M),KM(e,"WR","\ud328\uc2a4",eO),KM(e,"WR","\ub7f0",tO),KM(e,"WR","\uc2a4\ud398\uc15c\ud300",nO),KM(e,"TE","\ud328\uc2a4",sO),KM(e,"TE","\ub7f0",iO),KM(e,"K","\uc2a4\ud398\uc15c\ud300",aO),KM(e,"P","\uc2a4\ud398\uc15c\ud300",rO),oO.forEach(t=>{var n,s;const{name:i,team:a,stats:r}=YM(t),o=VM("OL",a,i);e.has(o)||e.set(o,{position:"OL",team:a,division:"1\ubd80",name:i});const l=e.get(o);l.offensive_snaps_played=0,l.penalties=null!==(n=r[0])&&void 0!==n?n:0,l.sacks_allowed=null!==(s=r[1])&&void 0!==s?s:0}),KM(e,"DL","default",lO),KM(e,"LB","default",cO),KM(e,"DB","\uc218\ube44",dO),KM(e,"DB","\uc2a4\ud398\uc15c\ud300",hO),Array.from(e.values())}(),pO=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(BM,{data:uO,teams:yb})});function mO(e){let{value:t,options:n,onChange:i,label:a,placeholder:r,onTouch:o,disabled:l=!1}=e;const[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),p=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,qt.jsxs)("div",{className:"dropdown-container",ref:p,"aria-label":a,children:[(0,qt.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(c?"open":""," ").concat(h?"":"placeholder"),onClick:()=>{l||(d(e=>!e),o&&o())},disabled:l,children:[(0,qt.jsx)("span",{className:"dropdown-text",children:h?t:null!==r&&void 0!==r?r:t}),(0,qt.jsx)(aw,{size:16,className:"dropdown-arrow ".concat(c?"rotated":"")})]}),c&&!l&&(0,qt.jsx)("div",{className:"dropdown-menu",children:(0,qt.jsx)("ul",{className:"dropdown-list",children:n.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"dropdown-option ".concat(t===e?"selected":""),onClick:()=>{i(e),u(!0),d(!1)},role:"option","aria-selected":t===e,type:"button",children:e})},e))})})]})}const gO={"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4":"\uc11c\uc6b8","\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4":"\uc11c\uc6b8","\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4":"\uc11c\uc6b8","\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4":"\uc11c\uc6b8","\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4":"\uc11c\uc6b8","\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20":"\uc11c\uc6b8","\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4":"\uc11c\uc6b8","\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4":"\uc11c\uc6b8","\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4":"\uc11c\uc6b8","\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4":"\uc11c\uc6b8","\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4":"\uc11c\uc6b8","\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4":"\uc11c\uc6b8","\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4":"\uc11c\uc6b8","\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4":"\uc11c\uc6b8","\uac15\uc6d0\ub300 \uce74\ud504\ub77c\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4":"\uacbd\uae30\uac15\uc6d0","\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4":"\uacbd\uae30\uac15\uc6d0","\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uae08\uc624\uacf5\uacfc\ub300 \ub808\uc774\ube10\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20":"\ub300\uad6c\uacbd\ubd81","\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4":"\ub300\uad6c\uacbd\ubd81","\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4":"\ub300\uad6c\uacbd\ubd81","\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988":"\ubd80\uc0b0\uacbd\ub0a8","\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ubd80\uc0b0\uc678\uad6d\uc5b4\ub300 \ud1a0\ub124\uc774\ub3c4":"\ubd80\uc0b0\uacbd\ub0a8","\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4":"\ubd80\uc0b0\uacbd\ub0a8","\uad70\uc704 \ud53c\ub2c9\uc2a4":"\uc0ac\ud68c\uc778","\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988":"\uc0ac\ud68c\uc778","\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4":"\uc0ac\ud68c\uc778","\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4":"\uc0ac\ud68c\uc778","\uc778\ucc9c \ub77c\uc774\ub178\uc2a4":"\uc0ac\ud68c\uc778"},fO=[...Array.from(new Set(Object.values(gO)))],vO=["1\ubd80","2\ubd80"],yO=["\ub4dd\uc810/\uacbd\uae30","\ub7f0","\ud328\uc2a4","\uc2a4\ud398\uc15c\ud300","\uae30\ud0c0"],xO=new Set(["interceptions","sacks","fumbles","fumbles_lost","penalties","sacks_allowed","touchback_percentage","fumble-turnover","turnover_per_game","turnover_rate","penalty-pen_yards","pen_yards_per_game"]),bO=new Set(["pass_completions-attempts","field_goal_completions-attempts","fumble-turnover","penalty-pen_yards"]),wO=e=>{if("string"!==typeof e)return[0,0];const[t,n]=e.split("-").map(e=>parseFloat(e)||0);return[t,n]},_O=(e,t)=>{const n=null===e||void 0===e?void 0:e[t];if("number"===typeof n)return n;if("string"===typeof n)switch(t){case"pass_completions-attempts":{const[e,t]=wO(n);return t>0?e/t:0}case"field_goal_completions-attempts":{const[e,t]=wO(n);return t>0?e/t:0}case"fumble-turnover":{const[,e]=wO(n);return e}case"penalty-pen_yards":{const[,e]=wO(n);return e}default:return parseFloat(n)||0}return 0},SO={"\ub4dd\uc810/\uacbd\uae30":"total_yards","\ud328\uc2a4":"pass_completions-attempts","\ub7f0":"rushing_attempts","\uc2a4\ud398\uc15c\ud300":"total_return_yards","\uae30\ud0c0":"turnover_per_game"},kO={"\ub4dd\uc810/\uacbd\uae30":[{key:"points_per_game",label:"\uacbd\uae30\ub2f9 \ud3c9\uade0 \ub4dd\uc810"},{key:"total_points",label:"\ucd1d \ub4dd\uc810"},{key:"total_touchdowns",label:"\ucd1d \ud130\uce58\ub2e4\uc6b4"},{key:"total_yards",label:"\ucd1d \uc804\uc9c4\uc57c\ub4dc"},{key:"yards_per_game",label:"\uacbd\uae30\ub2f9 \uc804\uc9c4 \uc57c\ub4dc"}],"\ub7f0":[{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9\n\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_yards_per_game",label:"\uacbd\uae30\ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"}],"\ud328\uc2a4":[{key:"pass_completions-attempts",label:"\ud328\uc2a4 \uc131\uacf5\n\ud328\uc2a4 \uc2dc\ub3c4"},{key:"passing_yards",label:"\ud328\uc2f1 \uc57c\ub4dc"},{key:"passing_yards_per_passing_attempts",label:"\ud328\uc2a4 \uc2dc\ub3c4 \ub2f9\n\ud328\uc2a4 \uc57c\ub4dc"},{key:"passing_yards_per_game",label:"\uacbd\uae30\ub2f9\n\ud328\uc2a4 \uc57c\ub4dc"},{key:"passing_td",label:"\ud328\uc2a4\n\ud130\uce58\ub2e4\uc6b4"},{key:"interceptions",label:"\uc778\ud130\uc149\ud2b8"}],"\uc2a4\ud398\uc15c\ud300":[{key:"total_punt_yards",label:"\ucd1d \ud380\ud2b8\n\uc57c\ub4dc"},{key:"average_punt_yards",label:"\ud3c9\uade0 \ud380\ud2b8\n\uc57c\ub4dc"},{key:"touchback_percentage",label:"\ud130\uce58\ubc31\n\ud37c\uc13c\ud2f0\uc9c0"},{key:"field_goal_completions-attempts",label:"\ud544\ub4dc\uace8 \uc131\uacf5\ucd1d \uc2dc\ub3c4"},{key:"yards_per_kick_return",label:"\ud3c9\uade0 \ud0a5\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud3c9\uade0 \ud380\ud2b8\n\ub9ac\ud134 \uc57c\ub4dc"},{key:"total_return_yards",label:"\ucd1d \ub9ac\ud134\n\uc57c\ub4dc"}],"\uae30\ud0c0":[{key:"fumble-turnover",label:"\ud38c\ube14 \uc218\n\ud38c\ube14 \ud134\uc624\ubc84 \uc218"},{key:"turnover_per_game",label:"\uacbd\uae30 \ub2f9\n\ud134\uc624\ubc84 \uc218"},{key:"turnover_rate",label:"\ud134\uc624\ubc84 \ube44\uc728"},{key:"penalty-pen_yards",label:"\ucd1d \ud398\ub110\ud2f0 \uc218\n\ucd1d \ud398\ub110\ud2f0 \uc57c\ub4dc"},{key:"pen_yards_per_game",label:"\uacbd\uae30 \ub2f9\n\ud398\ub110\ud2f0 \uc57c\ub4dc"}]};function CO(e){let{data:t,teams:n=[],fixedLeague:i,fixedDivision:a}=e;const r=Boolean(i&&a),[o,l]=(0,s.useState)(i||"\uc11c\uc6b8"),[c,h]=(0,s.useState)(a||"1\ubd80"),[u,p]=(0,s.useState)("\ub4dd\uc810/\uacbd\uae30"),[m,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i&&l(i)},[i]),(0,s.useEffect)(()=>{a&&h(a)},[a]);const f=!!r||"\uc0ac\ud68c\uc778"!==o&&m,v=kO[u]||[],[y,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=SO[u];x(e?{key:e,direction:"desc"}:null)},[u]);const b=(0,s.useMemo)(()=>{const e=Array.isArray(t)?t:[],n=r?i:o,s=r?a:c,l=e.filter(e=>{const t=gO[e.team]||"";return("\uc804\uccb4"===n||t===n)&&("\uc0ac\ud68c\uc778"===n||e.division===s)});if(!y)return l;const{key:d,direction:h}=y;return[...l].sort((e,t)=>{if(bO.has(d)){var n,s;const[i,a]=wO(null!==(n=e[d])&&void 0!==n?n:"0-0"),[r,o]=wO(null!==(s=t[d])&&void 0!==s?s:"0-0"),l=xO.has(d)?1:-1,c="asc"===h?-1:1,u=(i-r)*l*c;if(0!==u)return u;return(a-o)*l*c}const i=_O(e,d),a=_O(t,d);if(i===a)return 0;let r=i-a;return xO.has(d)&&(r=-r),"asc"===h?r:-r})},[t,o,c,y,r,i,a]),w=(0,s.useMemo)(()=>{if(!b.length||!y)return b.map((e,t)=>d(d({},e),{},{__rank:t+1}));const{key:e}=y;let t=null,n=0,s=0;return b.map(i=>{var a;s+=1;const r=null!==(a=i[e])&&void 0!==a?a:0;return r!==t&&(n=s),t=r,d(d({},i),{},{__rank:n})})},[b,y]);return(0,qt.jsxs)("div",{className:"stat-position",children:[(0,qt.jsx)("div",{className:"stat-header",children:(0,qt.jsxs)("div",{className:"stat-dropdown-group",children:[(0,qt.jsx)(mO,{label:"League",placeholder:o,value:o,options:r?[i]:fO,onChange:l,onTouch:()=>g(!0),disabled:r}),f&&(0,qt.jsx)(mO,{label:"Division",placeholder:c,value:c,options:r?[a]:vO,onChange:h,disabled:r}),(0,qt.jsx)(mO,{label:"PlayType",placeholder:"\uc720\ud615",value:u,options:yO,onChange:p})]})}),(0,qt.jsx)("div",{className:"table-header",children:(0,qt.jsx)("div",{className:"table-title",children:"\ud300 \uc21c\uc704"})}),(0,qt.jsx)("div",{className:"table-wrapper",children:(0,qt.jsxs)("div",{className:"stat-table",children:[(0,qt.jsx)("div",{className:"table-head",children:(0,qt.jsxs)("div",{className:"team-table-row",children:[(0,qt.jsxs)("div",{className:"team-table-row1",children:[(0,qt.jsx)("div",{className:"team-table-header-cell rank-column",children:"\uc21c\uc704"}),(0,qt.jsx)("div",{className:"team-table-header-cell team-column",children:"\ud300"})]}),(0,qt.jsx)("div",{className:"team-table-row2",style:{"--cols":String(v.length),whiteSpace:"pre-line"},children:v.map(e=>{const t=y&&y.key===e.key,n=t?y.direction:null,s=SO[u]===e.key;return(0,qt.jsx)("div",{className:"team-table-header-cell stat-column sortable\n                        ".concat(t?"active-blue":""," ").concat(s&&!t?"primary-orange":""),children:(0,qt.jsxs)("button",{type:"button",className:"sort-toggle one ".concat(null!==n&&void 0!==n?n:"none"),onClick:()=>{return t=e.key,void x(e=>e&&e.key===t?{key:t,direction:"desc"===e.direction?"asc":"desc"}:{key:t,direction:"desc"});var t},title:n?"\uc815\ub82c: ".concat("desc"===n?"\ub0b4\ub9bc\ucc28\uc21c":"\uc624\ub984\ucc28\uc21c"):"\uc815\ub82c \uc801\uc6a9",children:[(0,qt.jsx)("span",{className:"column-label",children:e.label}),(0,qt.jsx)(EM,{className:"chev ".concat("asc"===n?"asc":""," ").concat(t?"active-blue":""),size:30})]})},e.key)})})]})}),(0,qt.jsx)("div",{className:"table-body",children:w.map(e=>{var t;const s=n.find(t=>t.name===e.team),i="2\ubd80"===(r?a:c);return(0,qt.jsxs)("div",{className:"team-table-rows ".concat(i?"is-division2":""),children:[(0,qt.jsxs)("div",{className:"team-table-row1",children:[(0,qt.jsxs)("div",{className:"team-table-cell",children:[e.__rank,"\uc704"]}),(0,qt.jsxs)("div",{className:"team-table-cell team-name",children:[(null===s||void 0===s?void 0:s.logo)&&(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:s.logo,alt:"".concat(e.team," \ub85c\uace0"),className:"team-logo-img ".concat(s.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{children:e.team})]})]}),(0,qt.jsx)("div",{className:"team-table-row2",style:{"--cols":String((null===(t=kO[u])||void 0===t?void 0:t.length)||0)},children:(kO[u]||[]).map(t=>{const n=e[t.key];if("number"===typeof n){const e=String(t.key).includes("percentage"),s=n%1!==0||e?e?"".concat(n.toFixed(1)):n.toFixed(1):n;return(0,qt.jsx)("div",{className:"team-table-cell",children:s},t.key)}return(0,qt.jsx)("div",{className:"team-table-cell",children:null!==n&&void 0!==n?n:"0"},t.key)})})]},e.id||e.team)})})]})})]})}const AO=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(CO,{data:UM,teams:yb,fixedLeague:"\uc11c\uc6b8",fixedDivision:"1\ubd80"})}),jO=n.p+"static/media/NoGroup.3fa4c6d4baef5fa809da.png",TO=n.p+"static/media/trophy.9fa8becf798b665f93b7.png",EO=e=>{let{options:t=[],value:n="",onChange:i=()=>{},placeholder:a="",className:r="",disabled:o=!1,hideValueUntilChange:l=!1}=e;const[c,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const m=t.find(e=>e.value===n),g=l&&!h?a||"":m?m.label:a;return(0,qt.jsxs)("div",{className:"dropdown-container ".concat(r),ref:p,children:[(0,qt.jsxs)("button",{className:"dropdown-trigger ".concat(c?"open":""," ").concat(o?"disabled":""),onClick:()=>{o||d(e=>!e)},disabled:o,type:"button",children:[(0,qt.jsx)("span",{className:"dropdown-text",children:g}),(0,qt.jsx)(aw,{size:16,className:"dropdown-arrow ".concat(c?"rotated":"")})]}),c&&(0,qt.jsx)("div",{className:"dropdown-menu",children:(0,qt.jsx)("ul",{className:"dropdown-list",children:t.map(e=>(0,qt.jsx)("li",{className:"dropdown-item",children:(0,qt.jsx)("button",{className:"dropdown-option ".concat(n===e.value?"selected":""),onClick:()=>(e=>{u(!0),i(e),d(!1)})(e),type:"button",children:e.label})},e.value))})})]})};function NO(e){const t={};e.teams.forEach(e=>{t[e]={name:e,wins:0,draws:0,losses:0,points:0,pointsFor:0,pointsAgainst:0,games:0}}),e.matches.forEach(e=>{null!==e.homeScore&&null!==e.awayScore&&(t[e.home].pointsFor+=e.homeScore,t[e.home].pointsAgainst+=e.awayScore,t[e.home].games++,t[e.away].pointsFor+=e.awayScore,t[e.away].pointsAgainst+=e.homeScore,t[e.away].games++,e.homeScore>e.awayScore?(t[e.home].wins++,t[e.home].points+=3,t[e.away].losses++):e.homeScore<e.awayScore?(t[e.away].wins++,t[e.away].points+=3,t[e.home].losses++):(t[e.home].draws++,t[e.home].points+=1,t[e.away].draws++,t[e.away].points+=1))});const n=Object.values(t).map(e=>d(d({},e),{},{winRate:e.games>0?(e.wins/e.games*100).toFixed(1):0,pointsDiff:e.pointsFor-e.pointsAgainst})).sort((t,n)=>{if(t.points!==n.points)return n.points-t.points;const s=function(t,n){const s={[t]:{points:0,pointsFor:0,pointsAgainst:0},[n]:{points:0,pointsFor:0,pointsAgainst:0}};return e.matches.forEach(e=>{(e.home===t&&e.away===n||e.home===n&&e.away===t)&&null!==e.homeScore&&null!==e.awayScore&&(s[e.home].pointsFor+=e.homeScore,s[e.home].pointsAgainst+=e.awayScore,s[e.away].pointsFor+=e.awayScore,s[e.away].pointsAgainst+=e.homeScore,e.homeScore>e.awayScore?s[e.home].points+=3:e.homeScore<e.awayScore?s[e.away].points+=3:(s[e.home].points+=1,s[e.away].points+=1))}),s}(t.name,n.name);if(s[t.name].points!==s[n.name].points)return s[n.name].points-s[t.name].points;const i=s[t.name].pointsFor-s[t.name].pointsAgainst,a=s[n.name].pointsFor-s[n.name].pointsAgainst;return i!==a?a-i:t.pointsDiff!==n.pointsDiff?n.pointsDiff-t.pointsDiff:t.pointsFor!==n.pointsFor?n.pointsFor-t.pointsFor:t.pointsAgainst-n.pointsAgainst});return n}function PO(e){let{currentDivision:t,group:n,teams:s=[]}=e;const i=NO(n),a=e=>{switch(e){case 0:return"rank-1st";case 1:return"rank-2nd";case 2:return"rank-3rd";case 3:return"rank-4th";default:return""}};return(0,qt.jsx)("div",{className:"group-standings-container",children:(0,qt.jsxs)("div",{className:"group-standings",children:[(0,qt.jsxs)("div",{className:"standings-header",children:[(0,qt.jsx)("div",{className:"standings-cell",children:"\uc21c\uc704"}),(0,qt.jsx)("div",{className:"standings-cell team-cell title",children:"\ud300 \uc774\ub984"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\uc2b9"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\ubb34"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\ud328"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\uc2b9\ub960"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\ub4dd\uc810"}),(0,qt.jsx)("div",{className:"standings-cell",children:"\uc2e4\uc810"})]}),i.map((e,n)=>{const i=s.find(t=>t.name===e.name);return(0,qt.jsxs)("div",{className:"standings-row ".concat("2\ubd80"===t.name?"minor":""," ").concat(a(n)),children:[(0,qt.jsx)("div",{className:"standings-cell rank-cell",children:n+1}),(0,qt.jsx)("div",{className:"standings-cell logo-cell",children:(null===i||void 0===i?void 0:i.logo)&&(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:i.logo,alt:"".concat(e.name," \ub85c\uace0"),className:"team-logo-img ".concat(i.logo.endsWith(".svg")?"svg-logo":"png-logo")})})}),(0,qt.jsx)("div",{className:"standings-cell team-cell",style:{fontSize:"14px"},children:e.name}),(0,qt.jsx)("div",{className:"standings-cell stat-cell",children:e.wins}),(0,qt.jsx)("div",{className:"standings-cell stat-cell",children:e.draws}),(0,qt.jsx)("div",{className:"standings-cell stat-cell",children:e.losses}),(0,qt.jsxs)("div",{className:"standings-cell stat-cell",children:[e.winRate,"%"]}),(0,qt.jsx)("div",{className:"standings-cell stat-cell",children:e.pointsFor}),(0,qt.jsx)("div",{className:"standings-cell stat-cell",children:e.pointsAgainst})]},e.name)})]})})}function MO(e){let{currentDivision:t,group:n,index:s,match:i,teams:a=[],hasMultipleGroups:r}=e;const o=a.find(e=>e.name===i.home)||{name:i.home,logo:""},l=a.find(e=>e.name===i.away)||{name:i.away,logo:""};return(0,qt.jsxs)("div",{className:"match-row ".concat("2\ubd80"===t.name?"minor":""),children:[n?(0,qt.jsxs)("div",{className:"match-round",children:[r?"".concat(n," "):"",s+1," \uacbd\uae30"]}):(0,qt.jsxs)("div",{className:"match-round",children:[t.name," ",i.stage]}),(0,qt.jsx)("div",{className:"match-teams",children:(0,qt.jsxs)("div",{className:"team-vs",children:[(0,qt.jsxs)("div",{className:"home-team",children:[(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:o.logo,alt:"".concat(o.name," \ub85c\uace0"),className:"team-logo-img ".concat(o.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("div",{className:"team-name",style:{fontSize:"14px"},children:o.name})]}),(0,qt.jsx)("div",{className:"match-score",children:null==i.homeScore||null==i.awayScore?i.status||"-":"".concat(i.homeScore," : ").concat(i.awayScore)}),(0,qt.jsxs)("div",{className:"away-team",children:[(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:l.logo,alt:"".concat(l.name," \ub85c\uace0"),className:"team-logo-img ".concat(l.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("div",{className:"team-name",style:{fontSize:"14px"},children:l.name})]})]})}),(0,qt.jsx)("div",{className:"match-location",children:i.location||"-"}),(0,qt.jsx)("div",{className:"match-date",children:i.date||"-"})]})}function OO(e){let{currentDivision:t,group:n,matches:s=[],teams:i=[],hasMultipleGroups:a}=e;return(0,qt.jsx)("div",{className:"match-section",children:(0,qt.jsxs)("div",{className:"match-list",children:[(0,qt.jsxs)("div",{className:"match-header",children:[(0,qt.jsx)("div",{className:"header-stage",children:"\uacbd\uae30 \uc720\ud615"}),(0,qt.jsx)("div",{className:"header-summary",children:"\uacbd\uae30 \uc694\uc57d"}),(0,qt.jsx)("div",{className:"header-detail",children:"\uacbd\uae30 \uc138\ubd80 \ub0b4\uc6a9"}),(0,qt.jsx)("div",{className:"header-date",children:"\uacbd\uae30 \ub0a0\uc9dc"})]}),s.map((e,s)=>(0,qt.jsx)(MO,{currentDivision:t,group:n,index:s,match:e,teams:i,hasMultipleGroups:a},"".concat(e.stage,"-").concat(s,"-").concat(e.home,"-").concat(e.away)))]})})}function DO(e){let{currentDivision:t,teams:n=[]}=e;return(0,qt.jsxs)("div",{className:"matches-container",children:[(0,qt.jsx)("div",{className:"final-header",children:(0,qt.jsx)("div",{className:"final-title",children:"\uacb0\uc2b9\uc804"})}),(0,qt.jsx)(OO,{currentDivision:t,matches:t.final,teams:n})]})}function LO(e){let{currentDivision:t,teams:n=[]}=e;return(0,qt.jsxs)("div",{className:"matches-container",children:[(0,qt.jsx)("div",{className:"final-header",children:(0,qt.jsx)("div",{className:"final-title",children:"4\uac15\uc804"})}),(0,qt.jsx)(OO,{currentDivision:t,matches:t.semiFinals,teams:n})]})}function RO(e){let{currentDivision:t,teams:n=[]}=e;return(0,qt.jsxs)("div",{className:"matches-container",children:[(0,qt.jsx)("div",{className:"final-header",children:(0,qt.jsx)("div",{className:"final-title",children:"8\uac15\uc804"})}),(0,qt.jsx)(OO,{currentDivision:t,matches:t.quarterFinals,teams:n})]})}function FO(e){let{currentDivision:t,teams:n=[]}=e;return(0,qt.jsxs)("div",{className:"matches-container",children:[(0,qt.jsx)("div",{className:"playoffs-header",children:(0,qt.jsx)("div",{className:"playoffs-title",children:"\uc21c\uc704\uacb0\uc815\uc804"})}),(0,qt.jsx)(OO,{currentDivision:t,matches:t.playoffs,teams:n})]})}function IO(e){let{currentDivision:t,teams:n=[]}=e;return(0,qt.jsxs)("div",{className:"promotion-matches-container",children:[(0,qt.jsx)("div",{className:"promotion-header",children:(0,qt.jsx)("div",{className:"promotion-title",children:"\uc2b9\uac15\uc804"})}),(0,qt.jsx)(OO,{currentDivision:t,matches:t.promotion,teams:n})]})}function BO(e){let{currentDivision:t,group:n,teams:s=[],hasMultipleGroups:i}=e;return(0,qt.jsxs)("div",{className:"matches-container",children:[(0,qt.jsx)("div",{className:"group-header",children:(0,qt.jsxs)("div",{className:"group-title",children:[t.name," \ub9ac\uadf8"," ",i?"- ".concat(n.name):""]})}),(0,qt.jsx)(OO,{currentDivision:t,group:n.name,matches:n.matches,teams:s,hasMultipleGroups:i})]})}const WO=e=>{let{match:t,teams:n=[],index:s=0,className:i="",isFinal:a=!1,isPlfs:r=!1}=e;if(!t)return null;const o=n.find(e=>e.name===t.home)||{name:t.home,logo:""},l=n.find(e=>e.name==t.away)||{name:t.away,logo:""};return(0,qt.jsxs)("div",{className:"knockout-team-container ".concat(i),children:[(0,qt.jsxs)("div",{className:"knockout-team-header",children:[t.stage," ",0==!s&&"".concat(s,"\uacbd\uae30")," ",t.date]}),(0,qt.jsxs)("div",{className:"knockout-team",children:[(0,qt.jsxs)("div",{className:"knockout-team-name-section \n          ".concat(a?t.winner===(null===o||void 0===o?void 0:o.name)?"s1st":"s2nd":"","\n          ").concat(r&&t.winner===(null===o||void 0===o?void 0:o.name)?"s3rd":""),children:[o.logo&&(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:o.logo,alt:"\ub85c\uace0",className:"team-logo-img ".concat(o.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("div",{className:"team-name",children:o.name})]}),(0,qt.jsx)("div",{className:"knockout-team-score",children:t.homeScore})]}),(0,qt.jsxs)("div",{className:"knockout-team",children:[(0,qt.jsxs)("div",{className:"knockout-team-name-section \n          ".concat(a?t.winner===(null===l||void 0===l?void 0:l.name)?"s1st":"s2nd":"","\n          ").concat(r&&t.winner===(null===l||void 0===l?void 0:l.name)?"s3rd":""),children:[(null===l||void 0===l?void 0:l.logo)&&(0,qt.jsx)("div",{className:"team-logo",children:(0,qt.jsx)("img",{src:l.logo,alt:"\ub85c\uace0",className:"team-logo-img ".concat(l.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("div",{className:"team-name",children:l.name})]}),(0,qt.jsx)("div",{className:"knockout-team-score",children:t.awayScore})]})]})};function UO(e){let{currentDivision:t,teams:n=[]}=e;const s=(null===t||void 0===t?void 0:t.quarterFinals)||[],i=(null===t||void 0===t?void 0:t.semiFinals)||[],a=((null===t||void 0===t?void 0:t.final)||[])[0],r=((null===t||void 0===t?void 0:t.playoffs)||[])[0];return(0,qt.jsxs)("div",{className:"bracket-container",children:[(0,qt.jsxs)("div",{className:"QF-container",children:[(0,qt.jsx)(WO,{match:s[0],teams:n,index:1}),(0,qt.jsxs)("div",{className:"line",children:[(0,qt.jsx)("div",{className:"padding-section"}),(0,qt.jsxs)("div",{className:"right-section",children:[(0,qt.jsx)("div",{className:"up-section"}),(0,qt.jsx)("div",{className:"down-section"})]})]}),(0,qt.jsx)(WO,{match:s[1],teams:n,index:2})]}),(0,qt.jsx)("div",{className:"SF-container",children:(0,qt.jsx)(WO,{match:i[0],teams:n,index:1})}),(0,qt.jsxs)("div",{className:"line-container",children:[(0,qt.jsx)("div",{className:"up-section"}),(0,qt.jsx)("div",{className:"down-section"})]}),(0,qt.jsxs)("div",{className:"F-container",children:[(0,qt.jsx)("div",{className:"trophy-img-box",children:(0,qt.jsx)("img",{src:TO,alt:"trophy Img",className:"trophyImg"})}),(0,qt.jsxs)("div",{className:"final-row",children:[(0,qt.jsx)(WO,{match:a,teams:n,isFinal:!0}),(0,qt.jsx)(WO,{match:r,teams:n,className:"plfs",isPlfs:!0})]})]}),(0,qt.jsxs)("div",{className:"line-container",children:[(0,qt.jsx)("div",{className:"up-section"}),(0,qt.jsx)("div",{className:"down-section"})]}),(0,qt.jsx)("div",{className:"SF-container",children:(0,qt.jsx)(WO,{match:i[1],teams:n,index:2})}),(0,qt.jsxs)("div",{className:"QF-container",children:[(0,qt.jsx)(WO,{match:s[2],teams:n,index:3}),(0,qt.jsxs)("div",{className:"line",children:[(0,qt.jsxs)("div",{className:"left-section",children:[(0,qt.jsx)("div",{className:"up-section"}),(0,qt.jsx)("div",{className:"down-section"})]}),(0,qt.jsx)("div",{className:"padding-section"})]}),(0,qt.jsx)(WO,{match:s[3],teams:n,index:4})]})]})}function zO(e){let{currentDivision:t,teams:n=[]}=e;const s=(null===t||void 0===t?void 0:t.semiFinals)||[],i=((null===t||void 0===t?void 0:t.final)||[])[0],a=((null===t||void 0===t?void 0:t.playoffs)||[])[0];return(0,qt.jsxs)("div",{className:"bracket-container2",children:[(0,qt.jsx)("div",{className:"row1",children:(0,qt.jsx)("div",{className:"trophy-img-box2",children:(0,qt.jsx)("img",{src:TO,alt:"trophy Img",className:"trophyImg"})})}),(0,qt.jsxs)("div",{className:"row2",children:[(0,qt.jsx)(WO,{match:i,teams:n}),(0,qt.jsx)("div",{className:"empty-space"}),(0,qt.jsx)(WO,{match:a,teams:n})]}),(0,qt.jsxs)("div",{className:"row3",children:[(0,qt.jsx)(WO,{match:s[0],teams:n,index:1}),(0,qt.jsxs)("div",{className:"line-container",children:[(0,qt.jsxs)("div",{className:"upper",children:[(0,qt.jsx)("div",{className:"upper-left"}),(0,qt.jsx)("div",{className:"upper-right"})]}),(0,qt.jsx)("div",{className:"down"})]}),(0,qt.jsx)(WO,{match:s[1],teams:n,index:2})]})]})}function GO(e){let{message:t,onReset:n}=e;return(0,qt.jsxs)("div",{style:{padding:"40px 24px",background:"#0b0b0e",borderRadius:12,border:"1px solid #2b2b32",color:"#e7e7ea",textAlign:"center",marginTop:16},children:[(0,qt.jsx)("div",{style:{fontSize:18,fontWeight:800,marginBottom:8},children:"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,qt.jsx)("div",{style:{opacity:.8,marginBottom:16},children:t}),(0,qt.jsx)("button",{type:"button",onClick:n,style:{padding:"8px 14px",borderRadius:8,border:"1px solid #8a8a8f",background:"transparent",color:"#fff",cursor:"pointer",fontWeight:700},children:"\ud544\ud130 \ucd08\uae30\ud654"})]})}function HO(e){var t,n,i,a;let{data:r,teams:o=[]}=e;const l=["\ud0c0\uc774\uac70\ubcfc","\ucc4c\ub9b0\uc9c0\ubcfc"],[c,d]=(0,s.useState)(!1),h=(0,s.useMemo)(()=>Object.keys(null!==r&&void 0!==r?r:{}).map(e=>({value:e,label:e})),[r]),[u,p]=(0,s.useState)("2024"),[m,g]=(0,s.useState)("\uc11c\uc6b8"),[f,v]=(0,s.useState)("1\ubd80"),[y,x]=(0,s.useState)(!1),b=(0,s.useMemo)(()=>u&&null!==r&&void 0!==r&&r[u]?Object.keys(r[u]).map(e=>({value:e,label:e})):[],[r,u]),w=(0,s.useMemo)(()=>{var e,t;return u&&m&&null!==(e=null===r||void 0===r||null===(t=r[u])||void 0===t?void 0:t[m])&&void 0!==e?e:null},[r,u,m]),_=(0,s.useMemo)(()=>Array.isArray(null===w||void 0===w?void 0:w.divisions)?w.divisions:[],[w]),S=(null===w||void 0===w||w.bracket,(0,s.useMemo)(()=>_.length>1,[_]));(0,s.useMemo)(()=>_.map(e=>({value:e.name,label:e.name})),[_]);(0,s.useEffect)(()=>{if(_.length)if(S){const t=_.some(e=>e.name===f);if(!t){var e;const t=(null===(e=_.find(e=>"1\ubd80"===e.name))||void 0===e?void 0:e.name)||_[0].name;v(t)}}else v("");else v("")},[m,_,S,f]),(0,s.useEffect)(()=>{d(l.includes(m))},[m]);const k=(0,s.useMemo)(()=>_.length?S&&(_.find(e=>e.name===f)||_.find(e=>"1\ubd80"===e.name))||_[0]:null,[_,f,S]),C=(null===k||void 0===k||null===(t=k.groups)||void 0===t||t.length,(null===k||void 0===k||null===(n=k.groups)||void 0===n?void 0:n.length)>1),A=Boolean(u&&m&&(!S||f))&&(!k||!(e=>{if(!e)return!1;const t=Array.isArray(e.groups)&&e.groups.length>0,n=Array.isArray(e.final)&&e.final.length>0,s=Array.isArray(e.playoffs)&&e.playoffs.length>0,i=Array.isArray(e.promotion)&&e.promotion.length>0;return t||n||s||i})(k));if(!r)return(0,qt.jsx)("div",{className:"tournament-status",children:"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"});return(0,qt.jsxs)("div",{className:"statTeamContainer",children:[(0,qt.jsx)("div",{className:"tournament-header",children:(0,qt.jsxs)("div",{className:"dropdown-group",children:[(0,qt.jsx)(EO,{options:h,value:u,onChange:e=>{var t;const n=e.value;p(n);const s=Object.keys(null!==(t=null===r||void 0===r?void 0:r[n])&&void 0!==t?t:{});if(s.includes(m)){var i,a,o;const e=null===r||void 0===r||null===(i=r[n])||void 0===i?void 0:i[m],t=Array.isArray(null===e||void 0===e?void 0:e.divisions)?e.divisions:[],s=(null===(a=t.find(e=>"1\ubd80"===e.name))||void 0===a?void 0:a.name)||(null===(o=t[0])||void 0===o?void 0:o.name)||"";v(s)}else{var l,c,d;const e=s[0]||"";g(e);const t=null===r||void 0===r||null===(l=r[n])||void 0===l?void 0:l[e],i=Array.isArray(null===t||void 0===t?void 0:t.divisions)?t.divisions:[],a=(null===(c=i.find(e=>"1\ubd80"===e.name))||void 0===c?void 0:c.name)||(null===(d=i[0])||void 0===d?void 0:d.name)||"";v(a)}},className:"year-dropdown",placeholder:"\uc5f0\ub3c4",hideValueUntilChange:!0}),(0,qt.jsx)(EO,{options:b,value:m,onChange:e=>{var t,n,s;const i=e.value;g(i);const a=null===r||void 0===r||null===(t=r[u])||void 0===t?void 0:t[i],o=Array.isArray(null===a||void 0===a?void 0:a.divisions)?a.divisions:[],l=(null===(n=o.find(e=>"1\ubd80"===e.name))||void 0===n?void 0:n.name)||(null===(s=o[0])||void 0===s?void 0:s.name)||"";v(l),x(o.length>1)},className:"league-dropdown",placeholder:"\ub9ac\uadf8",hideValueUntilChange:!0,disabled:!u}),y&&S&&(0,qt.jsx)(EO,{options:_.map(e=>({value:e.name,label:e.name})),value:f,onChange:e=>v(e.value),className:"division-dropdown",placeholder:"\ubd80"})]})}),A&&(0,qt.jsx)(GO,{message:S?"\uc120\ud0dd\ud55c \uc870\ud569(".concat(u," \xb7 ").concat(m," \xb7 ").concat(f,")\uc758 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):"\uc120\ud0dd\ud55c \uc870\ud569(".concat(u," \xb7 ").concat(m,")\uc758 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),onReset:()=>{p("2024"),g("\uc11c\uc6b8"),v("1\ubd80"),x(!1)}}),!A&&k&&(0,qt.jsxs)("div",{className:"division-content",children:[(0,qt.jsxs)("div",{className:"tournament-section",children:[c&&(0,qt.jsx)("div",{className:"excepted-league-containers",children:(null===k||void 0===k||null===(i=k.quarterFinals)||void 0===i?void 0:i.length)>0?(0,qt.jsx)(UO,{currentDivision:k,teams:o}):(0,qt.jsx)(zO,{currentDivision:k,teams:o})}),!c&&(null===k||void 0===k||null===(a=k.groups)||void 0===a?void 0:a.length)>0&&(0,qt.jsx)("div",{className:"groups-container",children:C?k.groups.map(e=>(0,qt.jsxs)("div",{className:"group-section",children:[(0,qt.jsxs)("div",{className:"group-header",children:[k.name," ",e.name," \uc21c\uc704"]}),(0,qt.jsx)("div",{className:"standings-section",children:(0,qt.jsx)(PO,{currentDivision:k,group:e,teams:o})})]},e.name)):(0,qt.jsxs)(qt.Fragment,{children:[k.groups.map(e=>(0,qt.jsxs)("div",{className:"group-section",children:[(0,qt.jsxs)("div",{className:"group-header",children:[k.name," \uc21c\uc704"]}),(0,qt.jsx)("div",{className:"standings-section",children:(0,qt.jsx)(PO,{currentDivision:k,group:e,teams:o})})]},e.name)),(0,qt.jsx)("div",{className:"group-section no-group",children:(0,qt.jsx)("img",{src:jO,alt:"no-group-section",className:"no-group-img"})})]})})]}),k.final&&k.final.length>0&&(0,qt.jsx)(DO,{currentDivision:k,teams:o}),k.playoffs&&k.playoffs.length>0&&(0,qt.jsx)(FO,{currentDivision:k,teams:o}),k.semiFinals&&k.semiFinals.length>0&&(0,qt.jsx)(LO,{currentDivision:k,teams:o}),k.quarterFinals&&k.quarterFinals.length>0&&(0,qt.jsx)(RO,{currentDivision:k,teams:o}),k.groups&&k.groups.length>0&&(0,qt.jsx)("div",{className:"group-container",children:k.groups.map(e=>(0,qt.jsx)("div",{className:"",children:(0,qt.jsx)("div",{className:"matches-section",children:(0,qt.jsx)(BO,{currentDivision:k,group:e,teams:o,hasMultipleGroups:C})})},e.name))}),k.promotion&&k.promotion.length>0&&(0,qt.jsx)(IO,{currentDivision:k,teams:o})]})]})}const YO=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(HO,{data:WM,teams:yb})});class VO extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="APIError",this.status=t,this.data=n}}const qO=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}};function KO(){var e;let{signal:t,timeout:n=15e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=new AbortController,i=()=>s.abort((null===t||void 0===t?void 0:t.reason)||new Error("aborted"));null===t||void 0===t||null===(e=t.addEventListener)||void 0===e||e.call(t,"abort",i,{once:!0});const a=n>0?setTimeout(()=>{s.abort(new Error("Request timeout"))},n):null;return{signal:s.signal,cleanup:()=>{var e;a&&clearTimeout(a),null===t||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"abort",i)}}}function XO(e){let{isOpen:t=!0,onClose:n=()=>{}}=e;(0,s.useEffect)(()=>{if(!t)return;const e=e=>"Escape"===e.key&&n();return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,n]);const[i,a]=(0,s.useState)(null),r=e=>a(t=>t===e?null:e),o=[{question:"StechPro\ub294 \ubb34\uc2a8 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\ub098\uc694?",answer:"Stech Pro\ub294 \ucf54\uce58\uc640 \ud300\uc744 \uc704\ud55c \uac1d\uccb4\uc778\uc2dd \nAI \uae30\ubc18 \uc2a4\ud3ec\uce20 \ubd84\uc11d \ud50c\ub7ab\ud3fc\uc785\ub2c8\ub2e4. \n\uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc\ud558\uba74 AI\uac00 \uc790\ub3d9\uc73c\ub85c \uac1d\uccb4\ub97c \uc778\uc2dd\ud558\uace0 \uacbd\uae30 \ub370\uc774\ud130\ub97c \ubd84\uc11d\ud574 \ub9ac\ud3ec\ud2b8\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4."},{question:"\uc5b4\ub5bb\uac8c \uc774\uc6a9\ud558\ub098\uc694?",answer:"\uacbd\uae30 \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc \ud558\uba74 AI\uac00 \uc790\ub3d9\uc73c\ub85c \ubd84\uc11d\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. \ubcc4\ub3c4\uc758 \uc7a5\ube44 \uc5c6\uc774 \ub370\uc774\ud130 \ubc0f \ubd84\uc11d \ub9ac\ud3ec\ud2b8\ub97c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "},{question:"StechPro\ub85c\ubd80\ud130 \uc5b4\ub5a4 \ub3c4\uc6c0\uc744 \ubc1b\uc744 \uc218 \uc788\ub098\uc694?",answer:"\ud50c\ub808\uc774 \uc720\ud615, \uc8fc\uc694 \uacbd\uae30 \uc0c1\ud669 \ub4f1\uc758 \ubd84\uc11d\uc744 \ud1b5\ud574 \n\uacbd\uae30 \ub370\uc774\ud130\uc640 \uc120\uc218 \ub370\uc774\ud130\ub97c \uad6c\uccb4\ud654\ud558\uace0 \ub9ac\ud3ec\ud2b8\ub97c \ud1b5\ud574 \uacbd\uae30 \ud53c\ub4dc\ubc31\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{question:"\ud2b9\ubcc4\ud55c \ucd2c\uc601 \uc7a5\ube44\uac00 \ud544\uc694\ud55c\uac00\uc694?",answer:"\uc77c\ubc18 \uc2a4\ub9c8\ud2b8\ud3f0, \ucea0\ucf54\ub354\ub85c \uc0ac\uc774\ub4dc\ub77c\uc778\uc5d0\uc11c \n\ucd2c\uc601\ud55c \uc601\uc0c1\uc744 \uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694."},{question:"\ubd84\uc11d \ub9ac\ud3ec\ud2b8\ub294 \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c \uc81c\uacf5\ub418\ub098\uc694?",answer:"\ud3ec\uc9c0\uc158\ubcc4 \uc6c0\uc9c1\uc784, \uc8fc\uc694 \uc2a4\ud0ef \ub4f1\uc774 \uc2dc\uac01\uc801\uc73c\ub85c \uc815\ub9ac\ub41c PDF \ub9ac\ud3ec\ud2b8\uc640 \ud568\uaed8, \ub300\uc2dc\ubcf4\ub4dc \uc0c1\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\ub294 \uc778\ud130\ub799\ud2f0\ube0c \ubd84\uc11d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."},{question:"\ubd84\uc11d\uc5d0 \uac78\ub9ac\ub294 \uc2dc\uac04\uc740 \uc5bc\ub9c8\ub098 \uac78\ub9ac\ub098\uc694?",answer:"\uc601\uc0c1 \uc5c5\ub85c\ub4dc \uc774\ud6c4 24\uc2dc\uac04 \uc774\ub0b4\uc5d0 \uc81c\uacf5\ub429\ub2c8\ub2e4. \n\uc601\uc0c1 \uae38\uc774\ub098 \ud654\uc9c8\uc5d0 \ub530\ub77c \uc18c\uc694 \uc2dc\uac04\uc740 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{question:"\uc5b4\ub5a4 \uc885\ubaa9\uc744 \uc9c0\uc6d0\ud558\ub098\uc694?",answer:"\ud604\uc7ac\ub294 \ubbf8\uc2dd\ucd95\uad6c\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \n\ucd94\ud6c4 \ud0c0 \uc885\ubaa9\ub3c4 \ud655\uc7a5 \uc608\uc815\uc785\ub2c8\ub2e4."},{question:"\uc11c\ube44\uc2a4 \uc774\uc6a9 \uc694\uae08\uc740 \uc5b4\ub5bb\uac8c \ub418\ub098\uc694?",answer:"\uacbd\uae30 \uc601\uc0c1 1\uac74 \ub2f9 \ubd84\uc11d \ub2e8\uc704\ub85c \uacfc\uae08\ub418\uba70, \uc815\uc561\uc81c \uc694\uae08\uc81c\ub098 \ud300 \ub2e8\uc704 \uc694\uae08\uc81c\ub3c4 \uc81c\uacf5\ud569\ub2c8\ub2e4. \n\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc694\uae08 \ud398\uc774\uc9c0\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694."}];return t?(0,fb.createPortal)((0,qt.jsx)("div",{className:"modal-faq-overlay",onClick:n,children:(0,qt.jsxs)("div",{className:"modal-faq-card",onClick:e=>e.stopPropagation(),children:[(0,qt.jsx)("button",{type:"button",className:"modal-faq-close-btn",onClick:n,children:(0,qt.jsx)(ab,{})}),(0,qt.jsxs)("div",{className:"modal-faqContent",children:[(0,qt.jsx)("h2",{children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38 (FAQ)"}),(0,qt.jsxs)("p",{children:["\uc5ec\uc804\ud788 \uad81\uae08\ud558\uc2e0 \uc810\uc774 \uc788\uc73c\uc2e0\uac00\uc694?",(0,qt.jsx)("br",{}),"ethos614@stechpro.ai"]})]}),(0,qt.jsxs)("div",{className:"modal-faqGrid",children:[(0,qt.jsx)("div",{className:"modal-faqColumn",children:o.slice(0,4).map((e,t)=>{const n=e.answer.split("\n");return(0,qt.jsxs)("div",{className:"modal-faqItem ".concat(i===t?"expanded":""),children:[(0,qt.jsxs)("div",{className:"modal-faqHeader ".concat(i===t?"expanded":""),onClick:()=>r(t),children:[(0,qt.jsxs)("span",{className:"modal-faqNumber",children:["0",t+1]}),(0,qt.jsx)("h4",{children:e.question}),(0,qt.jsx)("span",{className:"modal-toggleIcon",children:i===t?"\u2014":"+"})]}),(0,qt.jsx)("div",{className:"modal-faqBody ".concat(i===t?"expanded":""),children:(0,qt.jsx)("p",{children:n.map((e,t)=>(0,qt.jsxs)(s.Fragment,{children:[e,t<n.length-1&&(0,qt.jsx)("br",{})]},t))})})]},t)})}),(0,qt.jsx)("div",{className:"modal-faqColumn",children:o.slice(4).map((e,t)=>{const n=t+4,a=e.answer.split("\n");return(0,qt.jsxs)("div",{className:"modal-faqItem ".concat(i===n?"expanded":""),children:[(0,qt.jsxs)("div",{className:"modal-faqHeader ".concat(i===n?"expanded":""),onClick:()=>r(n),children:[(0,qt.jsxs)("span",{className:"modal-faqNumber",children:["0",t+5]}),(0,qt.jsx)("h4",{children:e.question}),(0,qt.jsx)("span",{className:"modal-toggleIcon",children:i===n?"\u2014":"+"})]}),(0,qt.jsx)("div",{className:"modal-faqBody ".concat(i===n?"expanded":""),children:(0,qt.jsx)("p",{children:a.map((e,t)=>(0,qt.jsxs)(s.Fragment,{children:[e,t<a.length-1&&(0,qt.jsx)("br",{})]},t))})})]},n)})})]})]})}),document.body):null}const QO=()=>{const e=fe();return(0,qt.jsx)("div",{children:(0,qt.jsx)(XO,{onClose:()=>e(-1)})})};function JO(e){let{onClose:t}=e;return(0,s.useEffect)(()=>{const e=e=>"Escape"===e.key&&t();return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,fb.createPortal)((0,qt.jsx)("div",{onClick:t,style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",zIndex:9999},children:(0,qt.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{width:"56.25rem",height:"31.25rem",background:"#2C2C2C",borderRadius:12,padding:24,boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[(0,qt.jsxs)("div",{style:{display:"grid",gridTemplateRows:"1fr auto",alignItems:"center",marginBottom:0},children:[(0,qt.jsx)(ab,{onClick:t,style:{width:"4rem",color:" #fff",height:"4rem",justifySelf:"end"}}),(0,qt.jsx)(sb,{style:{color:"#A5A5A5",width:"6.5rem",height:"6.5rem",justifySelf:"center"}})]}),(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("p",{style:{color:"#fff",fontSize:"3.5rem",fontFamily:"Inter",fontWeight:"600",marginBottom:24,textAlign:"center"},children:[" ","\uc11c\ube44\uc2a4 \uad6c\ucd95 \uc911"]}),(0,qt.jsx)("br",{}),(0,qt.jsx)("p",{style:{color:"#fff",fontSize:"1.875rem",fontFamily:"Inter",fontWeight:"600",marginBottom:24,textAlign:"center"},children:"\ud604\uc7ac \uc774 \uae30\ub2a5\uc740 \uad6c\ucd95\uc911\uc785\ub2c8\ub2e4. \ube60\ub978 \uc2dc\uc77c\ub0b4\uc5d0 \ub3cc\uc544\uc624\uaca0\uc2b5\ub2c8\ub2e4!"})]})]})}),document.body)}const ZO=()=>{const e=fe();return(0,qt.jsx)("div",{children:(0,qt.jsx)(JO,{onClose:()=>e(-1)})})};function $O(){const e=fe();return(0,qt.jsx)(GP,{isVisible:!0,onClose:()=>e(-1)})}const eD=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})}),tD=()=>{const[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{i(!0);const n="https://api.stechpro.ai/api";console.log("\ud83c\udf10 \uc0ac\uc6a9 \uc911\uc778 API URL:",n);const s=await fetch("".concat(n,"/team/total-stats"),{headers:{"Content-Type":"application/json"}});if(console.log("API \uc751\ub2f5 \uc0c1\ud0dc:",s.status),s.ok){const n=await s.text();console.log("API \uc751\ub2f5 \ud14d\uc2a4\ud2b8:",n);try{const e=JSON.parse(n);if(console.log("\ud83c\udfc6 \ud300 \uc2a4\ud0ef API \uc751\ub2f5:",e),e.success&&e.data){const n={KKRagingBulls:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",KHCommanders:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",SNGreenTerrors:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",USCityhawks:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",DGTuskers:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",KMRazorbacks:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",YSEagles:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",KUTigers:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",HICowboys:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",SSCrusaders:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",HYLions:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",HFBlackKnights:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",GSDragons:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",DSBlueDolphons:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4",HYlions:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",KMrazorbacks:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",DGtuskers:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",YSeagles:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",SNgreenTerrors:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",UScityhawks:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",HFblackKnights:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",KKragingBulls:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",KKragingbulls:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",HIcowboys:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",KUtigers:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",SScrusaders:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",KHcommanders:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",GSDragons:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",DSblueDolphons:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4"},s=e.data.map(e=>({id:e.teamName,team:n[e.teamName]||e.teamName,division:"1\ubd80",points_per_game:e.gamesPlayed>0?((e.totalPoints||0)/e.gamesPlayed).toFixed(1):0,total_points:e.totalPoints||0,total_touchdowns:e.touchdowns||0,total_yards:e.totalYards||0,yards_per_game:e.gamesPlayed>0?(e.totalYards/e.gamesPlayed).toFixed(1):0,rushing_attempts:e.rushingAttempts||0,rushing_yards:e.rushingYards||0,yards_per_carry:e.avgRushingYardsPerCarry||"0.0",rushing_yards_per_game:e.avgRushingYardsPerGame||0,rushing_td:e.rushingTouchdowns||0,"pass_completions-attempts":e.passCompletionRate||"0-0",passing_yards:e.passingYards||0,passing_yards_per_passing_attempts:e.avgPassingYardsPerAttempt||0,passing_yards_per_game:e.avgPassingYardsPerGame||0,passing_td:e.passingTouchdowns||0,interceptions:e.interceptions||0,total_punt_yards:e.totalPuntYards||0,average_punt_yards:e.avgPuntYards||0,touchback_percentage:e.touchbackPercentage||0,"field_goal_completions-attempts":e.fieldGoalRate||"0-0",yards_per_kick_return:e.avgKickReturnYards||0,yards_per_punt_return:e.avgPuntReturnYards||0,total_return_yards:e.totalReturnYards||0,"fumble-turnover":e.fumbleRate||"0-0",turnover_per_game:e.avgTurnoversPerGame||0,turnover_rate:e.turnoverDifferential||0,"penalty-pen_yards":e.penaltyRate||"0-0",pen_yards_per_game:e.avgPenaltyYardsPerGame||0,season:e.season,gamesPlayed:e.gamesPlayed||0}));console.log("\ud83c\udfc6 \ubcc0\ud658\ub41c \ud300 \uc2a4\ud0ef \ub370\uc774\ud130:",s),t(s)}else console.error("\ud300 \uc2a4\ud0ef \ub370\uc774\ud130 \uad6c\uc870 \uc624\ub958:",e),t([])}catch(e){console.error("JSON \ud30c\uc2f1 \uc5d0\ub7ec:",e),console.error("\uc751\ub2f5 \ud14d\uc2a4\ud2b8:",n),t([])}}else console.error("\ud300 \uc2a4\ud0ef \ub370\uc774\ud130 \uc870\ud68c \uc2e4\ud328:",s.status),401===s.status&&console.error("JWT \ud1a0\ud070\uc774 \uc5c6\uac70\ub098 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."),t([])}catch(n){console.error("\ud300 \uc2a4\ud0ef API \ud638\ucd9c \uc5d0\ub7ec:",n),t([])}finally{i(!1)}})()},[]),n?(0,qt.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:"\ud300 \uc2a4\ud0ef \ub85c\ub529 \uc911..."}):e&&0!==e.length?(0,qt.jsx)("div",{children:(0,qt.jsx)(CO,{data:e,teams:yb})}):(0,qt.jsx)("div",{children:(0,qt.jsx)(CO,{data:[],teams:yb})})},nD=()=>{const[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[a,r]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{i(!0);const e=await fetch("".concat(jt,"/player/rankings")),n=await e.json();if(console.log("\ud83d\udc1b \uc120\uc218 \ub370\uc774\ud130 API \uc751\ub2f5:",n),!n.success||!n.data)throw new Error("Failed to fetch player data");{const e=[];n.data.forEach((t,n)=>{var s,i,a,r,o,l,c,d,h,u,p,m,g,f,v,y,x,b,w,_,S,k,C,A,j,T,E,N,P,M,O,D,L,R,F,I,B,W,U,z,G,H,Y,V,q,K,X,Q,J,Z,$,ee,te,ne,se,ie,ae,re,oe,le,ce,de,he,ue,pe,me,ge,fe,ve,ye,xe,be,we,_e,Se,ke,Ce,Ae,je,Te,Ee,Ne,Pe,Me,Oe,De,Le,Re,Fe,Ie,Be,We,Ue,ze,Ge,He;const Ye=bb[t.teamName],Ve={id:t._id,rank:n+1,name:t.name,team:(null===Ye||void 0===Ye?void 0:Ye.name)||t.teamName,position:t.position,positions:t.positions,primaryPosition:t.primaryPosition,division:"1\ubd80",games:(null===(s=t.stats)||void 0===s?void 0:s.gamesPlayed)||0,passing_attempts:(null===(i=t.stats)||void 0===i?void 0:i.passingAttempts)||0,pass_completions:(null===(a=t.stats)||void 0===a?void 0:a.passingCompletions)||0,completion_percentage:(null===(r=t.stats)||void 0===r?void 0:r.completionPercentage)||0,passing_yards:(null===(o=t.stats)||void 0===o?void 0:o.passingYards)||0,passing_td:(null===(l=t.stats)||void 0===l?void 0:l.passingTouchdowns)||0,interceptions:(null===(c=t.stats)||void 0===c?void 0:c.passingInterceptions)||(null===(d=t.stats)||void 0===d?void 0:d.interceptions)||0,longest_pass:(null===(h=t.stats)||void 0===h?void 0:h.longestPass)||0,sacks:(null===(u=t.stats)||void 0===u?void 0:u.sacks)||0,rushing_attempts:(null===(p=t.stats)||void 0===p?void 0:p.rbRushingAttempts)||(null===(m=t.stats)||void 0===m?void 0:m.wrRushingAttempts)||(null===(g=t.stats)||void 0===g?void 0:g.teRushingAttempts)||(null===(f=t.stats)||void 0===f?void 0:f.rushingAttempts)||0,rushing_yards:(null===(v=t.stats)||void 0===v?void 0:v.rbRushingYards)||(null===(y=t.stats)||void 0===y?void 0:y.wrRushingYards)||(null===(x=t.stats)||void 0===x?void 0:x.teRushingYards)||(null===(b=t.stats)||void 0===b?void 0:b.rushingYards)||0,yards_per_carry:(null===(w=t.stats)||void 0===w?void 0:w.rbYardsPerCarry)||(null===(_=t.stats)||void 0===_?void 0:_.wrYardsPerCarry)||(null===(S=t.stats)||void 0===S?void 0:S.teYardsPerCarry)||(null===(k=t.stats)||void 0===k?void 0:k.yardsPerCarry)||0,rushing_td:(null===(C=t.stats)||void 0===C?void 0:C.rbRushingTouchdowns)||(null===(A=t.stats)||void 0===A?void 0:A.wrRushingTouchdowns)||(null===(j=t.stats)||void 0===j?void 0:j.teRushingTouchdowns)||(null===(T=t.stats)||void 0===T?void 0:T.rushingTouchdowns)||0,longest_rushing:(null===(E=t.stats)||void 0===E?void 0:E.rbLongestRush)||(null===(N=t.stats)||void 0===N?void 0:N.wrLongestRush)||(null===(P=t.stats)||void 0===P?void 0:P.teLongestRush)||(null===(M=t.stats)||void 0===M?void 0:M.longestRush)||0,targets:(null===(O=t.stats)||void 0===O?void 0:O.rbReceivingTargets)||(null===(D=t.stats)||void 0===D?void 0:D.wrReceivingTargets)||(null===(L=t.stats)||void 0===L?void 0:L.teReceivingTargets)||(null===(R=t.stats)||void 0===R?void 0:R.receivingTargets)||0,receptions:(null===(F=t.stats)||void 0===F?void 0:F.rbReceptions)||(null===(I=t.stats)||void 0===I?void 0:I.wrReceptions)||(null===(B=t.stats)||void 0===B?void 0:B.teReceptions)||(null===(W=t.stats)||void 0===W?void 0:W.receptions)||0,receiving_yards:(null===(U=t.stats)||void 0===U?void 0:U.rbReceivingYards)||(null===(z=t.stats)||void 0===z?void 0:z.wrReceivingYards)||(null===(G=t.stats)||void 0===G?void 0:G.teReceivingYards)||(null===(H=t.stats)||void 0===H?void 0:H.receivingYards)||0,yards_per_catch:(null===(Y=t.stats)||void 0===Y?void 0:Y.rbYardsPerReception)||(null===(V=t.stats)||void 0===V?void 0:V.wrYardsPerReception)||(null===(q=t.stats)||void 0===q?void 0:q.teYardsPerReception)||(null===(K=t.stats)||void 0===K?void 0:K.yardsPerReception)||0,receiving_td:(null===(X=t.stats)||void 0===X?void 0:X.rbReceivingTouchdowns)||(null===(Q=t.stats)||void 0===Q?void 0:Q.wrReceivingTouchdowns)||(null===(J=t.stats)||void 0===J?void 0:J.teReceivingTouchdowns)||(null===(Z=t.stats)||void 0===Z?void 0:Z.receivingTouchdowns)||0,longest_reception:(null===($=t.stats)||void 0===$?void 0:$.rbLongestReception)||(null===(ee=t.stats)||void 0===ee?void 0:ee.wrLongestReception)||(null===(te=t.stats)||void 0===te?void 0:te.teLongestReception)||(null===(ne=t.stats)||void 0===ne?void 0:ne.longestReception)||0,receiving_first_downs:(null===(se=t.stats)||void 0===se?void 0:se.rbReceivingFirstDowns)||(null===(ie=t.stats)||void 0===ie?void 0:ie.wrReceivingFirstDowns)||(null===(ae=t.stats)||void 0===ae?void 0:ae.teReceivingFirstDowns)||(null===(re=t.stats)||void 0===re?void 0:re.receivingFirstDowns)||0,tackles:(null===(oe=t.stats)||void 0===oe?void 0:oe.tackles)||0,fumbles:(null===(le=t.stats)||void 0===le?void 0:le.fumbles)||0,fumbles_lost:(null===(ce=t.stats)||void 0===ce?void 0:ce.fumblesLost)||0,passingFumbles:(null===(de=t.stats)||void 0===de?void 0:de.passingFumbles)||0,rushingFumbles:(null===(he=t.stats)||void 0===he?void 0:he.rushingFumbles)||0,passingFumblesLost:(null===(ue=t.stats)||void 0===ue?void 0:ue.passingFumblesLost)||0,rushingFumblesLost:(null===(pe=t.stats)||void 0===pe?void 0:pe.rushingFumblesLost)||0,kick_returns:(null===(me=t.stats)||void 0===me?void 0:me.kickReturns)||0,kick_return_yards:(null===(ge=t.stats)||void 0===ge?void 0:ge.kickReturnYards)||0,yards_per_kick_return:(null===(fe=t.stats)||void 0===fe?void 0:fe.yardsPerKickReturn)||0,punt_returns:(null===(ve=t.stats)||void 0===ve?void 0:ve.puntReturns)||0,punt_return_yards:(null===(ye=t.stats)||void 0===ye?void 0:ye.puntReturnYards)||0,yards_per_punt_return:(null===(xe=t.stats)||void 0===xe?void 0:xe.yardsPerPuntReturn)||0,return_td:(null===(be=t.stats)||void 0===be?void 0:be.returnTouchdowns)||0,extra_points_attempted:(null===(we=t.stats)||void 0===we?void 0:we.extraPointsAttempted)||0,extra_points_made:(null===(_e=t.stats)||void 0===_e?void 0:_e.extraPointsMade)||0,field_goal:"".concat((null===(Se=t.stats)||void 0===Se?void 0:Se.fieldGoalsMade)||0,"-").concat((null===(ke=t.stats)||void 0===ke?void 0:ke.fieldGoalsAttempted)||0),field_goal_percentage:(null===(Ce=t.stats)||void 0===Ce?void 0:Ce.fieldGoalPercentage)||0,longest_field_goal:(null===(Ae=t.stats)||void 0===Ae?void 0:Ae.longestFieldGoal)||0,punt_count:(null===(je=t.stats)||void 0===je?void 0:je.puntCount)||0,punt_yards:(null===(Te=t.stats)||void 0===Te?void 0:Te.puntYards)||0,average_punt_yard:(null===(Ee=t.stats)||void 0===Ee?void 0:Ee.averagePuntYard)||0,longest_punt:(null===(Ne=t.stats)||void 0===Ne?void 0:Ne.longestPunt)||0,touchbacks:(null===(Pe=t.stats)||void 0===Pe?void 0:Pe.touchbacks)||0,touchback_percentage:(null===(Me=t.stats)||void 0===Me?void 0:Me.touchbackPercentage)||0,inside20:(null===(Oe=t.stats)||void 0===Oe?void 0:Oe.inside20)||0,inside20_percentage:(null===(De=t.stats)||void 0===De?void 0:De.inside20Percentage)||0,penalties:(null===(Le=t.stats)||void 0===Le?void 0:Le.penalties)||0,sacks_allowed:(null===(Re=t.stats)||void 0===Re?void 0:Re.sacksAllowed)||0,TFL:(null===(Fe=t.stats)||void 0===Fe?void 0:Fe.tfl)||0,forced_fumbles:(null===(Ie=t.stats)||void 0===Ie?void 0:Ie.forcedFumbles)||0,fumble_recovery:(null===(Be=t.stats)||void 0===Be?void 0:Be.fumbleRecoveries)||0,fumble_recovered_yards:(null===(We=t.stats)||void 0===We?void 0:We.fumbleRecoveryYards)||0,pass_defended:(null===(Ue=t.stats)||void 0===Ue?void 0:Ue.passesDefended)||0,interception_yards:(null===(ze=t.stats)||void 0===ze?void 0:ze.interceptionYards)||0,touchdowns:(null===(Ge=t.stats)||void 0===Ge?void 0:Ge.defensiveTouchdowns)||0};e.push(Ve),console.log("\ud83d\udc1b \uc120\uc218 \ub370\uc774\ud130: ".concat(t.name," - \ud3ec\uc9c0\uc158: ").concat(t.position," (\uc804\uccb4: ").concat(null===(He=t.positions)||void 0===He?void 0:He.join(", "),")"))}),console.log("\ud83d\udc1b \ubcc0\ud658\ub41c \uc120\uc218 \ub370\uc774\ud130 ".concat(e.length,"\uba85:"),e.slice(0,2)),console.log("\ud83d\udc1b \uccab 5\uba85 \uc120\uc218 \ud300\uba85:",e.slice(0,5).map(e=>e.team)),t(e)}}catch(e){console.error("Error fetching players:",e),r(e.message)}finally{i(!1)}})()},[]),n?(0,qt.jsx)("div",{children:"Loading..."}):a?(0,qt.jsx)(BM,{data:[],teams:yb}):(0,qt.jsx)("div",{children:(0,qt.jsx)(BM,{data:e,teams:yb})})},sD={2025:{"\uc11c\uc6b8":{event:"\ucd94\uacc4",divisions:[{name:"1\ubd80",groups:[{name:"1\uc870",teams:["\uc5f0\uc138\ub300 \uc774\uae00\uc2a4","\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4","\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4","\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2025-09-06",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",away:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",homeScore:50,awayScore:6,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-13",location:"\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5",home:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",away:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",homeScore:6,awayScore:9,winner:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-14",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",away:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",homeScore:36,awayScore:16,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-20",location:"\uad6d\ubbfc\ub300\ud559\uad50",home:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",away:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",homeScore:0,awayScore:7,winner:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-21",location:"\uc131\ub3d9\uad6c \uc0b4\uacf6\uc774 \ucd95\uad6c\uc7a5",home:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",away:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",homeScore:28,awayScore:14,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-28",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",away:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",homeScore:9,awayScore:6,winner:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4"}]},{name:"2\uc870",teams:["\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4","\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4","\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20","\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2025-09-06",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",homeScore:20,awayScore:27,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-13",location:"\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5",home:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",away:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",homeScore:28,awayScore:14,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-14",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",homeScore:62,awayScore:7,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-20",location:"\uad6d\ubbfc\ub300\ud559\uad50",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",homeScore:10,awayScore:3,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-21",location:"\uc131\ub3d9\uad6c \uc0b4\uacf6\uc774 \ucd95\uad6c\uc7a5",home:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",away:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",homeScore:1,awayScore:0,winner:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-28",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",away:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",homeScore:2,awayScore:0,winner:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20"}]}],final:[{stage:"\uacb0\uc2b9\uc804",date:"2025-10-04",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",away:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",homeScore:40,awayScore:3,winner:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4"}],playoffs:[{stage:"3,4\uc704\uc804",date:"2025-10-04",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",away:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",homeScore:14,awayScore:3,winner:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4"},{stage:"5,6\uc704\uc804",date:"2025-10-04",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",away:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",homeScore:3,awayScore:6,winner:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20"},{stage:"7,8\uc704\uc804",date:"2025-10-11",location:"\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5",home:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",away:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",homeScore:26,awayScore:13,winner:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4"}],promotion:[{stage:"\uc2b9\uac15\uc804",date:"2025-11-09",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:12,awayScore:22,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"}]},{name:"2\ubd80",groups:[{name:"1\uc870",teams:["\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4","\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4","\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2025-09-06",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",away:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",homeScore:33,awayScore:14,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-14",location:"\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5",home:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",away:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",homeScore:26,awayScore:6,winner:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-20",location:"\uad6d\ubbfc\ub300\ud559\uad50",home:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",away:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",homeScore:37,awayScore:6,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"}]},{name:"2\uc870",teams:["\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4","\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4","\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2025-09-13",location:"\ud574\ub9c8\ub8e8 \ucd95\uad6c\uc7a5",home:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",away:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",homeScore:0,awayScore:26,winner:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-21",location:"\uc131\ub3d9\uad6c \uc0b4\uacf6\uc774 \ucd95\uad6c\uc7a5",home:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",away:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",homeScore:21,awayScore:20,winner:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-28",location:"\uc11c\uc6b8\ub300\ud559\uad50 \ub300\uc6b4\ub3d9\uc7a5",home:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",away:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",homeScore:7,awayScore:17,winner:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4"}]}],final:[{stage:"\uacb0\uc2b9\uc804",date:"2025-10-03",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",away:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",homeScore:16,awayScore:0,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"}],playoffs:[{stage:"3,4\uc704\uc804",date:"2025-10-03",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",away:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",homeScore:0,awayScore:8,winner:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4"},{stage:"5,6\uc704\uc804",date:"2025-10-03",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",away:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",homeScore:6,awayScore:14,winner:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4"}],promotion:[{stage:"\uc2b9\uac15\uc804",date:"2025-11-09",location:"\ud6a8\ucc3d\uc6b4\ub3d9\uc7a5",home:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",away:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",homeScore:12,awayScore:22,winner:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4"}]}]},"\uc0ac\ud68c\uc778":{event:"\ucd94\uacc4",divisions:[{name:"\uc815\uaddc\ub9ac\uadf8",groups:[{name:"\uc804\uccb4",teams:["\uc778\ucc9c \ub77c\uc774\ub178\uc2a4","\uad70\uc704 \ud53c\ub2c9\uc2a4","\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988","\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4","\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0","\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4","\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4"],matches:[{stage:"\uc870\ubcc4",date:"2025-05-18",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",away:"\uad70\uc704 \ud53c\ub2c9\uc2a4",homeScore:0,awayScore:26,winner:"\uad70\uc704 \ud53c\ub2c9\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-05-18",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",away:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",homeScore:10,awayScore:14,winner:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-06-01",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",away:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",homeScore:27,awayScore:3,winner:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0"},{stage:"\uc870\ubcc4",date:"2025-06-01",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",away:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",homeScore:20,awayScore:3,winner:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-06-15",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",away:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",homeScore:36,awayScore:13,winner:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988"},{stage:"\uc870\ubcc4",date:"2025-06-15",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",away:"\uad70\uc704 \ud53c\ub2c9\uc2a4",homeScore:23,awayScore:13,winner:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0"},{stage:"\uc870\ubcc4",date:"2025-06-29",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",away:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",homeScore:20,awayScore:19,winner:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-06-29",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uad70\uc704 \ud53c\ub2c9\uc2a4",away:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",homeScore:19,awayScore:0,winner:"\uad70\uc704 \ud53c\ub2c9\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-08-31",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",away:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",homeScore:14,awayScore:0,winner:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0"},{stage:"\uc870\ubcc4",date:"2025-08-31",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",away:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",homeScore:15,awayScore:30,winner:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988"},{stage:"\uc870\ubcc4",date:"2025-09-14",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uad70\uc704 \ud53c\ub2c9\uc2a4",away:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",homeScore:21,awayScore:20,winner:"\uad70\uc704 \ud53c\ub2c9\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-14",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",away:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",homeScore:15,awayScore:19,winner:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4"},{stage:"\uc870\ubcc4",date:"2025-09-28",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",away:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",homeScore:6,awayScore:6,winner:"\ubb34\uc2b9\ubd80"},{stage:"\uc870\ubcc4",date:"2025-09-28",location:"\uad70\uc704\uc885\ud569\uc6b4\ub3d9\uc7a5",home:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",away:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",homeScore:35,awayScore:13,winner:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988"}]}]}]}}},iD=()=>{const e=(0,s.useMemo)(()=>d(d({},WM),sD),[]);return(0,qt.jsx)(HO,{data:e,teams:yb})},aD=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})});function rD(e){return Vx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M257 120.471c7.083 0 23.911 4.479 23.911 4.479 45.589 10.447 77.678 52.439 77.678 99.85V352.412l9.321 9.364 7.788 7.823H136.302l7.788-7.823 9.321-9.364V224.8c0-47.41 32.089-89.403 77.678-99.85 0 0 18.043-4.479 23.911-4.479M256 48c-17.602 0-31.059 13.518-31.059 31.2v14.559c-59.015 13.523-103.53 67.601-103.53 131.041v114.4L80 380.8v20.8h352v-20.8l-41.411-41.6V224.8c0-63.44-44.516-117.518-103.53-131.041V79.2c0-17.682-13.457-31.2-31.059-31.2zm41.411 374.4h-82.823c0 22.881 18.633 41.6 41.412 41.6s41.411-18.719 41.411-41.6z"},child:[]}]})(e)}class oD extends Error{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="APIError",this.status=t,this.data=n}}const lD=async e=>{if((e.headers.get("content-type")||"").includes("application/json"))try{return await e.json()}catch(t){return{}}try{return await e.text()}catch(n){return""}},cD=()=>({Authorization:"Bearer ".concat(Ut()),"Content-Type":"application/json"}),dD=e=>"".concat(jt).concat(e);async function hD(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;const s="".concat(dD(Et.NOTI_LIST),"?limit=").concat(n),i=await fetch(s,{headers:cD()}),a=await lD(i);if(console.log(a),!i.ok)throw new oD((null===a||void 0===a?void 0:a.message)||"\uc54c\ub9bc \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328",i.status,a);return null!==(e=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.notifications)&&void 0!==e?e:[]}async function uD(){var e,t;const n=dD(Et.NOTI_UNREAD_COUNT),s=await fetch(n,{headers:cD()}),i=await lD(s);if(console.log(i),!s.ok)throw new oD((null===i||void 0===i?void 0:i.message)||"\uc548 \uc77d\uc740 \uac1c\uc218 \uc870\ud68c \uc2e4\ud328",s.status,i);return null!==(e=null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.unreadCount)&&void 0!==e?e:0}function pD(){let{limit:e=20,pollMs:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,i]=(0,s.useState)([]),[a,r]=(0,s.useState)(0),[o,l]=(0,s.useState)(!1),[c,h]=(0,s.useState)(null),u=(0,s.useRef)(null),p=()=>{u.current&&clearInterval(u.current)},m=(0,s.useCallback)(async()=>{l(!0),h(null);try{const[t,n]=await Promise.all([hD(e),uD()]);i(t),r(n)}catch(Cw){h(Cw)}finally{l(!1)}},[e]);(0,s.useEffect)(()=>{if(m(),t>0)return u.current=setInterval(m,t),p},[m,t]);const g=(0,s.useCallback)(async e=>{i(t=>t.map(t=>t._id===e?d(d({},t),{},{isRead:!0}):t)),r(e=>Math.max(0,e-1));try{await async function(e){const t=dD("".concat(Et.NOTI_LIST,"/").concat(encodeURIComponent(e),"/read")),n=await fetch(t,{method:"PUT",headers:cD()}),s=await lD(n);if(console.log(s),!n.ok)throw new oD((null===s||void 0===s?void 0:s.message)||"\uc54c\ub9bc \uc77d\uc74c \ucc98\ub9ac \uc2e4\ud328",n.status,s);return!0}(e)}catch(t){m()}},[m]),f=(0,s.useCallback)(async()=>{i(e=>e.map(e=>d(d({},e),{},{isRead:!0}))),r(0);try{await async function(){const e=dD(Et.NOTI_READ_ALL),t=await fetch(e,{method:"PUT",headers:cD()}),n=await lD(t);if(console.log(n),!t.ok)throw new oD((null===n||void 0===n?void 0:n.message)||"\uc804\uccb4 \uc77d\uc74c \ucc98\ub9ac \uc2e4\ud328",t.status,n);return!0}()}catch(e){m()}},[m]);return{items:n,unread:a,loading:o,error:c,refresh:m,readOne:g,readAll:f}}function mD(e){let{limit:t=20,pollMs:n=0,iconSize:i=24,className:a="",staleMs:r=6e4}=e;const{items:o,unread:l,loading:c,refresh:d,readOne:h,readAll:u,clearLocal:p}=pD({limit:t,pollMs:n}),{isInitialized:m,isAuthenticated:g}=Qt(),[f,v]=(0,s.useState)(!1),y=(0,s.useRef)(null),x=(0,s.useRef)(0),b=fe();(0,s.useEffect)(()=>{m&&(g?(async()=>{await d(),x.current=Date.now()})():(v(!1),null===p||void 0===p||p(),x.current=0))},[m,g,d,p]),(0,s.useEffect)(()=>{const e=async()=>{if(!g)return;const e=Date.now();e-x.current>=r&&(await d(),x.current=e)},t=()=>{document.hidden||e()},n=()=>{document.hidden||e()};return window.addEventListener("focus",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",n)}},[g,d,r]),(0,s.useEffect)(()=>{const e=e=>"Escape"===e.key&&v(!1);return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const w=async e=>{if(e.isRead||h(e._id),e.gameKey){const t=await async function(e){var t,n,s,i;if(!e)throw new Error("gameKey\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");const a="".concat(Et.GET_GAME_BY_KEY,"/").concat(encodeURIComponent(e)),r=await Sb(a,{method:"GET"}),o=await wN(r);if(!r.ok)throw new bN("object"===typeof o&&o.message||"\uacbd\uae30 \uc870\ud68c \uc2e4\ud328",r.status,o);const l=("object"===typeof o&&null!==o&&void 0!==o&&o.success?o.data:o)||{};return{gameKey:l.gameKey,date:(l.date||"").slice(0,10),type:l.type||"Season",location:l.location||"",homeId:l.homeTeam,awayId:l.awayTeam,homeScore:null!==(t=null===l||void 0===l||null===(n=l.score)||void 0===n?void 0:n.home)&&void 0!==t?t:0,awayScore:null!==(s=null===l||void 0===l||null===(i=l.score)||void 0===i?void 0:i.away)&&void 0!==s?s:0,length:l.length||"-",report:!!l.report,uploadStatus:l.uploadStatus||"completed"}}(e.gameKey);b("/service/game/".concat(encodeURIComponent(e.gamekey),"/clip"),{state:{game:t}})}v(!1)};return(0,qt.jsxs)("div",{className:"nh-wrap ".concat(a),onMouseEnter:()=>{y.current&&clearTimeout(y.current),v(!0),(async()=>{if(!g)return;const e=Date.now();e-x.current>=r&&(await d(),x.current=e)})()},onMouseLeave:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;y.current&&clearTimeout(y.current),y.current=setTimeout(()=>v(!1),e)}(),children:[(0,qt.jsxs)("button",{type:"button",className:"nh-bell","aria-haspopup":"true","aria-expanded":f,children:[(0,qt.jsx)(rD,{size:i}),l>0&&(0,qt.jsx)("span",{className:"nh-badge",children:l})]}),f&&(0,qt.jsxs)("div",{className:"nh-panel",role:"menu",children:[(0,qt.jsxs)("div",{className:"nh-header",children:[(0,qt.jsx)("strong",{children:"\uc54c\ub9bc"}),(0,qt.jsx)("div",{className:"nh-grow"}),(0,qt.jsx)("button",{className:"nh-readall",onClick:()=>u(),disabled:0===l,children:"\uc804\uccb4 \uc77d\uc74c"})]}),(0,qt.jsxs)("div",{className:"nh-list",children:[c&&0===o.length&&(0,qt.jsx)("div",{className:"nh-empty",children:"\ubd88\ub7ec\uc624\ub294 \uc911\u2026"}),!c&&0===o.length&&(0,qt.jsx)("div",{className:"nh-empty",children:"\uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),o.map(e=>(0,qt.jsxs)("button",{className:"nh-item ".concat(e.isRead?"read":"unread"),onClick:()=>w(e),title:e.message,children:[(0,qt.jsxs)("div",{className:"nh-top",children:[(0,qt.jsx)("span",{className:"nh-type",children:gD(e.type)}),!e.isRead&&(0,qt.jsx)("span",{className:"nh-dot"})]}),(0,qt.jsx)("div",{className:"nh-msg",children:e.message}),(0,qt.jsxs)("div",{className:"nh-meta",children:[e.teamName&&(0,qt.jsx)("span",{children:e.teamName}),e.gameKey&&(0,qt.jsxs)("span",{children:[" \xb7 ",e.gameKey]})]})]},e._id))]})]})]})}function gD(e){switch(e){case"game_analysis_complete":return"\uacbd\uae30 \ubd84\uc11d \uc644\ub8cc";case"clip_analysis_complete":return"\ud074\ub9bd \ubd84\uc11d \uc644\ub8cc";default:return"\uc54c\ub9bc"}}const fD={League:"\ub9ac\uadf8",Friendly:"\uce5c\uc120\uc804",Scrimmage:"\uc2a4\ud06c\ub9ac\ubbf8\uc9c0"},vD={Seoul:"\uc11c\uc6b8","Gyeonggi-Gangwon":"\uacbd\uae30\uac15\uc6d0","Daegu-Gyeongbuk":"\ub300\uad6c\uacbd\ubd81","Busan-Gyeongnam":"\ubd80\uc0b0\uacbd\ub0a8",Amateur:"\uc0ac\ud68c\uc778"};function yD(){var e;const{user:t}=Qt(),n=fe(),[i,a]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),l=(null===t||void 0===t?void 0:t.team)||(null===t||void 0===t?void 0:t.teamName),c=(0,s.useMemo)(()=>(l?bb[l]:null)||yb[0]||null,[l]),d=(null===c||void 0===c?void 0:c.logo)||tM,h=(null===c||void 0===c?void 0:c.name)||"Choose Team",[u,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),[y,x]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),[_,S]=(0,s.useState)(null),[k,C]=(0,s.useState)(null),[A,j]=(0,s.useState)(!1),[T,E]=(0,s.useState)(!1),N=(0,s.useRef)(null),P=(0,s.useRef)(null),M=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{const t=t=>t.current&&t.current.contains(e.target);t(N)||p(!1),t(P)||v(!1),t(M)||w(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const O=(0,s.useMemo)(()=>{const e={};return yb.forEach(t=>{if(t.id===(null===c||void 0===c?void 0:c.id)||"ADMIN"===t.id)return;const n=vD[t.region]||"\uae30\ud0c0";(e[n]||(e[n]=[])).push(t)}),e},[c]),D=(0,s.useMemo)(()=>{const e=["\uc11c\uc6b8","\uacbd\uae30\uac15\uc6d0","\ub300\uad6c\uacbd\ubd81","\ubd80\uc0b0\uacbd\ub0a8","\uc0ac\ud68c\uc778"],t=Object.keys(O),n=t.filter(t=>!e.includes(t)).sort();return[...e.filter(e=>t.includes(e)),...n]},[O]);(0,s.useEffect)(()=>{b&&C(e=>{var t;return e&&null!==(t=O[e])&&void 0!==t&&t.length?e:D[0]||null})},[b,D,O]);const[L,R]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!l)return void R([]);let e=!0;return async function(){try{a(!0),o(null);const t=await _N(l);e&&R(t)}catch(Cw){e&&o((null===Cw||void 0===Cw?void 0:Cw.message)||"\uacbd\uae30 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),console.error(Cw)}finally{e&&a(!1)}}(),()=>{e=!1}},[l]);const F=(0,s.useMemo)(()=>L.filter(e=>{if(m&&!Tb()(e.date).isSame(m,"day"))return!1;if(y&&e.type!==y)return!1;if(_){const t=_.id;if(e.homeId!==t&&e.awayId!==t)return!1}return!0}),[L,m,y,_]),I=e=>{"pending"!==e.uploadStatus?n("/service/game/".concat(e.gameKey,"/clip"),{state:{game:e}}):E(!0)};return(0,qt.jsxs)("div",{className:"gamepage-root",children:[(0,qt.jsxs)("header",{className:"stechHeader",children:[(0,qt.jsxs)("div",{className:"headerContainer",children:[(0,qt.jsxs)("div",{className:"header-team-box",children:[(0,qt.jsx)("div",{className:"header-team-logo-box",children:(0,qt.jsx)("img",{src:d,alt:h,className:"header-team-logo-img ".concat(null!==d&&void 0!==d&&d.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"header-team-name",children:h})]}),(0,qt.jsxs)("div",{className:"bottomRow",children:[(0,qt.jsxs)("div",{className:"filterGroup",children:[(0,qt.jsxs)("div",{className:"datePickerWrap",ref:N,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(u||m?"active":""),onClick:()=>p(!u),children:[m?m.format("YYYY-MM-DD"):"\ub0a0\uc9dc"," ",(0,qt.jsx)(aw,{size:10})]}),u&&(0,qt.jsx)(hM,{value:m||Tb()(),onChange:e=>{g(e),p(!1)}})]}),(0,qt.jsxs)("div",{className:"typePickerWrap",ref:P,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(y?"active":""),onClick:()=>v(!f),children:[null!==(e=fD[y])&&void 0!==e?e:"\uc720\ud615"," ",(0,qt.jsx)(aw,{size:10})]}),f&&(0,qt.jsx)("ul",{className:"typeDropdown",children:Object.entries(fD).map(e=>{let[t,n]=e;return(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"typeItem ".concat(y===t?"active":""),onClick:()=>{x(t),v(!1)},children:n})},t)})})]}),(0,qt.jsxs)("div",{className:"oppsPickerWrap",ref:M,children:[(0,qt.jsxs)("button",{className:"filterButton ".concat(_?"active":""),onClick:()=>w(e=>!e),children:[_?_.name:"\uc0c1\ub300"," ",(0,qt.jsx)(aw,{size:10})]}),b&&(0,qt.jsxs)("div",{className:"oppsMega",role:"menu",children:[(0,qt.jsx)("ul",{className:"oppsLeagues",role:"menu",children:D.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{type:"button",className:"leagueItem ".concat(k===e?"active":""),onMouseEnter:()=>C(e),onFocus:()=>C(e),onClick:()=>C(e),children:e})},e))}),(0,qt.jsxs)("ul",{className:"oppsTeams",role:"menu",children:[(O[k]||[]).map(e=>(0,qt.jsx)("li",{children:(0,qt.jsxs)("button",{type:"button",className:"oppsItem",onClick:()=>{S(e),w(!1)},children:[e.logo&&(0,qt.jsx)("div",{className:"opps-team-logo-img-box",children:(0,qt.jsx)("img",{src:e.logo,alt:e.name,className:"opps-team-logo-img ".concat(e.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),e.name]})},e.id)),(!k||0===(O[k]||[]).length)&&(0,qt.jsx)("li",{className:"oppsEmpty",children:"\ud574\ub2f9 \ub9ac\uadf8 \ud300\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]})]})]}),(0,qt.jsx)("button",{className:"resetButton",onClick:()=>{g(null),x(null),S(null),p(!1),v(!1),w(!1)},children:"\ucd08\uae30\ud654"})]}),(0,qt.jsxs)("div",{className:"header-right-group",children:[(0,qt.jsx)("button",{className:"newVideoButton",onClick:()=>j(!0),children:"\uacbd\uae30 \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)(mD,{className:"notificationButton",iconSize:24})]})]})]}),(0,qt.jsx)(Xb,{isOpen:A,onClose:()=>j(!1),onUploaded:async()=>{j(!1);try{const e=await _N(l);R(e)}catch(Cw){console.error("\uacbd\uae30 \ubaa9\ub85d \uac31\uc2e0 \uc2e4\ud328:",Cw)}}}),T&&(0,qt.jsx)("div",{className:"modal-overlay",onClick:()=>E(!1),children:(0,qt.jsx)("div",{className:"analysis-alert-modal",onClick:e=>e.stopPropagation(),children:(0,qt.jsxs)("div",{className:"analysis-alert-content",children:[(0,qt.jsx)("div",{className:"analysis-alert-icon",children:"\u23f3"}),(0,qt.jsx)("h3",{className:"analysis-alert-title",children:"\uc601\uc0c1 \ubd84\uc11d \uc911\uc785\ub2c8\ub2e4"}),(0,qt.jsxs)("p",{className:"analysis-alert-message",children:["\ubd84\uc11d\ud300\uc5d0\uc11c \uc601\uc0c1\uc744 \ubd84\uc11d\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",(0,qt.jsx)("br",{}),"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824\uc8fc\uc138\uc694."]}),(0,qt.jsx)("button",{className:"analysis-alert-button",onClick:()=>E(!1),children:"\ud655\uc778"})]})})})]}),(0,qt.jsxs)("div",{className:"game-container",style:{display:i?"none":"block"},children:[(0,qt.jsxs)("div",{className:"game-header",children:[(0,qt.jsx)("div",{className:"game-header-cell",children:"\ub0a0\uc9dc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30 \uacb0\uacfc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uc138\ubd80\uc0ac\ud56d"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30\ubcf4\uace0\uc11c"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uae38\uc774"})]}),(0,qt.jsxs)("div",{className:"game-list",children:[i&&(0,qt.jsx)("div",{className:"game-loading",children:"\ubd88\ub7ec\uc624\ub294 \uc911\u2026"}),r&&(0,qt.jsx)("div",{className:"game-error",children:r}),F.map(e=>{const t=bb[e.homeId],n=bb[e.awayId];return(0,qt.jsxs)("div",{className:"game-card",onClick:()=>I(e),role:"button",tabIndex:0,onKeyDown:t=>"Enter"===t.key&&I(e),children:[(0,qt.jsx)("div",{className:"date",children:e.date}),(0,qt.jsxs)("div",{className:"game-results",children:[(0,qt.jsxs)("div",{className:"game-team left",children:[(0,qt.jsx)("span",{className:"game-team-name",children:(null===t||void 0===t?void 0:t.name)||e.homeId}),(null===t||void 0===t?void 0:t.logo)&&(0,qt.jsx)("div",{className:"game-team-logo",children:(0,qt.jsx)("img",{src:t.logo,alt:"".concat(t.name," \ub85c\uace0"),className:"game-team-logo-img ".concat(t.logo.endsWith(".svg")?"svg-logo":"png-logo")})})]}),(0,qt.jsxs)("div",{className:"game-score",children:[e.homeScore," : ",e.awayScore]}),(0,qt.jsxs)("div",{className:"game-team right",children:[(null===n||void 0===n?void 0:n.logo)&&(0,qt.jsx)("div",{className:"game-team-logo",children:(0,qt.jsx)("img",{src:n.logo,alt:"".concat(n.name," \ub85c\uace0"),className:"game-team-logo-img ".concat(n.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"game-team-name",children:(null===n||void 0===n?void 0:n.name)||e.awayId})]})]}),(0,qt.jsx)("div",{className:"meta",children:(0,qt.jsx)("span",{children:e.location})}),(0,qt.jsx)("div",{className:"game-report ".concat(e.report?"reportY":"reportN"),children:(0,qt.jsx)("span",{className:"report-text",children:e.report?"\ubcf4\uace0\uc11c \uc0dd\uc131\ub428":"\ubcf4\uace0\uc11c \uc0dd\uc131 \uc911\u2026"})}),(0,qt.jsx)("div",{className:"game-length",children:e.length})]},e.gameKey)})]})]})]})}function xD(e){let{label:t,summary:n,isOpen:i,onToggle:a,onClose:r,children:o}=e;const l=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&(null===r||void 0===r||r())},t=e=>{"Escape"===e.key&&(null===r||void 0===r||r())};return i&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[r,i]);return(0,qt.jsxs)("div",{className:"ff-dropdown",ref:l,children:[(0,qt.jsxs)("button",{type:"button",className:"ff-dd-btn ".concat(i?"open":""),"aria-haspopup":"menu","aria-expanded":i,onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},children:[(0,qt.jsx)("span",{className:"ff-dd-label",children:n||t}),(0,qt.jsx)("span",{className:"ff-dd-icon",children:"\u25be"})]}),i&&(0,qt.jsx)("div",{className:"ff-dd-menu",role:"menu",children:o})]})}const bD={RUN:"\ub7f0",PASS:"\ud328\uc2a4",PUNT:"\ud380\ud2b8",FG:"FG",SACK:"\uc0c9",NOPASS:"\ud328\uc2a4"},wD={TOUCHDOWN:"\ud130\uce58\ub2e4\uc6b4",TWOPTCONVGOOD:"2PT \uc131\uacf5",TWOPTCONVNOGOOD:"2PT \uc2e4\ud328",PATGOOD:"PAT \uc131\uacf5",PATNOGOOD:"PAT \uc2e4\ud328",FIELDGOALGOOD:"FG \uc131\uacf5",FIELDGOALNOGOOD:"FG \uc2e4\ud328","PENALTY.OFF":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","PENALTY.DEF":"\uc218\ube44\ud300 \ud398\ub110\ud2f0",SACK:"\uc0c9",TFL:"TFL",FUMBLE:"\ud38c\ube14",FUMBLERECOFF:"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac",FUMBLERECDEF:"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac",INTERCEPT:"\uc778\ud130\uc149\ud2b8",TURNOVER:"\ud134\uc624\ubc84",SAFETY:"\uc138\uc774\ud504\ud2f0"},_D={"2PT \uc131\uacf5":"2PT \uc2e4\ud328","2PT \uc2e4\ud328":"2PT \uc131\uacf5","PAT \uc131\uacf5":"PAT \uc2e4\ud328","PAT \uc2e4\ud328":"PAT \uc131\uacf5","FG \uc131\uacf5":"FG \uc2e4\ud328","FG \uc2e4\ud328":"FG \uc131\uacf5","\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0","\uc218\ube44\ud300 \ud398\ub110\ud2f0":"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0","\ud648\ud300 \ud398\ub110\ud2f0":"\uc6d0\uc815\ud300 \ud398\ub110\ud2f0","\uc6d0\uc815\ud300 \ud398\ub110\ud2f0":"\ud648\ud300 \ud398\ub110\ud2f0","\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac","\uc218\ube44\ud300 \ub9ac\ucee4\ubc84\ub9ac":"\uacf5\uaca9\ud300 \ub9ac\ucee4\ubc84\ub9ac"},SD=e=>{var t,n,s,i,a,r,o,l,c,d,h,u,p,m;return e?{teamName:null!==(t=e.teamName)&&void 0!==t?t:"",totalYards:null!==(n=e.totalYards)&&void 0!==n?n:0,passingYards:null!==(s=null!==(i=e.passingYards)&&void 0!==i?i:e.passYards)&&void 0!==s?s:0,rushingYards:null!==(a=null!==(r=e.rushingYards)&&void 0!==r?r:e.rushYards)&&void 0!==a?a:0,thirdDownPct:null!==(o=null===(l=e.thirdDownStats)||void 0===l?void 0:l.percentage)&&void 0!==o?o:0,turnovers:null!==(c=e.turnovers)&&void 0!==c?c:0,penaltyYards:null!==(d=e.penaltyYards)&&void 0!==d?d:0,playCallRatio:e.playCallRatio||{runPlays:null!==(h=e.runPlays)&&void 0!==h?h:0,passPlays:null!==(u=e.passPlays)&&void 0!==u?u:0,runPercentage:null!==(p=e.runPercentage)&&void 0!==p?p:0,passPercentage:null!==(m=e.passPercentage)&&void 0!==m?m:0}}:{teamName:"",totalYards:0,passingYards:0,rushingYards:0,thirdDownPct:0,turnovers:0,penaltyYards:0,playCallRatio:{runPlays:0,passPlays:0,runPercentage:0,passPercentage:0}}};function kD(){var e,t,n,i,a,r,o,l,c,h,u,p,m,g,f,v,y,x,b,w,_,S,k,C,A,j,T;const{gameKey:E}=ye(),N=ue(),P=fe(),{user:M}=Qt(),[O,D]=(0,s.useState)(null),[L,R]=(0,s.useState)(!1),[F,I]=(0,s.useState)(null),B=(null===M||void 0===M?void 0:M.teamName)||(null===M||void 0===M?void 0:M.team),W=(0,s.useMemo)(()=>(B?bb[B]:null)||yb[0]||null,[B]),U=(null===W||void 0===W?void 0:W.logo)||tM,z=(null===W||void 0===W?void 0:W.name)||"Choose Team",[G,H]=(0,s.useState)(!1),Y=(null===(e=N.state)||void 0===e?void 0:e.game)||null,V=(0,s.useMemo)(()=>(null===Y||void 0===Y?void 0:Y.gameKey)||E||null,[null===Y||void 0===Y?void 0:Y.gameKey,E]),[q,K]=(0,s.useState)(Y);(0,s.useEffect)(()=>{if(!V)return void R(!1);const e=new AbortController,{signal:t}=e;return(async()=>{R(!0),I(null);try{const e=await async function(e){let{signal:t,timeout:n=15e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new VO("gameKey\uac00 \ud544\uc694\ud569\ub2c8\ub2e4",400);const s="".concat(jt).concat(Et.GET_TEAM_STATS_BY_KEY,"/").concat(encodeURIComponent(e)),{signal:i,cleanup:a}=KO({signal:t,timeout:n});try{const e=await fetch(s,{method:"GET",headers:{Accept:"application/json"},signal:i}),t=await qO(e);if(!e.ok)throw new VO("object"===typeof t&&t.message||"\ud300 \uc2a4\ud0ef \uc870\ud68c \uc2e4\ud328",e.status,t);const n=(null===t||void 0===t?void 0:t.data)||t||{};return{home:n.homeTeamStats||n.homeTeam||n.home||{},away:n.awayTeamStats||n.awayTeam||n.away||{}}}finally{a()}}(V,{signal:t});t.aborted||(D({home:SD(e.home),away:SD(e.away)}),K(t=>{var n,s;return d(d({},t),{},{home:null===(n=e.home)||void 0===n?void 0:n.teamName,away:null===(s=e.away)||void 0===s?void 0:s.teamName})}))}catch(e){t.aborted||(console.error("Failed to fetch game stats:",e),I(e))}finally{t.aborted||R(!1)}})(),()=>{e.abort()}},[V]);const[X,Q]=(0,s.useState)(null),J=()=>Q(null),Z=e=>{Q(X===e?null:e)},$=bb[q.homeId],ee=bb[q.awayId],te=(0,s.useMemo)(()=>{const e=$,t=ee,n=[];return null!==e&&void 0!==e&&e.name&&n.push({value:e.name,label:e.name,logo:e.logo}),null!==t&&void 0!==t&&t.name&&n.push({value:t.name,label:t.name,logo:t.logo}),n.filter((e,t,n)=>n.findIndex(t=>t.value===e.value)===t)},[$,ee]),ne={TPT:"2PT",KICKOFF:"\ud0a5\uc624\ud504",PAT:"PAT"},se=e=>{const t=Number(e);if(!Number.isFinite(t))return"";const n=["th","st","nd","rd"],s=t%100;return"".concat(t).concat(n[(s-20)%10]||n[s]||n[0])},ie=e=>{const t=String(e.playType||"").trim().toUpperCase(),n=e.down,s=null!=n?String(n).trim().toUpperCase():"";if(ne[s])return ne[s];if(ne[t])return ne[t];const i="number"===typeof n?n:Number.isFinite(parseInt(s,10))?parseInt(s,10):null;if(null!=i){const t=null!=e.yardsToGo&&Number.isFinite(Number(e.yardsToGo))?Number(e.yardsToGo):null;return null!=t?"".concat(se(i)," & ").concat(t):"".concat(se(i))}return""},[ae,re]=(0,s.useState)([]),[oe,le]=(0,s.useState)(!1),[ce,de]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!V)return;let e=!1;return le(!0),de(null),SN(V).then(t=>{if(e)return;const n=t.map((e,t)=>{var n,s,i,a;const r=String(null!==(n=null!==(s=e.clipKey)&&void 0!==s?s:e.id)&&void 0!==n?n:t),o="".concat(r,"__").concat(t),l=(null===(i=e.significantPlays)||void 0===i?void 0:i.filter(e=>null!=e))||[],c=l.map(t=>Te(e,t,null===$||void 0===$?void 0:$.name,null===ee||void 0===ee?void 0:ee.name));return{id:o,clipKey:r,playIndex:null!==(a=e.playIndex)&&void 0!==a?a:t,quarter:e.quarter,playType:e.playType,down:e.down,yardsToGo:e.toGoYard,offensiveTeam:e.offensiveTeam,gainYard:e.gainYard,clipUrl:e.clipUrl||null,significantPlay:l,displaySignificantPlays:c}});re(n)}).catch(t=>{e||(console.error("\ud074\ub9bd \ub370\uc774\ud130 \uc870\ud68c \uc624\ub958:",t),de(t))}).finally(()=>{e||le(!1)}),()=>{e=!0}},[V]);const he="clipFilters:".concat((null===q||void 0===q?void 0:q.gameKey)||V||"default"),{filters:pe,setFilters:me,summaries:ge,activeFilters:ve,clips:xe,handleFilterChange:be,removeFilter:we,clearAllFilters:_e,buildPlayerNavState:Se}=Sw({persistKey:he,rawClips:ae,teamOptions:te,opposites:_D,significantPlayField:"displaySignificantPlays"}),ke=ge.team,Ce=ge.quarter,Ae=pe.playType?bD[pe.playType]:"\uc720\ud615",je=ge.significant,Te=(e,t,n,s)=>{const i=(null!==t&&void 0!==t?t:"").toString().trim();if(!i)return"";const a=i.toUpperCase();if(a.startsWith("PENALTY."))return((e,t,n,s)=>{const i="Home"===(null===e||void 0===e?void 0:e.offensiveTeam),a=t.endsWith(".HOME");return t.endsWith(".OFF")?"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":t.endsWith(".DEF")?"\uc218\ube44\ud300 \ud398\ub110\ud2f0":"PENALTY.HOME"===t?"".concat(n," \ud398\ub110\ud2f0"):"PENALTY.AWAY"===t?"".concat(s," \ud398\ub110\ud2f0"):a===i?"\uacf5\uaca9\ud300 \ud398\ub110\ud2f0":"\uc218\ube44\ud300 \ud398\ub110\ud2f0"})(e,a,n,s);if(Object.prototype.hasOwnProperty.call(wD,a)){const e=wD[a];return""===e?a:e}return a},Ee=e=>{const t=(null!==e&&void 0!==e?e:"").toString().trim().toUpperCase();if("NONE"===t||!t)return null;const n=bD[t];return n?"#".concat(n):null};return(0,qt.jsxs)("div",{className:"clip-root",children:[(0,qt.jsxs)("header",{className:"stechHeader",children:[(0,qt.jsxs)("div",{className:"headerContainer",children:[(0,qt.jsxs)("div",{className:"header-team-box",children:[(0,qt.jsx)("div",{className:"header-team-logo-box",children:(0,qt.jsx)("img",{src:U,alt:z,className:"header-team-logo-img ".concat(null!==U&&void 0!==U&&U.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"header-team-name",children:z})]}),(0,qt.jsx)("div",{className:"bottomRow",children:(0,qt.jsx)("div",{className:"filterGroup",children:(0,qt.jsxs)("div",{className:"ff-bar",children:[(0,qt.jsxs)(xD,{label:"\uacf5\uaca9\ud300",summary:ke,isOpen:"team"===X,onToggle:()=>Z("team"),onClose:J,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(pe.team?"":"selected"),onClick:()=>{be("team",null),J()},children:"\uc804\uccb4"}),te.map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(pe.team===e.value?"selected":""),onClick:()=>{be("team",e.value),J()},children:[e.logo&&(0,qt.jsx)("img",{className:"ff-dd-avatar",src:e.logo,alt:""}),e.label||e.value]},e.value))]}),(0,qt.jsxs)(xD,{label:"\ucffc\ud130",summary:Ce,isOpen:"quarter"===X,onToggle:()=>Z("quarter"),onClose:J,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(pe.quarter?"":"selected"),onClick:()=>{be("quarter",null),J()},children:"\uc804\uccb4"}),[1,2,3,4].map(e=>(0,qt.jsxs)("button",{className:"ff-dd-item ".concat(pe.quarter===e?"selected":""),onClick:()=>{be("quarter",e),J()},children:["Q",e]},e))]}),(0,qt.jsxs)(xD,{label:"\uc720\ud615",summary:Ae,isOpen:"playType"===X,onToggle:()=>Z("playType"),onClose:J,children:[(0,qt.jsx)("button",{className:"ff-dd-item ".concat(pe.playType?"":"selected"),onClick:()=>{be("playType",null),J()},children:"\uc804\uccb4"}),Object.entries(bD).map(e=>{let[t,n]=e;return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(pe.playType===t?"selected":""),onClick:()=>{be("playType",t),J()},children:bD[t]||t},t)})]}),(0,qt.jsxs)(xD,{label:"\uc911\uc694\ud50c\ub808\uc774",summary:je,isOpen:"significant"===X,onToggle:()=>Z("significant"),onClose:J,children:[(0,qt.jsx)("div",{className:"ff-dd-section",children:Object.values(wD).map(e=>{const t=Array.isArray(pe.significantPlay)&&pe.significantPlay.includes(e);return(0,qt.jsx)("button",{className:"ff-dd-item ".concat(t?"selected":""),onClick:()=>be("significantPlay",e),children:e},e)})}),(0,qt.jsxs)("div",{className:"ff-dd-actions",children:[(0,qt.jsx)("button",{className:"ff-dd-clear",onClick:()=>me(e=>d(d({},e),{},{significantPlay:[]})),children:"\ubaa8\ub450 \ud574\uc81c"}),(0,qt.jsx)("button",{className:"ff-dd-close",onClick:J,children:"\ub2eb\uae30"})]})]}),(0,qt.jsx)("button",{type:"button",className:"resetButton",onClick:_e,children:"\ucd08\uae30\ud654"})]})})})]}),(0,qt.jsx)(Xb,{isOpen:G,onClose:()=>H(!1),onUploaded:()=>{H(!1)}})]}),(0,qt.jsxs)("div",{className:"clip-page-container",children:[(0,qt.jsxs)("div",{className:"clip-left",children:[(0,qt.jsxs)("div",{className:"clip-header",children:[(0,qt.jsxs)("div",{className:"clip-team left",children:[(null===$||void 0===$?void 0:$.logo)&&(0,qt.jsx)("div",{className:"clip-team-logo",children:(0,qt.jsx)("img",{src:$.logo,alt:"".concat($.name," \ub85c\uace0"),className:"clip-team-logo-img ".concat($.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"clip-team-name",children:null===$||void 0===$?void 0:$.name})]}),(0,qt.jsx)("div",{className:"clip-vs",children:"VS"}),(0,qt.jsxs)("div",{className:"clip-team right",children:[(null===ee||void 0===ee?void 0:ee.logo)&&(0,qt.jsx)("div",{className:"clip-team-logo",children:(0,qt.jsx)("img",{src:ee.logo,alt:"".concat(ee.name," \ub85c\uace0"),className:"clip-team-logo-img ".concat(ee.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"clip-team-name",children:null===ee||void 0===ee?void 0:ee.name})]})]}),(0,qt.jsxs)("div",{className:"clip-list",children:[xe.map((e,t)=>{var n,s;const i=null!==(n=e.id)&&void 0!==n?n:"".concat(null!==(s=e.clipKey)&&void 0!==s?s:"noid","__").concat(t);return(0,qt.jsxs)("div",{className:"clip-row",onClick:()=>(e=>{P("/service/video",{state:{rawClips:ae,initialFilters:pe,teamOptions:te,initialPlayId:String(e.clipKey),initialPlayIndex:e.playIndex,clipKey:e.clipKey,gameKey:V,teamMeta:{homeName:null===$||void 0===$?void 0:$.name,awayName:null===ee||void 0===ee?void 0:ee.name,homeLogo:null===$||void 0===$?void 0:$.logo,awayLogo:null===ee||void 0===ee?void 0:ee.logo}}})})(e),children:[(0,qt.jsx)("div",{className:"quarter-name",children:(0,qt.jsxs)("div",{children:[e.quarter,"Q"]})}),(0,qt.jsxs)("div",{className:"clip-rows",children:[(0,qt.jsxs)("div",{className:"clip-row1",children:[(0,qt.jsx)("div",{className:"clip-down",children:ie(e)}),(0,qt.jsx)("div",{className:"clip-type",children:Ee(e.playType)})]}),(0,qt.jsxs)("div",{className:"clip-row2",children:[(0,qt.jsx)("div",{className:"clip-oT",children:"Home"==e.offensiveTeam?"".concat(null===$||void 0===$?void 0:$.name):"".concat(null===ee||void 0===ee?void 0:ee.name)}),Array.isArray(e.displaySignificantPlays)&&e.displaySignificantPlays.length>0?(0,qt.jsx)("div",{className:"clip-sig",children:e.displaySignificantPlays.map((e,t)=>(0,qt.jsxs)("span",{children:["# ",e]},"".concat(i,"-sig-").concat(t)))}):(0,qt.jsx)("div",{className:"clip-sig"})]})]})]},i)}),0===xe.length&&(0,qt.jsx)("div",{className:"empty",children:"\uc77c\uce58\ud558\ub294 \ud50c\ub808\uc774\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]}),(0,qt.jsxs)("div",{className:"clip-data",children:[O&&!L&&(0,qt.jsxs)("div",{className:"clip-playcall",children:[(0,qt.jsx)("div",{className:"clip-playcall-header",children:"\ud50c\ub808\uc774\ucf5c \ube44\uc728"}),(0,qt.jsxs)("div",{className:"clip-playcall-content",children:[(0,qt.jsxs)("div",{className:"playcall-team",children:[(0,qt.jsx)("div",{className:"playcall-team-name",children:$.name}),(0,qt.jsxs)("div",{className:"pc-run",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ub7f0"}),(0,qt.jsxs)("div",{children:[null!==(t=null===(n=O.home)||void 0===n||null===(i=n.playCallRatio)||void 0===i?void 0:i.runPercentage)&&void 0!==t?t:0,"%"]})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-run",style:{width:"".concat(null!==(a=null===(r=O.home)||void 0===r||null===(o=r.playCallRatio)||void 0===o?void 0:o.runPercentage)&&void 0!==a?a:0,"%")}})})]}),(0,qt.jsxs)("div",{className:"pc-pass",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ud328\uc2a4"}),(0,qt.jsxs)("div",{children:[null!==(l=null===(c=O.home)||void 0===c||null===(h=c.playCallRatio)||void 0===h?void 0:h.passPercentage)&&void 0!==l?l:0,"%"]})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-pass",style:{width:"".concat(null!==(u=null===(p=O.home)||void 0===p||null===(m=p.playCallRatio)||void 0===m?void 0:m.passPercentage)&&void 0!==u?u:0,"%")}})})]})]}),(0,qt.jsxs)("div",{className:"playcall-team",children:[(0,qt.jsx)("div",{className:"playcall-team-name",children:ee.name}),(0,qt.jsxs)("div",{className:"pc-run",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ub7f0"}),(0,qt.jsxs)("div",{children:[null!==(g=null===(f=O.away)||void 0===f||null===(v=f.playCallRatio)||void 0===v?void 0:v.runPercentage)&&void 0!==g?g:0,"%"]})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-run",style:{width:"".concat(null!==(y=null===(x=O.away)||void 0===x||null===(b=x.playCallRatio)||void 0===b?void 0:b.runPercentage)&&void 0!==y?y:0,"%")}})})]}),(0,qt.jsxs)("div",{className:"pc-pass",children:[(0,qt.jsxs)("div",{className:"pc-row1",children:[(0,qt.jsx)("div",{children:"\ud328\uc2a4"}),(0,qt.jsxs)("div",{children:[null!==(w=null===(_=O.away)||void 0===_||null===(S=_.playCallRatio)||void 0===S?void 0:S.passPercentage)&&void 0!==w?w:0,"%"]})]}),(0,qt.jsx)("div",{className:"pc-row2",children:(0,qt.jsx)("div",{className:"bar bar-pass",style:{width:"".concat(null!==(k=null===(C=O.away)||void 0===C||null===(A=C.playCallRatio)||void 0===A?void 0:A.passPercentage)&&void 0!==k?k:0,"%")}})})]})]})]})]}),(0,qt.jsxs)("div",{className:"clip-teamstats",children:[(0,qt.jsxs)("div",{className:"tsc-header",children:[(0,qt.jsxs)("div",{className:"tsc-team tsc-left",children:[(null===$||void 0===$?void 0:$.logo)&&(0,qt.jsx)("img",{className:"tsc-logo",src:$.logo,alt:null===$||void 0===$?void 0:$.name}),(0,qt.jsx)("span",{className:"tsc-pill",children:(null===$||void 0===$?void 0:$.name)||(null===O||void 0===O||null===(j=O.home)||void 0===j?void 0:j.teamName)||"\ud648\ud300"})]}),(0,qt.jsxs)("div",{className:"tsc-team tsc-right",children:[(null===ee||void 0===ee?void 0:ee.logo)&&(0,qt.jsx)("img",{className:"tsc-logo",src:ee.logo,alt:null===ee||void 0===ee?void 0:ee.name}),(0,qt.jsx)("span",{className:"tsc-pill",children:(null===ee||void 0===ee?void 0:ee.name)||(null===O||void 0===O||null===(T=O.away)||void 0===T?void 0:T.teamName)||"\uc6d0\uc815\ud300"})]})]}),L&&(0,qt.jsx)("div",{className:"tsc-loading",children:"\ud300 \uc2a4\ud0ef \ubd88\ub7ec\uc624\ub294 \uc911\u2026"}),F&&!L&&(0,qt.jsx)("div",{className:"tsc-error",children:"\ud300 \uc2a4\ud0ef\uc744 \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc5b4\uc694."}),O&&!L&&(0,qt.jsxs)(qt.Fragment,{children:[(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsx)("div",{children:O.home.totalYards}),(0,qt.jsx)("div",{className:"tsc-label",children:"\ucd1d \uc57c\ub4dc"}),(0,qt.jsx)("div",{children:O.away.totalYards})]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsx)("div",{children:O.home.passingYards}),(0,qt.jsx)("div",{className:"tsc-label",children:"\ud328\uc2f1 \uc57c\ub4dc"}),(0,qt.jsx)("div",{children:O.away.passingYards})]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsx)("div",{children:O.home.rushingYards}),(0,qt.jsx)("div",{className:"tsc-label",children:"\ub7ec\uc2f1 \uc57c\ub4dc"}),(0,qt.jsx)("div",{children:O.away.rushingYards})]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsxs)("div",{children:[O.home.thirdDownPct,"%"]}),(0,qt.jsx)("div",{className:"tsc-label",children:"3rd Down %"}),(0,qt.jsxs)("div",{children:[O.away.thirdDownPct,"%"]})]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsx)("div",{children:O.home.turnovers}),(0,qt.jsx)("div",{className:"tsc-label",children:"\ud134\uc624\ubc84"}),(0,qt.jsx)("div",{children:O.away.turnovers})]}),(0,qt.jsxs)("div",{className:"tsc-row",children:[(0,qt.jsx)("div",{children:O.home.penaltyYards}),(0,qt.jsx)("div",{className:"tsc-label",children:"\ud398\ub110\ud2f0 \uc57c\ub4dc"}),(0,qt.jsx)("div",{children:O.away.penaltyYards})]})]})]})]})]})]})}const CD=()=>{var e,t,n;const i=Qt(),a=null!==(e=null!==(t=null===i||void 0===i?void 0:i.role)&&void 0!==t?t:null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.role)&&void 0!==e?e:"player",r=(fe(),ue()),[o,l]=(0,s.useState)(null),c=e=>(0,qt.jsx)("li",{className:"ph-item",onMouseEnter:()=>l(e.path),onMouseLeave:()=>l(null),children:(0,qt.jsxs)(bt,{to:e.path,className:t=>{let{isActive:n}=t;return"ph-link ".concat(n?"ph-link-active":""," ").concat(o===e.path?"ph-link-hovered":"")},end:"/service/profile"===e.path,title:e.label,children:[(0,qt.jsx)("span",{className:"ph-label",children:e.label}),r.pathname===e.path&&(0,qt.jsx)("div",{className:"ph-active-indicator"})]})},e.path);return(0,qt.jsx)("header",{className:"ph-container",children:(0,qt.jsx)("nav",{className:"ph-nav",children:(0,qt.jsx)("ul",{className:"ph-menu",children:"coach"===a?[{path:"/service/profile",label:"\ud504\ub85c\ud544"},{path:"/service/profile/teamstats",label:"\ud300 \uc120\uc218 \uc2a4\ud0ef"},{path:"/service/profile/modify",label:"\ud504\ub85c\ud544 \uc218\uc815"},{path:"/service/profile/clip",label:"\uba54\ubaa8 \ud074\ub9bd \uc601\uc0c1"},{path:"/service/profile/manage",label:"\uad6c\ub2e8 \uad00\ub9ac"}].map(c):[{path:"/service/profile",label:"\ud504\ub85c\ud544"},{path:"/service/profile/modify",label:"\ud504\ub85c\ud544 \uc218\uc815"},{path:"/service/profile/clip",label:"\uba54\ubaa8 \ud074\ub9bd \uc601\uc0c1"}].map(c)})})})},AD=()=>(0,qt.jsxs)("div",{children:[(0,qt.jsx)(CD,{}),(0,qt.jsx)(Le,{})]}),jD={QB:[{id:"KKU-QB-01",name:"\uae40\uc8fc\uc804",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"QB",games:8,passing_attempts:230,pass_completions:160,completion_percentage:69.6,passing_yards:2150,passing_td:18,interceptions:6,longest_pass:64,sacks:12,rushing_attempts:42,rushing_yards:210,yards_per_carry:5,rushing_td:3,longest_rushing:22},{id:"KKU-QB-02",name:"\uc774\ubc31\uc5c5",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"QB",games:6,passing_attempts:105,pass_completions:68,completion_percentage:64.8,passing_yards:820,passing_td:6,interceptions:3,longest_pass:45,sacks:9,rushing_attempts:18,rushing_yards:62,yards_per_carry:3.4,rushing_td:0,longest_rushing:11}],RB:[{id:"KKU-RB-01",name:"\ucd5c\ub7ec\uc154",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"RB",games:8,rushing_attempts:165,rushing_yards:980,yards_per_carry:5.9,rushing_td:8,longest_rushing:62,rushingFumbles:2,rushingFumblesLost:1,targets:28,receptions:22,receiving_yards:190,yards_per_catch:8.6,receiving_td:1,longest_reception:30,receiving_first_downs:12,passingFumbles:0,passingFumblesLost:0,kick_returns:6,kick_return_yards:150,yards_per_kick_return:25,punt_returns:0,punt_return_yards:0,yards_per_punt_return:0,return_td:0},{id:"KKU-RB-02",name:"\uac15\uba40\ud2f0",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"RB",games:8,rushing_attempts:102,rushing_yards:520,yards_per_carry:5.1,rushing_td:4,longest_rushing:38,rushingFumbles:1,rushingFumblesLost:0,targets:36,receptions:30,receiving_yards:275,yards_per_catch:9.2,receiving_td:2,longest_reception:44,receiving_first_downs:14,passingFumbles:1,passingFumblesLost:1,kick_returns:2,kick_return_yards:42,yards_per_kick_return:21,punt_returns:0,punt_return_yards:0,yards_per_punt_return:0,return_td:0}],WR:[{id:"KKU-WR-01",name:"\ubc15\uc5d0\uc774\uc2a4",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"WR",games:8,targets:108,receptions:84,receiving_yards:1260,yards_per_catch:15,receiving_td:12,longest_reception:62,receiving_first_downs:58,passingFumbles:1,passingFumblesLost:0,rushing_attempts:6,rushing_yards:46,yards_per_carry:7.7,rushing_td:1,longest_rushing:16,rushingFumbles:0,rushingFumblesLost:0,kick_returns:8,kick_return_yards:188,yards_per_kick_return:23.5,punt_returns:10,punt_return_yards:120,yards_per_punt_return:12,return_td:1},{id:"KKU-WR-02",name:"\uc724\uc2ac\ub86f",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"WR",games:8,targets:82,receptions:66,receiving_yards:770,yards_per_catch:11.7,receiving_td:5,longest_reception:42,receiving_first_downs:41,passingFumbles:0,passingFumblesLost:0,rushing_attempts:9,rushing_yards:72,yards_per_carry:8,rushing_td:0,longest_rushing:20,rushingFumbles:1,rushingFumblesLost:1,kick_returns:2,kick_return_yards:40,yards_per_kick_return:20,punt_returns:5,punt_return_yards:40,yards_per_punt_return:8,return_td:0}],TE:[{id:"KKU-TE-01",name:"\uc815\ucc28\ub2e8",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"TE",games:8,targets:58,receptions:43,receiving_yards:520,yards_per_catch:12.1,receiving_td:6,longest_reception:31,fumbles:0,fumbles_lost:0,rushing_attempts:4,rushing_yards:18,yards_per_carry:4.5,rushing_td:0,longest_rushing:9},{id:"KKU-TE-02",name:"\ubb38\uc11c\ud3ec\ud2b8",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"TE",games:8,targets:36,receptions:25,receiving_yards:290,yards_per_catch:11.6,receiving_td:3,longest_reception:27,fumbles:1,fumbles_lost:0,rushing_attempts:2,rushing_yards:7,yards_per_carry:3.5,rushing_td:0,longest_rushing:6}],K:[{id:"KKU-K-01",name:"\ucc28\uc815\ud655",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"K",games:8,extra_points_attempted:21,extra_points_made:20,field_goal:"12-15",field_goal_percentage:80,field_goal_1_19:1,field_goal_20_29:4,field_goal_30_39:5,fiedl_goal_40_49:2,field_goal_40_49:2,field_goal_50_plus:0,longest_field_goal:52},{id:"KKU-K-02",name:"\ucc28\uac15\ud0a5",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"K",games:8,extra_points_attempted:19,extra_points_made:18,field_goal:"10-13",field_goal_percentage:76.9,field_goal_1_19:0,field_goal_20_29:3,field_goal_30_39:5,fiedl_goal_40_49:2,field_goal_40_49:2,field_goal_50_plus:0,longest_field_goal:49}],P:[{id:"KKU-P-01",name:"\ubc15\ub871\ud0a5",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"P",games:8,punt_count:34,punt_yards:1460,average_punt_yard:43,longest_punt:64,touchbacks:4,touchback_percentage:11.8,inside20:12,inside20_percentage:35.3},{id:"KKU-P-02",name:"\uc774\ud558\ub298",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"P",games:8,punt_count:27,punt_yards:1135,average_punt_yard:42,longest_punt:58,touchbacks:3,touchback_percentage:11.1,inside20:9,inside20_percentage:33.3}],OL:[{id:"KKU-OL-01",name:"\uc624\uc218\ud638",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"OL",offensive_snaps_played:520,penalties:5,sacks_allowed:3},{id:"KKU-OL-02",name:"\uc774\ubcbd\ub825",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"OL",offensive_snaps_played:505,penalties:6,sacks_allowed:4}],DL:[{id:"KKU-DL-01",name:"\ub9c8\ub3d9\ucca0",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"DL",games:8,tackles:42,TFL:12,sacks:8,forced_fumbles:2,fumble_recovery:1,fumble_recovered_yards:6,pass_defended:3,interceptions:0,interception_yards:0,touchdowns:0},{id:"KKU-DL-02",name:"\ud5c8\ud30c\uad34",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"DL",games:8,tackles:36,TFL:9,sacks:6.5,forced_fumbles:1,fumble_recovery:0,fumble_recovered_yards:0,pass_defended:1,interceptions:0,interception_yards:0,touchdowns:0}],LB:[{id:"KKU-LB-01",name:"\uc720\uc8fc\uc7a5",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"LB",games:8,tackles:108,TFL:14,sacks:4,forced_fumbles:3,fumble_recovery:2,fumble_recovered_yards:11,pass_defended:8,interceptions:2,interception_yards:39,touchdowns:1},{id:"KKU-LB-02",name:"\ud55c\uc218\ube44",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"LB",games:8,tackles:92,TFL:10,sacks:3,forced_fumbles:2,fumble_recovery:1,fumble_recovered_yards:7,pass_defended:6,interceptions:1,interception_yards:16,touchdowns:0}],DB:[{id:"KKU-DB-01",name:"\uae40\uc2a4\ud15d",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"DB",games:8,tackles:66,TFL:3,sacks:1,forced_fumbles:2,fumble_recovery:1,fumble_recovered_yards:12,pass_defended:15,interceptions:3,interception_yards:74,touchdowns:1,kick_returns:3,kick_return_yards:72,yards_per_kick_return:24,punt_returns:4,punt_return_yards:38,yards_per_punt_return:9.5,return_td:0},{id:"KKU-DB-02",name:"\uc7a5\ucee4\ubc84",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",division:"1\ubd80",position:"DB",games:8,tackles:58,TFL:2,sacks:0,forced_fumbles:1,fumble_recovery:1,fumble_recovered_yards:5,pass_defended:10,interceptions:2,interception_yards:45,touchdowns:0,kick_returns:1,kick_return_yards:22,yards_per_kick_return:22,punt_returns:2,punt_return_yards:16,yards_per_punt_return:8,return_td:0}]},TD=(Object.values(jD).flat(),n.p+"static/media/ChungAng-Blue-Dragons.2bdd206f61bd031fb7b3.png"),ED=n.p+"static/media/Dongguk-Tuskers.018236f3d229bb21f998.png",ND=n.p+"static/media/Hanyang-Lions.416d43287313ee9517dd.png",PD=n.p+"static/media/Hongik-Cowboys.52ed5781450ddf44d88b.png",MD=n.p+"static/media/HUFS-Black-Knights.6e3c7722b8087ac0005f.png",OD=n.p+"static/media/Konkuk-Raging-Bulls.fa1ffe561c9ef950a88f.png",DD=n.p+"static/media/Kookmin-Razorbacks.03cb078455bc2d6f309b.png",LD=n.p+"static/media/Korea-Univeristy-Tigers.4bea4554d06378923da3.png",RD=n.p+"static/media/Kyunghee-Commanders.bc5bde5891e211fbdce8.png",FD=n.p+"static/media/Seoul-Vikings.0ef1fd5c1d464370004b.png",ID=n.p+"static/media/SNU-Green-Terrors.0a7e5d54ea3fcf4b1a1e.png",BD=n.p+"static/media/Sogang-Albatross.726d09837a629b1039e2.png",WD=n.p+"static/media/soongsil-crusaders.f176d9fd4c8259294e47.png",UD=n.p+"static/media/UOS-City-Hawks.8a4966f9914c3f2f1974.png",zD={"\uc11c\uc6b81":[{value:"\uc5f0\uc138",label:"YONSEI EAGLES",logo:n.p+"static/media/Yonsei-Eagles.d9a80545aa6cc565973c.png"},{value:"\uc11c\uc6b8",label:"SNU GREEN TERRORS",logo:ID},{value:"\ud55c\uc591",label:"HANYANG LIONS",logo:ND},{value:"\uad6d\ubbfc",label:"KOOKMIN RAZORBACKS",logo:DD},{value:"\uc678\ub300",label:"HUFS BLACK KNIGHTS",logo:MD},{value:"\uc2dc\ub9bd",label:"UOS CITY HAWKS",logo:UD},{value:"\uac74\uad6d",label:"KONKUK RAGING BULLS",logo:OD},{value:"\ud64d\uc775",label:"HONGIK COWBOYS",logo:PD}],"\uc11c\uc6b82":[{value:"\uace0\ub824",label:"KOREA TIGERS",logo:LD},{value:"\ub3d9\uad6d",label:"DONGGUK TUSKERS",logo:ED},{value:"\uc22d\uc2e4",label:"SOONGSIL CRUSADERS",logo:WD},{value:"\uc911\uc559",label:"CHUNGANG BLUE DRAGONS",logo:TD},{value:"\uacbd\ud76c",label:"KYUNGHEE COMMANDERS",logo:RD},{value:"\uc11c\uac15",label:"SOGANG ALBATROSS",logo:BD}],"\uc0ac\ud68c\uc778":[{value:"\ubc14\uc774\ud0b9",label:"SEOUL VIKINGS",logo:FD}]},GD={games:"\ucd9c\uc804 \uacbd\uae30",passing_attempts:"\ud328\uc2a4 \uc2dc\ub3c4",pass_completions:"\ud328\uc2a4 \uc131\uacf5",completion_percentage:"\uc131\uacf5\ub960 (%)",passing_yards:"\ud328\uc2f1 \uc57c\ub4dc",passing_td:"\ud328\uc2f1 TD",interceptions:"\uc778\ud130\uc149\uc158",longest_pass:"\ucd5c\uc7a5 \ud328\uc2a4 (yd)",sacks:"\u88ab \uc0c9",rushing_attempts:"\ub7ec\uc2f1 \uc2dc\ub3c4",rushing_yards:"\ub7ec\uc2f1 \uc57c\ub4dc",yards_per_carry:"\uc2dc\ub3c4\ub2f9 \uc57c\ub4dc",rushing_td:"\ub7ec\uc2f1 TD",longest_rushing:"\ucd5c\uc7a5 \ub7ec\uc2f1 (yd)",targets:"\ud0c0\uac9f",receptions:"\ub9ac\uc149\uc158",receiving_yards:"\ub9ac\uc2dc\ube59 \uc57c\ub4dc",yards_per_catch:"\ub9ac\uc149\uc158\ub2f9 \uc57c\ub4dc",receiving_td:"\ub9ac\uc2dc\ube59 TD",longest_reception:"\ucd5c\uc7a5 \ub9ac\uc149\uc158 (yd)",tackles:"\ud0dc\ud074",TFL:"TFL",forced_fumbles:"\uac15\uc81c \ud38c\ube14",fumble_recovery:"\ud38c\ube14 \ud68c\uc218",pass_defended:"\ud328\uc2a4 \ubc29\uc5b4",extra_points_made:"\uc5d1\uc2a4\ud2b8\ub77c \ud3ec\uc778\ud2b8 \uc131\uacf5",extra_points_attempted:"\uc5d1\uc2a4\ud2b8\ub77c \ud3ec\uc778\ud2b8 \uc2dc\ub3c4",field_goal:"\ud544\ub4dc\uace8 (\uc131\uacf5/\uc2dc\ub3c4)",field_goal_percentage:"\ud544\ub4dc\uace8 \uc131\uacf5\ub960 (%)",longest_field_goal:"\ucd5c\uc7a5 \ud544\ub4dc\uace8 (yd)",punt_count:"\ud380\ud2b8 \ud69f\uc218",punt_yards:"\ud380\ud2b8 \uc57c\ub4dc",average_punt_yard:"\ud3c9\uade0 \ud380\ud2b8 (yd)",longest_punt:"\ucd5c\uc7a5 \ud380\ud2b8 (yd)",penalties:"\ud328\ub110\ud2f0",sacks_allowed:"\ud5c8\uc6a9 \uc0c9"},HD={QB:["games","passing_attempts","pass_completions","completion_percentage","passing_yards","passing_td","interceptions","sacks","rushing_attempts","rushing_yards"],RB:["games","rushing_attempts","rushing_yards","yards_per_carry","rushing_td","longest_rushing","receptions","receiving_yards"],WR:["games","targets","receptions","receiving_yards","yards_per_catch","receiving_td","longest_reception","rushing_attempts","rushing_yards"],TE:["games","targets","receptions","receiving_yards","yards_per_catch","receiving_td"],K:["games","field_goal","field_goal_percentage","extra_points_made","extra_points_attempted","longest_field_goal"],P:["games","punt_count","average_punt_yard","longest_punt"],OL:["penalties","sacks_allowed"],DL:["games","tackles","TFL","sacks","forced_fumbles","fumble_recovery"],LB:["games","tackles","TFL","sacks","interceptions","pass_defended"],DB:["games","tackles","interceptions","pass_defended","forced_fumbles"]};function YD(){const[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0),[a,r]=(0,s.useState)(""),[o,l]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{i(!0);const e=await(async()=>(await new Promise(e=>setTimeout(e,1e3)),{profileImage:"https://via.placeholder.com/250x300",fullName:"\uae40\uc8fc\uc804",email:"joojeon.kim@example.com",address1:"\uc11c\uc6b8\uc2dc \uad11\uc9c4\uad6c \ub2a5\ub3d9\ub85c 120",address2:"\uac74\uad6d\ub300\ud559\uad50",height:"185cm",weight:"90kg",position:"QB",age:"23\uc138",career:"4\ub144",region:"\uc11c\uc6b81",team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4"}))();t(e),r(e.position),l(e.position),i(!1)})()},[]);const c=t=>{if(!e||!t)return(0,qt.jsx)("div",{className:"no-data",children:"\ud3ec\uc9c0\uc158\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."});const n=(jD[t]||[]).find(t=>t.name===e.fullName);if(!n)return(0,qt.jsxs)("div",{className:"no-data",children:["'",t,"' \ud3ec\uc9c0\uc158 \uc2a4\ud0ef\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]});const s=HD[t]||[];return s.length?(0,qt.jsx)("div",{className:"stats-table-container",children:(0,qt.jsxs)("table",{className:"stats-table",children:[(0,qt.jsx)("thead",{children:(0,qt.jsx)("tr",{children:s.map(e=>(0,qt.jsx)("th",{children:GD[e]||e},e))})}),(0,qt.jsx)("tbody",{children:(0,qt.jsx)("tr",{children:s.map(e=>(0,qt.jsx)("td",{children:void 0!==n[e]?n[e]:"N/A"},e))})})]})}):(0,qt.jsx)("div",{className:"no-data",children:"\ud45c\uc2dc\ud560 \uc2a4\ud0ef\uc774 \uc124\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."})};if(n)return(0,qt.jsx)("div",{className:"loading-message",children:"\ud504\ub85c\ud544 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."});if(!e)return(0,qt.jsx)("div",{className:"error-message",children:"\ud504\ub85c\ud544 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});const d=(()=>{if(null===e||void 0===e||!e.team)return{label:"N/A",logo:null};return(zD[e.region]||[]).find(t=>t.label===e.team)||{label:e.team,logo:null}})(),h=Object.keys(jD);return(0,qt.jsxs)("div",{className:"profile-main",children:[(0,qt.jsxs)("div",{className:"profile-container",children:[(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\uc120\uc218 \ud504\ub85c\ud544"})}),(0,qt.jsxs)("div",{className:"profile-content",children:[(0,qt.jsx)("div",{className:"profile-image-modify",children:(0,qt.jsx)("div",{className:"profile-image-section",children:e.profileImage?(0,qt.jsx)("img",{src:e.profileImage,alt:"Profile",className:"profile-image"}):(0,qt.jsx)("div",{className:"profile-placeholder-text"})})}),(0,qt.jsxs)("div",{className:"profile-info-section",children:[(0,qt.jsxs)("div",{className:"profile-info-grid",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc131\uba85"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.fullName})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.email})]}),(0,qt.jsxs)("div",{className:"profile-form-group full-width",children:[(0,qt.jsx)("label",{children:"\uc8fc\uc18c"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.address1}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.address2})]})]}),(0,qt.jsxs)("div",{className:"profile-info-four-column",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud0a4(cm)"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.height})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ubab8\ubb34\uac8c(kg)"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.weight})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ub098\uc774"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.age})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uacbd\ub825(\ub144)"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.career})]})]}),(0,qt.jsxs)("div",{className:"profile-info-three-column",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud3ec\uc9c0\uc158"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.position})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc9c0\uc5ed"}),(0,qt.jsx)("p",{className:"profile-info-text",children:e.region})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud300"}),(0,qt.jsxs)("div",{className:"profile-team-display",children:[d.logo&&(0,qt.jsx)("img",{src:d.logo,alt:d.label,className:"profile-team-icon"}),(0,qt.jsx)("p",{children:d.label})]})]})]})]})]})]}),(0,qt.jsxs)("div",{className:"profile-container",children:[(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\ud1b5\uc0b0 \ucee4\ub9ac\uc5b4 \uc2a4\ud0ef"})}),(0,qt.jsx)("div",{className:"dropdowns-container",children:(0,qt.jsx)("select",{className:"dropdown",value:a,onChange:e=>r(e.target.value),children:h.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))})}),c(a)]}),(0,qt.jsxs)("div",{className:"profile-container",children:[(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\uc62c\ud574 \uc2dc\uc98c \ub098\uc758 \uc2a4\ud0ef"})}),(0,qt.jsx)("div",{className:"dropdowns-container",children:(0,qt.jsx)("select",{className:"dropdown",value:o,onChange:e=>l(e.target.value),children:h.map(e=>(0,qt.jsx)("option",{value:e,children:e},e))})}),c(o)]}),(0,qt.jsx)("div",{className:"profile-container",children:(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\uacbd\uae30\ubcc4 \uc2a4\ud0ef"})})})]})}function VD(e){let{value:t,options:n,onChange:i,label:a,placeholder:r}=e;const[o,l]=(0,s.useState)(!1),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>c.current&&!c.current.contains(e.target)&&l(!1);return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const d=n.find(e=>e.value===t),h=d?d.label:r;return(0,qt.jsxs)("div",{className:"pts-dropdown-container",ref:c,"aria-label":a,children:[(0,qt.jsxs)("button",{type:"button",className:"pts-dropdown-trigger ".concat(o?"open":""),onClick:()=>l(e=>!e),children:[(0,qt.jsx)("span",{className:"pts-dropdown-text",children:h}),(0,qt.jsx)(aw,{size:16,className:"pts-dropdown-arrow ".concat(o?"rotated":"")})]}),o&&(0,qt.jsx)("div",{className:"pts-dropdown-menu",children:(0,qt.jsx)("ul",{className:"pts-dropdown-list",children:n.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"pts-dropdown-option ".concat(t===e.value?"selected":""),onClick:()=>{i(e.value),l(!1)},children:e.label})},e.value))})})]})}const qD={field_goal:["field_goal","fg"],field_goal_percentage:["field_goal_percentage","fg_percentage"],field_goal_1_19:["field_goal_1_19","field_1_19","fg_1_19"],field_goal_20_29:["field_goal_20_29","field_20_29","fg_20_29"],field_goal_30_39:["field_goal_30_39","field_30_39","30-39","fg_30_39"],field_goal_40_49:["field_goal_40_49","field_40_49","40-49","field_goal_40_49","fg_40_49"],field_goal_50_plus:["field_goal_50_plus","50_plus","fg_50_plus","field_50_plus"],average_field_goal_length:["average_field_goal_length","fg_average_length","avg_fg_length","avg"],longest_field_goal:["longest_field_goal","fg_longest","longest_fg"],punts:["punts","punt_count"],average_punt_yards:["average_punt_yards","average_punt_yard"],punt_yards:["punt_yards","total_punt_yards"],touchback_percentage:["touchback_percentage","tb_percentage"],inside20:["inside20","punts_inside_20"],inside20_percentage:["inside20_percentage","punts_inside_20_percentage"],fumbles:["fumbles","rushingFumbles","passingFumbles"],fumbles_lost:["fumbles_lost","rushingFumblesLost","passingFumblesLost"]},KD=(e,t)=>{if(!e)return;if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=qD[t];if(n)for(const s of n)if(Object.prototype.hasOwnProperty.call(e,s))return e[s]},XD=["QB","RB","WR","TE","OL","DL","LB","DB","K","P"],QD={QB:["pass","run"],RB:["pass","run","\uc2a4\ud398\uc15c\ud300"],WR:["pass","run","\uc2a4\ud398\uc15c\ud300"],TE:["pass","run"],OL:["pass"],DL:["defense"],LB:["defense"],DB:["defense","\uc2a4\ud398\uc15c\ud300"],K:["\uc2a4\ud398\uc15c\ud300"],P:["\uc2a4\ud398\uc15c\ud300"]},JD={QB:{pass:"passing_yards",run:"rushing_yards"},RB:{pass:"receiving_yards",run:"rushing_yards","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"},WR:{pass:"receiving_yards",run:"rushing_yards","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"},TE:{pass:"receiving_yards",run:"rushing_yards"},OL:{pass:"sacks_allowed"},DL:{defense:"sacks"},LB:{defense:"tackles"},DB:{defense:"interceptions","\uc2a4\ud398\uc15c\ud300":"kick_return_yards"},K:{"\uc2a4\ud398\uc15c\ud300":"field_goal_percentage"},P:{"\uc2a4\ud398\uc15c\ud300":"average_punt_yards"}},ZD={QB:{pass:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"passing_attempts",label:"\ud328\uc2a4 \uc2dc\ub3c4 \uc218"},{key:"pass_completions",label:"\ud328\uc2a4 \uc131\uacf5 \uc218"},{key:"completion_percentage",label:"\ud328\uc2a4 \uc131\uacf5\ub960"},{key:"passing_yards",label:"\ud328\uc2f1 \uc57c\ub4dc"},{key:"passing_td",label:"\ud328\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"interceptions",label:"\uc778\ud130\uc149\ud2b8"},{key:"longest_pass",label:"\uac00\uc7a5 \uae34 \ud328\uc2a4"},{key:"sacks",label:"\uacbd\uae30 \ub2f9 \uc0c9 \ud5c8\uc6a9 \uc218"}],run:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34 \ub7ec\uc2f1 \uc57c\ub4dc"}]},RB:{pass:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4 \ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4 \uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58 \ub2f9 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_first_downs",label:"\ub9ac\uc2dc\ube0c \ud6c4 \ud37c\uc2a4\ud2b8 \ub2e4\uc6b4 \uc218"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}],run:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134 \ud130\uce58\ub2e4\uc6b4"}]},WR:{pass:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4 \ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4 \uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58\ub2f9 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_first_downs",label:"\ub9ac\uc2dc\ube0c \ud6c4 \ud37c\uc2a4\ud2b8 \ub2e4\uc6b4 \uc218"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}],run:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134 \ud130\uce58\ub2e4\uc6b4"}]},TE:{pass:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"targets",label:"\ud328\uc2a4 \ud0c0\uac9f \uc218"},{key:"receptions",label:"\ud328\uc2a4 \uce90\uce58 \uc218"},{key:"receiving_yards",label:"\ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"yards_per_catch",label:"\uce90\uce58 \ub2f9 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_td",label:"\ub9ac\uc2dc\ube59 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_reception",label:"\uac00\uc7a5 \uae34 \ub9ac\uc2dc\ube59 \uc57c\ub4dc"},{key:"receiving_first_downs",label:"\ub9ac\uc2dc\ube0c \ud6c4 \ud37c\uc2a4\ud2b8 \ub2e4\uc6b4 \uc218"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}],run:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"rushing_attempts",label:"\ub7ec\uc2f1 \uc2dc\ub3c4 \uc218"},{key:"rushing_yards",label:"\ub7ec\uc2f1 \uc57c\ub4dc"},{key:"yards_per_carry",label:"\ubcfc \uce90\ub9ac \ub2f9 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"rushing_td",label:"\ub7ec\uc2f1 \ud130\uce58\ub2e4\uc6b4"},{key:"longest_rushing",label:"\uac00\uc7a5 \uae34 \ub7ec\uc2f1 \uc57c\ub4dc"},{key:"fumbles",label:"\ud38c\ube14 \uc218"},{key:"fumbles_lost",label:"\ud38c\ube14 \ud134\uc624\ubc84 \uc218"}]},OL:{pass:[{key:"penalties",label:"\ubc18\uce59 \uc218"},{key:"sacks_allowed",label:"\uc0c9 \ud5c8\uc6a9 \uc218"}]},DL:{defense:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"sacks",label:"\uc0c9"},{key:"forced_fumbles",label:"\ud38c\ube14 \uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc218"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44 \ud130\uce58\ub2e4\uc6b4"}]},LB:{defense:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"sacks",label:"\uc0c9"},{key:"forced_fumbles",label:"\ud38c\ube14 \uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc218"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44 \ud130\uce58\ub2e4\uc6b4"}]},DB:{defense:[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"tackles",label:"\ud0dc\ud074 \uc218"},{key:"sacks",label:"\uc0c9"},{key:"forced_fumbles",label:"\ud38c\ube14 \uc720\ub3c4 \uc218"},{key:"fumble_recovery",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc218"},{key:"fumble_recovered_yards",label:"\ud38c\ube14 \ub9ac\ucee4\ubc84\ub9ac \uc57c\ub4dc"},{key:"pass_defended",label:"\ud328\uc2a4\ub97c \ub9c9\uc740 \uc218"},{key:"interceptions",label:"\uc778\ud130\uc149\uc158"},{key:"interception_yards",label:"\uc778\ud130\uc149\uc158 \uc57c\ub4dc"},{key:"touchdowns",label:"\uc218\ube44 \ud130\uce58\ub2e4\uc6b4"}],"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"kick_returns",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"kick_return_yards",label:"\ud0a5 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_kick_return",label:"\ud0a5 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"punt_returns",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \uc218"},{key:"punt_return_yards",label:"\ud380\ud2b8 \ub9ac\ud134 \uc57c\ub4dc"},{key:"yards_per_punt_return",label:"\ud380\ud2b8 \ub9ac\ud134 \uc2dc\ub3c4 \ub2f9 \ub9ac\ud134 \uc57c\ub4dc"},{key:"return_td",label:"\ub9ac\ud134 \ud130\uce58\ub2e4\uc6b4"}]},K:{"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"extra_points_attempted",label:"PAT \uc2dc\ub3c4"},{key:"extra_points_made",label:"PAT \uc131\uacf5"},{key:"field_goal",label:"\ud544\ub4dc\uace8 \uc131\uacf5-\uc2dc\ub3c4"},{key:"field_goal_percentage",label:"\ud544\ub4dc\uace8 \uc131\uacf5\ub960"},{key:"field_goal_1_19",label:"1-19"},{key:"field_goal_20_29",label:"20-29"},{key:"field_goal_30_39",label:"30-39"},{key:"field_goal_40_49",label:"40-49"},{key:"field_goal_50_plus",label:"50+"},{key:"average_field_goal_length",label:"\ud3c9\uade0 \ud544\ub4dc\uace8 \uac70\ub9ac"},{key:"longest_field_goal",label:"\uac00\uc7a5 \uae34 \ud544\ub4dc\uace8"}]},P:{"\uc2a4\ud398\uc15c\ud300":[{key:"games",label:"\uacbd\uae30 \uc218"},{key:"punts",label:"\ud380\ud2b8 \uc218"},{key:"average_punt_yards",label:"\ud3c9\uade0 \ud380\ud2b8 \uac70\ub9ac"},{key:"longest_punt",label:"\uac00\uc7a5 \uae34 \ud380\ud2b8"},{key:"punt_yards",label:"\ud380\ud2b8 \uc57c\ub4dc"},{key:"touchback_percentage",label:"\ud130\uce58\ubc31 %"},{key:"inside20",label:"20 \uc57c\ub4dc \uc548\ucabd \ud380\ud2b8"},{key:"inside20_percentage",label:"20 \uc57c\ub4dc \uc548\ucabd \ud380\ud2b8 %"}]}},$D=new Set(["interceptions","sacks","fumbles","fumbles_lost","penalties","sacks_allowed","touchback_percentage"]),eL=new Set(["field_goal"]),tL=e=>{if("string"!==typeof e)return[0,0];const[t,n]=e.split("-").map(e=>parseFloat(e)||0);return[t,n]};function nL(e){var t;let{title:n,rows:i,categoryKey:a,primaryKey:r}=e;const o=(null===(t=ZD[n])||void 0===t?void 0:t[a])||[],[l,c]=(0,s.useState)(r?{key:r,direction:"desc"}:null);(0,s.useEffect)(()=>{c(r?{key:r,direction:"desc"}:null)},[r]);const h=(0,s.useMemo)(()=>{const e=Array.isArray(i)?i:[];if(!l)return e;const{key:t,direction:n}=l;return[...e].sort((e,s)=>{var i,a;if(eL.has(t)){var r,o;const[i,a]=tL(null!==(r=KD(e,t))&&void 0!==r?r:"0-0"),[l,c]=tL(null!==(o=KD(s,t))&&void 0!==o?o:"0-0"),d=$D.has(t)?1:-1,h="asc"===n?-1:1,u=(i-l)*d*h;return 0!==u?u:(a-c)*d*h}const l=Number(null!==(i=KD(e,t))&&void 0!==i?i:0),c=Number(null!==(a=KD(s,t))&&void 0!==a?a:0);return(l<c?-1:l>c?1:0)*("asc"===n?1:-1)*($D.has(t)?-1:1)})},[i,l]),u=(0,s.useMemo)(()=>{if(!h.length||!l)return h.map((e,t)=>d(d({},e),{},{__rank:t+1}));const{key:e}=l;let t=null,n=0,s=0;return h.map(i=>{s++;const a=(t=>{var n,s;return eL.has(e)?tL(null!==(n=KD(t,e))&&void 0!==n?n:"0-0").join("|"):null!==(s=KD(t,e))&&void 0!==s?s:0})(i);return a!==t&&(n=s),t=a,d(d({},i),{},{__rank:n})})},[h,l]),p=(e,t)=>{const n=KD({[e]:t},e);return"number"===typeof n?String(e).includes("percentage")||n%1!==0?n.toFixed(1):n:"string"===typeof n?n||"0":null!==n&&void 0!==n?n:"0"};return Array.isArray(i)&&0!==i.length?0===o.length?null:(0,qt.jsxs)("div",{className:"pts-position-section",children:[(0,qt.jsx)("div",{className:"pts-table-header",children:(0,qt.jsxs)("div",{className:"pts-table-title",children:[n," \uc120\uc218 \uc2a4\ud0ef"]})}),(0,qt.jsx)("div",{className:"pts-table-wrapper",children:(0,qt.jsxs)("div",{className:"pts-stat-table",children:[(0,qt.jsx)("div",{className:"pts-table-head",children:(0,qt.jsxs)("div",{className:"pts-table-row",children:[(0,qt.jsxs)("div",{className:"pts-table-row1",children:[(0,qt.jsx)("div",{className:"pts-table-header-cell pts-rank-column",children:"\uc21c\uc704"}),(0,qt.jsx)("div",{className:"pts-table-header-cell pts-player-column",children:"\uc120\uc218 \uc774\ub984"})]}),(0,qt.jsx)("div",{className:"pts-table-row2",style:{"--cols":o.length},children:o.map(e=>{const t=l&&l.key===e.key,n=t?l.direction:null,s=r===e.key;return(0,qt.jsx)("div",{className:"pts-table-header-cell pts-stat-column sortable ".concat(t?"pts-active-blue":""," ").concat(s&&!t?"pts-primary-orange":""),children:(0,qt.jsxs)("button",{type:"button",className:"pts-sort-toggle one ".concat(null!==n&&void 0!==n?n:"none"),onClick:()=>{return t=e.key,void c(e=>e&&e.key===t?{key:t,direction:"desc"===e.direction?"asc":"desc"}:{key:t,direction:"desc"});var t},children:[(0,qt.jsx)("span",{className:"pts-column-label",children:e.label}),(0,qt.jsx)(EM,{className:"pts-chev ".concat("asc"===n?"asc":""," ").concat(t?"pts-active-blue":""),size:30})]})},e.key)})})]})}),(0,qt.jsx)("div",{className:"pts-table-body",children:u.map((e,t)=>(0,qt.jsxs)("div",{className:"pts-table-rows",children:[(0,qt.jsxs)("div",{className:"pts-table-row1",children:[(0,qt.jsxs)("div",{className:"pts-table-cell",children:[e.__rank,"\uc704"]}),(0,qt.jsx)("div",{className:"pts-table-cell pts-player-name",children:e.name})]}),(0,qt.jsx)("div",{className:"pts-table-row2",style:{"--cols":o.length},children:o.map(t=>(0,qt.jsx)("div",{className:"pts-table-cell",children:p(t.key,KD(e,t.key))},t.key))})]},e.id||e.name||t))})]})})]}):null}const sL=()=>{const{user:e}=Qt(),[t,n]=(0,s.useState)("\uc804\uccb4"),[i,a]=(0,s.useState)("pass"),[r,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c(!0);const e=Object.values(jD).flat().map(e=>d(d({},e),{},{division:e.division||"1\ubd80"}));o(e),c(!1)},[t]);const h=(0,s.useMemo)(()=>{const e={};return r.forEach(t=>{e[t.position]||(e[t.position]=[]),e[t.position].push(t)}),e},[r]);return(0,qt.jsxs)("div",{className:"pts-stat-position",children:[(0,qt.jsx)("div",{className:"pts-stat-header",children:(0,qt.jsxs)("div",{className:"pts-stat-dropdown-group",children:[(0,qt.jsx)(VD,{label:"game",placeholder:"\uac8c\uc784 \uc720\ud615",value:t,options:[{value:"\uc804\uccb4",label:"\uc804\uccb4"},{value:"\uc2dc\uc98c",label:"\uc2dc\uc98c"},{value:"\uacbd\uae30",label:"\uacbd\uae30"}],onChange:n}),(0,qt.jsx)(VD,{label:"category",placeholder:"\uc2a4\ud0ef \uc720\ud615",value:i,options:[{value:"pass",label:"\ud328\uc2a4"},{value:"run",label:"\ub7f0"},{value:"defense",label:"\uc218\ube44"},{value:"\uc2a4\ud398\uc15c\ud300",label:"\uc2a4\ud398\uc15c\ud300"}],onChange:a})]})}),l?(0,qt.jsx)("div",{style:{padding:16},children:"Loading..."}):(0,qt.jsx)("div",{className:"pts-team-stats-by-position",children:XD.map(e=>{var t,n;const s=(e=>{var t;return null!==(t=QD[e])&&void 0!==t&&t.includes(i)?i:null})(e);if(!s)return null;const a=h[e]||[],r=(null===(t=ZD[e])||void 0===t?void 0:t[s])||[];if(!r.length)return null;const o=r.map(e=>e.key).filter(e=>"games"!==e),l=a.filter(e=>((e,t)=>{for(const n of t){if("games"===n)continue;const t=KD(e,n);if(null!=t){if("number"===typeof t&&0!==t)return!0;if("string"===typeof t)if(t.includes("-")){const[e,n]=tL(t);if(e>0||n>0)return!0}else{const e=parseFloat(t);if(!Number.isNaN(e)&&0!==e)return!0;if(""!==t.trim()&&"0"!==t.trim())return!0}}}return!1})(e,o));if(!l.length)return null;const c=(null===(n=JD[e])||void 0===n?void 0:n[s])||null;return(0,qt.jsx)(nL,{title:e,rows:l,categoryKey:s,primaryKey:c},e)})})]})},iL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFLSURBVHgB7VTtdYJAEFxSwZVACXYQUoF0AB2EDrAEOsBUYDogHWgH0gF2cNk1c4/NuafoL384783j3NnPW4TohRvIljh57wt+5KDgwByzLDvQo+CkjtkyJ5/GkVnRvRMgqGM65on5xfzBmWAvmWucR+YHTzTSgs5bdDfd6o71nLlR/qulyWX0nBZCdoQC6SIslKnk6HRQSXrZUeSzUvEuTu4gTInkYdF7+J3PRpMNtB0lrmZjBG2hNcrWwbY2/AdohTaeuycDoWtjKkFn+BfQvuX3G+wj0/2rOuMETd9robQY73jurKoDXXbUqPsXv0+1h5wuJ5viiYMY7rW9ogVIktrw20OvrAJOdWYVydF97ePX8E/vU3uJkySLXIkZELNdGhCKyLNKdCx+rZ//Ix3dAz9/Y7xa8gAelV3OJT0CdFknkvbefq1feDL8AhkcT9LKpYi4AAAAAElFTkSuQmCC",aL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJsSURBVHgB7VXNddpAEJ5ZJAEmeY8SlAqCKwhUAB1AKgAOgaPlUwI5BCpwqABcAe4glKAOorz8ABLSZEZisSQgODcfPO+Blt2Z7/vmZwXAi10wfIrTz6FRRyQbQ7STKFoRKffV52B1KfYsAfWgurGsLmHUQ8DqGTcXCJzyOJj9F4E/MNs7pIkAE5DHbjOi6EEhenIeETGhanFWzT25CxA0yiN5XiDYDoybCNERYENhz/p4Xt16WLIBdh2GuWEgT0XQsHJlw1PgiaICK9q48ARbc48IcK54nSc5EPweWC2FND8Fvh6CDWDecVa1JAgXpW3Qxwl42ufXB7NWUPBN4vnsWp8JadxQBv+S1PsYnMCQwDo31GVwCexsi+YynYVMFBL0eWlvi9ad3o8JfMvoygGBmubLEpHpxM3m4Kvx7ro8Ct6wkCkB1LbDQjPtWxoHE3488HlLRvtAwHXvSJMqI9+BnPH+W0n7Kgne7xnxOgTVgCOjW/kugOodCASAFVU1a4YAwWOSqpRR74VRGPtRRF7eXxG8k6eh4n5qgoTV4HE7IiC4F3KpuQj4MzS73MzYTynja9pX+hUiiHJXj3dMUB7tpG5TXtbXAytDInXVNWcBS85Gfle5Tu/z/UIw59IvFuA87u3tO5egVDRlWmwg5Ovv32bVlWyEsLnD6Edl83qBE8/LnpsyOR0WMr0aBb0jAg3CFV6eIzll+o5I9hHCrPIp6GSzOgpIkexfZiU/uE9fqoMfRW39MswrP0vwCGA4kGo6O64YRJPY+4+Yqwj7xbG/OIXzz/+DWCXySBK12dXOgPKFioBmMiDwYs/a/gLyux+W+RneKwAAAABJRU5ErkJggg==";function rL(){const[e,t]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0),[a,r]=(0,s.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),[o,l]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{const e=await(async()=>(await new Promise(e=>setTimeout(e,1e3)),{profileImage:"https://via.placeholder.com/250x300",fullName:"\ud64d\uae38\ub3d9",email:"test@example.com",address1:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c \ud14c\ud5e4\ub780\ub85c 123",address2:"\uba40\ud2f0\ucea0\ud37c\uc2a4",height:"180",weight:"75",position:"QB",age:"28",career:"5",region:"seoul-first",team:"hanyang"}))();t(e),i(!1)})()},[]);const m=e=>{const{name:n,value:s}=e.target;t(e=>d(d({},e),{},{[n]:s}))},g=e=>{const{name:t,value:n}=e.target;r(e=>d(d({},e),{},{[t]:n}))};if(n)return(0,qt.jsx)("div",{className:"loading-message",children:"\ud504\ub85c\ud544 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."});if(!e)return(0,qt.jsx)("div",{className:"error-message",children:"\ud504\ub85c\ud544 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});const f=(()=>{if(null===e||void 0===e||!e.team)return{label:"N/A",logo:null};return(zD[e.region]||[]).find(t=>t.value===e.team)||{label:"N/A",logo:null}})();return(0,qt.jsxs)("div",{className:"profile-main",children:[(0,qt.jsxs)("div",{className:"profile-container",children:[(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\uc120\uc218 \ud504\ub85c\ud544"})}),(0,qt.jsxs)("div",{className:"profile-content",children:[(0,qt.jsxs)("div",{className:"profile-image-modify",children:[(0,qt.jsx)("div",{className:"profile-image-section",children:e.profileImage?(0,qt.jsx)("img",{src:e.profileImage,alt:"Profile",className:"profile-image"}):(0,qt.jsx)("div",{className:"profile-placeholder-text"})}),(0,qt.jsxs)("div",{className:"profile-image-buttons",children:[(0,qt.jsx)("label",{htmlFor:"file-upload",className:"profile-image-button",children:"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)("input",{id:"file-upload",type:"file",accept:"image/*",onChange:e=>{var n;const s=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!s)return;const i=new FileReader;i.onloadend=()=>{t(e=>d(d({},e),{},{profileImage:i.result}))},i.readAsDataURL(s)},style:{display:"none"}}),(0,qt.jsx)("button",{onClick:()=>{t(e=>d(d({},e),{},{profileImage:null}))},className:"profile-image-button delete",children:"\uc0ad\uc81c"})]})]}),(0,qt.jsxs)("div",{className:"profile-info-section",children:[(0,qt.jsxs)("div",{className:"profile-info-grid",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc131\uba85"}),(0,qt.jsx)("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,qt.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group full-width",children:[(0,qt.jsx)("label",{children:"\uc8fc\uc18c"}),(0,qt.jsx)("input",{id:"address1",name:"address1",type:"text",value:e.address1,onChange:m,className:"profile-input"}),(0,qt.jsx)("input",{id:"address2",name:"address2",type:"text",value:e.address2,onChange:m,className:"profile-input mt-2"})]})]}),(0,qt.jsxs)("div",{className:"profile-info-four-column",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud0a4(cm)"}),(0,qt.jsx)("input",{id:"height",name:"height",type:"text",value:e.height,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ubab8\ubb34\uac8c(kg)"}),(0,qt.jsx)("input",{id:"weight",name:"weight",type:"text",value:e.weight,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ub098\uc774"}),(0,qt.jsx)("input",{id:"age",name:"age",type:"text",value:e.age,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uacbd\ub825(\ub144)"}),(0,qt.jsx)("input",{id:"career",name:"career",type:"text",value:e.career,onChange:m,className:"profile-input"})]})]}),(0,qt.jsxs)("div",{className:"profile-info-three-column",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud3ec\uc9c0\uc158"}),(0,qt.jsx)("input",{id:"position",name:"position",type:"text",value:e.position,onChange:m,className:"profile-input"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc9c0\uc5ed"}),(0,qt.jsx)("p",{className:"profile-input",children:"seoul-first"===e.region?"\uc11c\uc6b8 1\ubd80 \ub9ac\uadf8":"seoul-second"===e.region?"\uc11c\uc6b8 2\ubd80 \ub9ac\uadf8":"adult"===e.region?"\uc0ac\ud68c\uc778 \ub9ac\uadf8":"N/A"})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud300"}),(0,qt.jsxs)("div",{className:"profile-team-display",children:[f.logo&&(0,qt.jsx)("img",{src:f.logo,alt:f.label,className:"profile-team-icon"}),(0,qt.jsx)("p",{children:f.label})]})]})]})]})]}),(0,qt.jsx)("div",{className:"profile-save-container",children:(0,qt.jsx)("button",{onClick:()=>{if(!e)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return void alert("\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");const t=["height","weight","age","career"];for(const n of t)if(""===e[n]||Number.isNaN(Number(e[n])))return void alert("\ud0a4, \ubab8\ubb34\uac8c, \ub098\uc774, \uacbd\ub825\uc740 \uc22b\uc790\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.");console.log("Saving changes...",e),alert("\ubcc0\uacbd\uc0ac\ud56d\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")},className:"profile-save-button",children:"\ubcc0\uacbd\uc0ac\ud56d \uc800\uc7a5"})})]}),(0,qt.jsxs)("div",{className:"profile-container",children:[(0,qt.jsx)("div",{className:"profile-title-container",children:(0,qt.jsx)("h1",{className:"profile-title",children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})}),(0,qt.jsxs)("div",{className:"password-change-section",children:[(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638"}),(0,qt.jsxs)("div",{className:"input-with-icon",children:[(0,qt.jsx)("input",{id:"currentPassword",name:"currentPassword",type:o?"text":"password",value:a.currentPassword,onChange:g,className:"profile-input-password"}),(0,qt.jsx)("button",{type:"button",className:"profilepasswordToggleButton",tabIndex:-1,"aria-hidden":"true",onMouseDown:e=>e.preventDefault(),onClick:()=>l(e=>!e),children:(0,qt.jsx)("img",{src:o?aL:iL,alt:""})})]})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc0c8\ub85c\uc6b4 \ube44\ubc00\ubc88\ud638"}),(0,qt.jsxs)("div",{className:"input-with-icon",children:[(0,qt.jsx)("input",{id:"newPassword",name:"newPassword",type:c?"text":"password",value:a.newPassword,onChange:g,className:"profile-input-password",placeholder:"\ucd5c\uc18c 8\uc790"}),(0,qt.jsx)("button",{type:"button",className:"profilepasswordToggleButton",onClick:()=>h(e=>!e),children:(0,qt.jsx)("img",{src:c?aL:iL,alt:"toggle password"})})]})]}),(0,qt.jsxs)("div",{className:"profile-form-group",children:[(0,qt.jsx)("label",{children:"\uc0c8\ub85c\uc6b4 \ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,qt.jsxs)("div",{className:"input-with-icon",children:[(0,qt.jsx)("input",{id:"confirmNewPassword",name:"confirmNewPassword",type:u?"text":"password",value:a.confirmNewPassword,onChange:g,className:"profile-input-password"}),(0,qt.jsx)("button",{type:"button",className:"profilepasswordToggleButton",onClick:()=>p(e=>!e),children:(0,qt.jsx)("img",{src:u?aL:iL,alt:"toggle password"})})]})]}),(0,qt.jsx)("div",{className:"profile-save-container",children:(0,qt.jsx)("button",{onClick:()=>{const{newPassword:e,confirmNewPassword:t}=a;e===t?e.length<8?alert("\uc0c8\ub85c\uc6b4 \ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."):(console.log("Password change successful!"),alert("\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")):alert("\uc0c8\ub85c\uc6b4 \ube44\ubc00\ubc88\ud638\uc640 \ud655\uc778 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},className:"profile-save-button",children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})})]})]})]})}const oL=()=>{const[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(!1);return(0,qt.jsx)("div",{className:"profile-main",children:(0,qt.jsxs)("div",{className:"profile-manage-container",children:[(0,qt.jsxs)("div",{className:"manage-item",children:[(0,qt.jsx)("div",{className:"manage-label",children:"1. \uc120\uc218\ub2e8 \uba85\ub2e8"}),(0,qt.jsxs)("div",{className:"manage-actions",children:[(0,qt.jsx)("label",{htmlFor:"excel-upload",className:"excel-upload-btn ".concat(n?"disabled":""),"aria-disabled":n,children:n?"\uc5c5\ub85c\ub4dc \uc911\u2026":"\uc5d1\uc140 \ud30c\uc77c \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)("input",{id:"excel-upload",type:"file",accept:".xlsx,.xls",style:{display:"none"},onChange:async e=>{var n;const s=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!s)return;const a=new FormData;a.append("file",s);try{i(!0),t("\uc5c5\ub85c\ub4dc \uc911\u2026");(await fetch("/api/upload/excel",{method:"POST",body:a})).ok?t("\uc815\uc0c1\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc \ub428 \u2705"):t("\uc5c5\ub85c\ub4dc \uc2e4\ud328 \u274c")}catch(r){console.error(r),t("\uc11c\ubc84 \uc624\ub958 \u274c")}finally{i(!1),e.target.value=""}},disabled:n}),(0,qt.jsx)("span",{className:"upload-hint",children:e})]})]}),(0,qt.jsxs)("div",{className:"manage-item",children:[(0,qt.jsx)("div",{className:"manage-label",children:"2. \ud50c\ub808\uc774\ubd81"}),(0,qt.jsx)("div",{className:"manage-status",children:"\ucd9c\uc2dc \uc608\uc815"})]})]})})},lL=[{gameKey:"2024-10-05-BG-YS",date:"2024-10-05(\ud1a0) 13:00",type:"Season",score:{home:28,away:20},region:"Busan-Gyeongnam",location:"\ubd80\uc0b0 \uad6c\ub355\uc6b4\ub3d9\uc7a5",homeTeam:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",awayTeam:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",Clips:[{clipKey:"BG-YS-1",offensiveTeam:"Home",quarter:1,down:"1",toGoYard:10,playType:"RUN",significantPlays:[null]},{clipKey:"BG-YS-2",offensiveTeam:"Home",quarter:2,down:"3",toGoYard:7,playType:"PASS",significantPlays:["TD","PATGOOD"]},{clipKey:"BG-YS-3",offensiveTeam:"Away",quarter:4,down:"PAT",toGoYard:2,playType:"PAT",specialTeam:"PAT",significantPlays:["PATNOGOOD"]}]},{gameKey:"2024-09-20-BG-KU",date:"2024-09-20(\uae08) 19:00",type:"Friendly match",score:{home:17,away:16},region:"Busan-Gyeongnam",location:"\uc0ac\uc9c1\ubcf4\uc870\uacbd\uae30\uc7a5",homeTeam:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",awayTeam:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",Clips:[{clipKey:"BG-KU-1",offensiveTeam:"Away",quarter:2,down:"3",toGoYard:12,playType:"PASS",significantPlays:["SACK"]},{clipKey:"BG-KU-2",offensiveTeam:"Home",quarter:4,down:"TPT",toGoYard:1,playType:"TWOPT",specialTeam:"TPT",significantPlays:["TWOPTCONV.NOGOOD"]},{clipKey:"BG-KU-3",offensiveTeam:"Home",quarter:3,down:"4",toGoYard:8,playType:"FIELDGOAL",significantPlays:["FIELDGOAL.GOOD"]}]}],cL=(0,s.createContext)({list:[],map:{},ready:!0}),dL=()=>(0,s.useContext)(cL);function hL(){const e={role:"player",user:{}},t=(null===e||void 0===e?void 0:e.user)||{},n=["BG-YS-2","BG-KU-3"],i="coach"===((null===e||void 0===e?void 0:e.role)||"player")?(null===t||void 0===t?void 0:t.teamMemoClipKeys)||n:(null===t||void 0===t?void 0:t.memoClipKeys)||n,a=(0,s.useMemo)(()=>new Set((i||[]).map(String)),[i]),r=(0,s.useMemo)(()=>{const e=lL.map(e=>{const t=(e.Clips||[]).filter(e=>a.has(String(e.clipKey)));return t.length?d(d({},e),{},{Clips:t}):null}).filter(Boolean),t=Object.fromEntries(e.map(e=>[e.gameKey,e]));return{list:e,map:t,ready:!0}},[a]);return(0,s.useEffect)(()=>{console.log("[ProfileMemoLayout] games=",r.list.map(e=>e.gameKey))},[r]),(0,qt.jsx)(cL.Provider,{value:r,children:(0,qt.jsx)(Le,{})})}function uL(){var e;const t=fe(),n=dL()||{list:[]},s=e=>t("/service/profile/clip/".concat(encodeURIComponent(e.gameKey)));return null!==(e=n.list)&&void 0!==e&&e.length?(0,qt.jsxs)("div",{className:"game-container",style:{paddingBottom:24},children:[(0,qt.jsxs)("div",{className:"game-header",children:[(0,qt.jsx)("div",{className:"game-header-cell",children:"\ub0a0\uc9dc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30 \uacb0\uacfc"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uc138\ubd80\uc0ac\ud56d"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uacbd\uae30\ubcf4\uace0\uc11c"}),(0,qt.jsx)("div",{className:"game-header-cell",children:"\uae38\uc774"})]}),(0,qt.jsx)("div",{className:"game-list",children:n.list.map(e=>{var t,n,i,a;return(0,qt.jsxs)("div",{className:"game-card",onClick:()=>s(e),role:"button",tabIndex:0,onKeyDown:t=>"Enter"===t.key&&s(e),style:{cursor:"pointer"},children:[(0,qt.jsx)("div",{className:"date",children:e.date}),(0,qt.jsxs)("div",{className:"game-results",children:[(0,qt.jsx)("div",{className:"game-team left",children:(0,qt.jsx)("span",{className:"game-team-name",children:e.homeTeam})}),(0,qt.jsxs)("div",{className:"game-score",children:[null!==(t=null===(n=e.score)||void 0===n?void 0:n.home)&&void 0!==t?t:"-"," : ",null!==(i=null===(a=e.score)||void 0===a?void 0:a.away)&&void 0!==i?i:"-"]}),(0,qt.jsx)("div",{className:"game-team right",children:(0,qt.jsx)("span",{className:"game-team-name",children:e.awayTeam})})]}),(0,qt.jsx)("div",{className:"meta",children:(0,qt.jsx)("span",{children:e.location||"-"})}),(0,qt.jsx)("div",{className:"game-report reportY",children:(0,qt.jsx)("span",{className:"report-text",children:"\ubcf4\uace0\uc11c"})}),(0,qt.jsx)("div",{className:"game-length",children:"-"})]},e.gameKey)})})]}):(0,qt.jsx)("div",{style:{padding:16},children:"\ud45c\uc2dc\ud560 \uacbd\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}const pL=e=>e?yb.find(t=>t.name===e)||{name:e,logo:""}:{name:"\uc54c \uc218 \uc5c6\uc74c",logo:""},mL={RUN:"\ub7f0",PASS:"\ud328\uc2a4",KICKOFF:"\ud0a5\uc624\ud504",PUNT:"\ud380\ud2b8",PAT:"PAT",TWOPT:"2PT",FIELDGOAL:"FG"},gL={"TWOPTCONV.GOOD":"2PT \uc131\uacf5","TWOPTCONV.NOGOOD":"2PT \uc2e4\ud328",PATGOOD:"PAT \uc131\uacf5",PATNOGOOD:"PAT \uc2e4\ud328","FIELDGOAL.GOOD":"FG \uc131\uacf5","FIELDGOAL.NOGOOD":"FG \uc2e4\ud328",TD:"\ud130\uce58\ub2e4\uc6b4",SACK:"\uc0c9"},fL={PAT:"PAT",TPT:"2PT",KICKOFF:"\ud0a5\uc624\ud504"},vL=e=>{var t;if(e.specialTeam&&fL[String(e.specialTeam).toUpperCase()])return fL[String(e.specialTeam).toUpperCase()];const n=String(null!==(t=e.down)&&void 0!==t?t:"").toUpperCase();if(fL[n])return fL[n];const s=parseInt(n,10);if(Number.isFinite(s)){var i,a;const t=null!==(i=null!==(a=e.toGoYard)&&void 0!==a?a:e.yardsToGo)&&void 0!==i?i:0;return"".concat(s," & ").concat(t)}return""};function yL(){var e;const{gameKey:t}=ye(),n=decodeURIComponent(t||""),s=(fe(),null===(e=(dL()||{map:{},list:[]}).map)||void 0===e?void 0:e[n]);if(!s)return(0,qt.jsx)("div",{children:"\uacbd\uae30\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});const i=pL(s.homeTeam),a=pL(s.awayTeam);return(0,qt.jsxs)("div",{className:"profile-clip-page-container",children:[(0,qt.jsx)("div",{className:"clip-page-header",children:(0,qt.jsxs)("div",{className:"matchup-header",children:[(0,qt.jsxs)("div",{className:"team-display",children:[(0,qt.jsx)("img",{src:i.logo,alt:i.name,className:"team-logo"}),(0,qt.jsx)("span",{className:"team-name",children:i.name})]}),(0,qt.jsx)("span",{className:"vs-text",children:"VS"}),(0,qt.jsxs)("div",{className:"team-display",children:[(0,qt.jsx)("span",{className:"team-name",children:a.name}),(0,qt.jsx)("img",{src:a.logo,alt:a.name,className:"team-logo"})]})]})}),(0,qt.jsxs)("div",{className:"profile-clip-list",children:[s.Clips.map(e=>(0,qt.jsxs)("div",{className:"clip-row",children:[(0,qt.jsx)("div",{className:"quarter-name",children:(0,qt.jsxs)("div",{children:[e.quarter,"Q"]})}),(0,qt.jsxs)("div",{className:"clip-rows",children:[(0,qt.jsxs)("div",{className:"clip-row1",children:[(0,qt.jsx)("div",{className:"clip-down",children:vL(e)}),(0,qt.jsxs)("div",{className:"clip-type",children:["#",mL[e.playType]||e.playType]})]}),(0,qt.jsxs)("div",{className:"clip-row2",children:[(0,qt.jsx)("div",{className:"clip-oT",children:"Home"===e.offensiveTeam?s.homeTeam:s.awayTeam}),Array.isArray(e.significantPlays)&&e.significantPlays.filter(Boolean).length>0?(0,qt.jsx)("div",{className:"clip-sig",children:e.significantPlays.filter(Boolean).map((t,n)=>(0,qt.jsxs)("span",{children:["#",gL[t]||t]},"".concat(e.clipKey,"-sig-").concat(n)))}):(0,qt.jsx)("div",{className:"clip-sig"})]})]})]},e.clipKey)),0===s.Clips.length&&(0,qt.jsx)("div",{className:"empty",children:"\uc774 \uacbd\uae30\uc5d0\ub294 \ud45c\uc2dc\ud560 \uba54\ubaa8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]})}function xL(e,t){return function(){return e.apply(t,arguments)}}const{toString:bL}=Object.prototype,{getPrototypeOf:wL}=Object,{iterator:_L,toStringTag:SL}=Symbol,kL=(CL=Object.create(null),e=>{const t=bL.call(e);return CL[t]||(CL[t]=t.slice(8,-1).toLowerCase())});var CL;const AL=e=>(e=e.toLowerCase(),t=>kL(t)===e),jL=e=>t=>typeof t===e,{isArray:TL}=Array,EL=jL("undefined");function NL(e){return null!==e&&!EL(e)&&null!==e.constructor&&!EL(e.constructor)&&OL(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PL=AL("ArrayBuffer");const ML=jL("string"),OL=jL("function"),DL=jL("number"),LL=e=>null!==e&&"object"===typeof e,RL=e=>{if("object"!==kL(e))return!1;const t=wL(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(SL in e)&&!(_L in e)},FL=AL("Date"),IL=AL("File"),BL=AL("Blob"),WL=AL("FileList"),UL=AL("URLSearchParams"),[zL,GL,HL,YL]=["ReadableStream","Request","Response","Headers"].map(AL);function VL(e,t){let n,s,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),TL(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(NL(e))return;const s=i?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let r;for(n=0;n<a;n++)r=s[n],t.call(null,e[r],r,e)}}function qL(e,t){if(NL(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s,i=n.length;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const KL="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,XL=e=>!EL(e)&&e!==KL;const QL=(JL="undefined"!==typeof Uint8Array&&wL(Uint8Array),e=>JL&&e instanceof JL);var JL;const ZL=AL("HTMLFormElement"),$L=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),eR=AL("RegExp"),tR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};VL(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(s[i]=a||n)}),Object.defineProperties(e,s)};const nR=AL("AsyncFunction"),sR=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),s=[],KL.addEventListener("message",e=>{let{source:t,data:i}=e;t===KL&&i===n&&s.length&&s.shift()()},!1),e=>{s.push(e),KL.postMessage(n,"*")}):e=>setTimeout(e);var n,s})("function"===typeof setImmediate,OL(KL.postMessage)),iR="undefined"!==typeof queueMicrotask?queueMicrotask.bind(KL):"undefined"!==typeof process&&process.nextTick||sR,aR={isArray:TL,isArrayBuffer:PL,isBuffer:NL,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||OL(e.append)&&("formdata"===(t=kL(e))||"object"===t&&OL(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&PL(e.buffer),t},isString:ML,isNumber:DL,isBoolean:e=>!0===e||!1===e,isObject:LL,isPlainObject:RL,isEmptyObject:e=>{if(!LL(e)||NL(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Cw){return!1}},isReadableStream:zL,isRequest:GL,isResponse:HL,isHeaders:YL,isUndefined:EL,isDate:FL,isFile:IL,isBlob:BL,isRegExp:eR,isFunction:OL,isStream:e=>LL(e)&&OL(e.pipe),isURLSearchParams:UL,isTypedArray:QL,isFileList:WL,forEach:VL,merge:function e(){const{caseless:t,skipUndefined:n}=XL(this)&&this||{},s={},i=(i,a)=>{const r=t&&qL(s,a)||a;RL(s[r])&&RL(i)?s[r]=e(s[r],i):RL(i)?s[r]=e({},i):TL(i)?s[r]=i.slice():n&&EL(i)||(s[r]=i)};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&VL(arguments[a],i);return s},extend:function(e,t,n){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return VL(t,(t,s)=>{n&&OL(t)?e[s]=xL(t,n):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let i,a,r;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)r=i[a],s&&!s(r,e,t)||o[r]||(t[r]=e[r],o[r]=!0);e=!1!==n&&wL(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kL,kindOfTest:AL,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(TL(e))return e;let t=e.length;if(!DL(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[_L]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:ZL,hasOwnProperty:$L,hasOwnProp:$L,reduceDescriptors:tR,freezeMethods:e=>{tR(e,(t,n)=>{if(OL(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];OL(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach(e=>{n[e]=!0})};return TL(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:qL,global:KL,isContextDefined:XL,isSpecCompliantForm:function(e){return!!(e&&OL(e.append)&&"FormData"===e[SL]&&e[_L])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(LL(e)){if(t.indexOf(e)>=0)return;if(NL(e))return e;if(!("toJSON"in e)){t[s]=e;const i=TL(e)?[]:{};return VL(e,(e,t)=>{const a=n(e,s+1);!EL(a)&&(i[t]=a)}),t[s]=void 0,i}}return e};return n(e,0)},isAsyncFn:nR,isThenable:e=>e&&(LL(e)||OL(e))&&OL(e.then)&&OL(e.catch),setImmediate:sR,asap:iR,isIterable:e=>null!=e&&OL(e[_L])};function rR(e,t,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}aR.inherits(rR,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:aR.toJSONObject(this.config),code:this.code,status:this.status}}});const oR=rR.prototype,lR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lR[e]={value:e}}),Object.defineProperties(rR,lR),Object.defineProperty(oR,"isAxiosError",{value:!0}),rR.from=(e,t,n,s,i,a)=>{const r=Object.create(oR);aR.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return rR.call(r,o,l,n,s,i),e&&null==r.cause&&Object.defineProperty(r,"cause",{value:e,configurable:!0}),r.name=e&&e.name||"Error",a&&Object.assign(r,a),r};const cR=rR;function dR(e){return aR.isPlainObject(e)||aR.isArray(e)}function hR(e){return aR.endsWith(e,"[]")?e.slice(0,-2):e}function uR(e,t,n){return e?e.concat(t).map(function(e,t){return e=hR(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const pR=aR.toFlatObject(aR,{},null,function(e){return/^is[A-Z]/.test(e)});const mR=function(e,t,n){if(!aR.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=aR.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!aR.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,r=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&aR.isSpecCompliantForm(t);if(!aR.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(aR.isDate(e))return e.toISOString();if(aR.isBoolean(e))return e.toString();if(!o&&aR.isBlob(e))throw new cR("Blob is not supported. Use a Buffer instead.");return aR.isArrayBuffer(e)||aR.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(aR.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(aR.isArray(e)&&function(e){return aR.isArray(e)&&!e.some(dR)}(e)||(aR.isFileList(e)||aR.endsWith(n,"[]"))&&(o=aR.toArray(e)))return n=hR(n),o.forEach(function(e,s){!aR.isUndefined(e)&&null!==e&&t.append(!0===r?uR([n],s,a):null===r?n:n+"[]",l(e))}),!1;return!!dR(e)||(t.append(uR(i,n,a),l(e)),!1)}const d=[],h=Object.assign(pR,{defaultVisitor:c,convertValue:l,isVisitable:dR});if(!aR.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!aR.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+s.join("."));d.push(n),aR.forEach(n,function(n,a){!0===(!(aR.isUndefined(n)||null===n)&&i.call(t,n,aR.isString(a)?a.trim():a,s,h))&&e(n,s?s.concat(a):[a])}),d.pop()}}(e),t};function gR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function fR(e,t){this._pairs=[],e&&mR(e,this,t)}const vR=fR.prototype;vR.append=function(e,t){this._pairs.push([e,t])},vR.toString=function(e){const t=e?function(t){return e.call(this,t,gR)}:gR;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const yR=fR;function xR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bR(e,t,n){if(!t)return e;const s=n&&n.encode||xR;aR.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):aR.isURLSearchParams(t)?t.toString():new yR(t,n).toString(s),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const wR=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){aR.forEach(this.handlers,function(t){null!==t&&e(t)})}},_R={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SR={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:yR,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},kR="undefined"!==typeof window&&"undefined"!==typeof document,CR="object"===typeof navigator&&navigator||void 0,AR=kR&&(!CR||["ReactNative","NativeScript","NS"].indexOf(CR.product)<0),jR="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,TR=kR&&window.location.href||"http://localhost",ER=d(d({},t),SR);const NR=function(e){function t(e,n,s,i){let a=e[i++];if("__proto__"===a)return!0;const r=Number.isFinite(+a),o=i>=e.length;if(a=!a&&aR.isArray(s)?s.length:a,o)return aR.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!r;s[a]&&aR.isObject(s[a])||(s[a]=[]);return t(e,n,s[a],i)&&aR.isArray(s[a])&&(s[a]=function(e){const t={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],t[a]=e[a];return t}(s[a])),!r}if(aR.isFormData(e)&&aR.isFunction(e.entries)){const n={};return aR.forEachEntry(e,(e,s)=>{t(function(e){return aR.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,n,0)}),n}return null};const PR={transitional:_R,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,i=aR.isObject(e);i&&aR.isHTMLForm(e)&&(e=new FormData(e));if(aR.isFormData(e))return s?JSON.stringify(NR(e)):e;if(aR.isArrayBuffer(e)||aR.isBuffer(e)||aR.isStream(e)||aR.isFile(e)||aR.isBlob(e)||aR.isReadableStream(e))return e;if(aR.isArrayBufferView(e))return e.buffer;if(aR.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return mR(e,new ER.classes.URLSearchParams,d({visitor:function(e,t,n,s){return ER.isNode&&aR.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=aR.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return mR(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),function(e,t,n){if(aR.isString(e))try{return(t||JSON.parse)(e),aR.trim(e)}catch(Cw){if("SyntaxError"!==Cw.name)throw Cw}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||PR.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(aR.isResponse(e)||aR.isReadableStream(e))return e;if(e&&aR.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(Cw){if(n){if("SyntaxError"===Cw.name)throw cR.from(Cw,cR.ERR_BAD_RESPONSE,this,null,this.response);throw Cw}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ER.classes.FormData,Blob:ER.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};aR.forEach(["delete","get","head","post","put","patch"],e=>{PR.headers[e]={}});const MR=PR,OR=aR.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DR=Symbol("internals");function LR(e){return e&&String(e).trim().toLowerCase()}function RR(e){return!1===e||null==e?e:aR.isArray(e)?e.map(RR):String(e)}function FR(e,t,n,s,i){return aR.isFunction(s)?s.call(this,t,n):(i&&(t=n),aR.isString(t)?aR.isString(s)?-1!==t.indexOf(s):aR.isRegExp(s)?s.test(t):void 0:void 0)}class IR{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function i(e,t,n){const i=LR(t);if(!i)throw new Error("header name must be a non-empty string");const a=aR.findKey(s,i);(!a||void 0===s[a]||!0===n||void 0===n&&!1!==s[a])&&(s[a||t]=RR(e))}const a=(e,t)=>aR.forEach(e,(e,n)=>i(e,n,t));if(aR.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(aR.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,s,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),s=e.substring(i+1).trim(),!n||t[n]&&OR[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t})(e),t);else if(aR.isObject(e)&&aR.isIterable(e)){let n,s,i={};for(const t of e){if(!aR.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[s=t[0]]=(n=i[s])?aR.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=LR(e)){const n=aR.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(aR.isFunction(t))return t.call(this,e,n);if(aR.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=LR(e)){const n=aR.findKey(this,e);return!(!n||void 0===this[n]||t&&!FR(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function i(e){if(e=LR(e)){const i=aR.findKey(n,e);!i||t&&!FR(0,n[i],i,t)||(delete n[i],s=!0)}}return aR.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const i=t[n];e&&!FR(0,this[i],i,e,!0)||(delete this[i],s=!0)}return s}normalize(e){const t=this,n={};return aR.forEach(this,(s,i)=>{const a=aR.findKey(n,i);if(a)return t[a]=RR(s),void delete t[i];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();r!==i&&delete t[i],t[r]=RR(s),n[r]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return aR.forEach(this,(n,s)=>{null!=n&&!1!==n&&(t[s]=e&&aR.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[DR]=this[DR]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=LR(e);t[s]||(!function(e,t){const n=aR.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(e,n,i){return this[s].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[s]=!0)}return aR.isArray(e)?e.forEach(s):s(e),this}}IR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),aR.reduceDescriptors(IR.prototype,(e,t)=>{let{value:n}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[s]=e}}}),aR.freezeMethods(IR);const BR=IR;function WR(e,t){const n=this||MR,s=t||n,i=BR.from(s.headers);let a=s.data;return aR.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function UR(e){return!(!e||!e.__CANCEL__)}function zR(e,t,n){cR.call(this,null==e?"canceled":e,cR.ERR_CANCELED,t,n),this.name="CanceledError"}aR.inherits(zR,cR,{__CANCEL__:!0});const GR=zR;function HR(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new cR("Request failed with status code "+n.status,[cR.ERR_BAD_REQUEST,cR.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const YR=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i,a=0,r=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=s[r];i||(i=l),n[a]=o,s[a]=l;let d=r,h=0;for(;d!==a;)h+=n[d++],d%=e;if(a=(a+1)%e,a===r&&(r=(r+1)%e),l-i<t)return;const u=c&&l-c;return u?Math.round(1e3*h/u):void 0}};const VR=function(e,t){let n,s,i=0,a=1e3/t;const r=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?r(l,e):(n=l,s||(s=setTimeout(()=>{s=null,r(n)},a-t)))},()=>n&&r(n)]},qR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const i=YR(50,250);return VR(n=>{const a=n.loaded,r=n.lengthComputable?n.total:void 0,o=a-s,l=i(o);s=a;e({loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:l||void 0,estimated:l&&r&&a<=r?(r-a)/l:void 0,event:n,lengthComputable:null!=r,[t?"download":"upload"]:!0})},n)},KR=(e,t)=>{const n=null!=e;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},XR=e=>function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return aR.asap(()=>e(...n))},QR=ER.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ER.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ER.origin),ER.navigator&&/(msie|trident)/i.test(ER.navigator.userAgent)):()=>!0,JR=ER.hasStandardBrowserEnv?{write(e,t,n,s,i,a){const r=[e+"="+encodeURIComponent(t)];aR.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),aR.isString(s)&&r.push("path="+s),aR.isString(i)&&r.push("domain="+i),!0===a&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ZR(e,t,n){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const $R=e=>e instanceof BR?d({},e):e;function eF(e,t){t=t||{};const n={};function s(e,t,n,s){return aR.isPlainObject(e)&&aR.isPlainObject(t)?aR.merge.call({caseless:s},e,t):aR.isPlainObject(t)?aR.merge({},t):aR.isArray(t)?t.slice():t}function i(e,t,n,i){return aR.isUndefined(t)?aR.isUndefined(e)?void 0:s(void 0,e,0,i):s(e,t,0,i)}function a(e,t){if(!aR.isUndefined(t))return s(void 0,t)}function r(e,t){return aR.isUndefined(t)?aR.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function o(n,i,a){return a in t?s(n,i):a in e?s(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t,n)=>i($R(e),$R(t),0,!0)};return aR.forEach(Object.keys(d(d({},e),t)),function(s){const a=l[s]||i,r=a(e[s],t[s],s);aR.isUndefined(r)&&a!==o||(n[s]=r)}),n}const tF=e=>{const t=eF({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:r,auth:o}=t;if(t.headers=r=BR.from(r),t.url=bR(ZR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),aR.isFormData(n))if(ER.hasStandardBrowserEnv||ER.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(aR.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,s]=e;t.includes(n.toLowerCase())&&r.set(n,s)})}if(ER.hasStandardBrowserEnv&&(s&&aR.isFunction(s)&&(s=s(t)),s||!1!==s&&QR(t.url))){const e=i&&a&&JR.read(a);e&&r.set(i,e)}return t},nF="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const s=tF(e);let i=s.data;const a=BR.from(s.headers).normalize();let r,o,l,c,d,{responseType:h,onUploadProgress:u,onDownloadProgress:p}=s;function m(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(r),s.signal&&s.signal.removeEventListener("abort",r)}let g=new XMLHttpRequest;function f(){if(!g)return;const s=BR.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());HR(function(e){t(e),m()},function(e){n(e),m()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:s,config:e,request:g}),g=null}g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout,"onloadend"in g?g.onloadend=f:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(f)},g.onabort=function(){g&&(n(new cR("Request aborted",cR.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){const s=t&&t.message?t.message:"Network Error",i=new cR(s,cR.ERR_NETWORK,e,g);i.event=t||null,n(i),g=null},g.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const i=s.transitional||_R;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new cR(t,i.clarifyTimeoutError?cR.ETIMEDOUT:cR.ECONNABORTED,e,g)),g=null},void 0===i&&a.setContentType(null),"setRequestHeader"in g&&aR.forEach(a.toJSON(),function(e,t){g.setRequestHeader(t,e)}),aR.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),h&&"json"!==h&&(g.responseType=s.responseType),p&&([l,d]=qR(p,!0),g.addEventListener("progress",l)),u&&g.upload&&([o,c]=qR(u),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(r=t=>{g&&(n(!t||t.type?new GR(null,e,g):t),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(r),s.signal&&(s.signal.aborted?r():s.signal.addEventListener("abort",r)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);v&&-1===ER.protocols.indexOf(v)?n(new cR("Unsupported protocol "+v+":",cR.ERR_BAD_REQUEST,e)):g.send(i||null)})},sF=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const i=function(e){if(!n){n=!0,r();const t=e instanceof Error?e:this.reason;s.abort(t instanceof cR?t:new GR(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new cR("timeout ".concat(t," of ms exceeded"),cR.ETIMEDOUT))},t);const r=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=s;return o.unsubscribe=()=>aR.asap(r),o}};function iF(e,t){this.v=e,this.k=t}function aF(e){return function(){return new rF(e.apply(this,arguments))}}function rF(e){var t,n;function s(t,n){try{var a=e[t](n),r=a.value,o=r instanceof iF;Promise.resolve(o?r.v:r).then(function(n){if(o){var l="return"===t?"return":"next";if(!r.k||n.done)return s(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){s("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?s(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,r){var o={key:e,arg:i,resolve:a,reject:r,next:null};n?n=n.next=o:(t=n=o,s(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function oF(e){return new iF(e,0)}function lF(e){var t={},n=!1;function s(t,s){return n=!0,s=new Promise(function(n){n(e[t](s))}),{done:!1,value:new iF(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):s("return",e)}),t}function cF(e){var t,n,s,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,s=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(s&&null!=(t=e[s]))return new dF(t.call(e));n="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function dF(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return dF=function(e){this.s=e,this.n=e.next},dF.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new dF(e)}rF.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},rF.prototype.next=function(e){return this._invoke("next",e)},rF.prototype.throw=function(e){return this._invoke("throw",e)},rF.prototype.return=function(e){return this._invoke("return",e)};const hF=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let s,i=0;for(;i<n;)s=i+t,yield e.slice(i,s),i=s},uF=function(){var e=aF(function*(e,t){var n,s=!1,i=!1;try{for(var a,r=cF(pF(e));s=!(a=yield oF(r.next())).done;s=!1){const e=a.value;yield*lF(cF(hF(e,t)))}}catch(o){i=!0,n=o}finally{try{s&&null!=r.return&&(yield oF(r.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),pF=function(){var e=aF(function*(e){if(e[Symbol.asyncIterator])return void(yield*lF(cF(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield oF(t.read());if(e)break;yield n}}finally{yield oF(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),mF=(e,t,n,s)=>{const i=uF(e,t);let a,r=0,o=e=>{a||(a=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await i.next();if(t)return o(),void e.close();let a=s.byteLength;if(n){let e=r+=a;n(e)}e.enqueue(new Uint8Array(s))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},{isFunction:gF}=aR,fF=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(aR.global),{ReadableStream:vF,TextEncoder:yF}=aR.global,xF=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return!!e(...n)}catch(Cw){return!1}},bF=e=>{e=aR.merge.call({skipUndefined:!0},fF,e);const{fetch:t,Request:n,Response:s}=e,i=t?gF(t):"function"===typeof fetch,a=gF(n),r=gF(s);if(!i)return!1;const o=i&&gF(vF),l=i&&("function"===typeof yF?(c=new yF,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const h=a&&o&&xF(()=>{let e=!1;const t=new n(ER.origin,{body:new vF,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=r&&o&&xF(()=>aR.isReadableStream(new s("").body)),p={stream:u&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let s=t&&t[e];if(s)return s.call(t);throw new cR("Response type '".concat(e,"' is not supported"),cR.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const s=aR.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(aR.isBlob(e))return e.size;if(aR.isSpecCompliantForm(e)){const t=new n(ER.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return aR.isArrayBufferView(e)||aR.isArrayBuffer(e)?e.byteLength:(aR.isURLSearchParams(e)&&(e+=""),aR.isString(e)?(await l(e)).byteLength:void 0)})(t):s};return async e=>{let{url:i,method:r,data:o,signal:l,cancelToken:c,timeout:g,onDownloadProgress:f,onUploadProgress:v,responseType:y,headers:x,withCredentials:b="same-origin",fetchOptions:w}=tF(e),_=t||fetch;y=y?(y+"").toLowerCase():"text";let S=sF([l,c&&c.toAbortSignal()],g),k=null;const C=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let A;try{if(v&&h&&"get"!==r&&"head"!==r&&0!==(A=await m(x,o))){let e,t=new n(i,{method:"POST",body:o,duplex:"half"});if(aR.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=KR(A,qR(XR(v)));o=mF(t.body,65536,e,n)}}aR.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l=d(d({},w),{},{signal:S,method:r.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});k=a&&new n(i,l);let c=await(a?_(k,w):_(i,l));const g=u&&("stream"===y||"response"===y);if(u&&(f||g&&C)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=aR.toFiniteNumber(c.headers.get("content-length")),[n,i]=f&&KR(t,qR(XR(f),!0))||[];c=new s(mF(c.body,65536,n,()=>{i&&i(),C&&C()}),e)}y=y||"text";let j=await p[aR.findKey(p,y)||"text"](c,e);return!g&&C&&C(),await new Promise((t,n)=>{HR(t,n,{data:j,headers:BR.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(j){if(C&&C(),j&&"TypeError"===j.name&&/Load failed|fetch/i.test(j.message))throw Object.assign(new cR("Network Error",cR.ERR_NETWORK,e,k),{cause:j.cause||j});throw cR.from(j,j&&j.code,e,k)}}},wF=new Map,_F=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:i}=t,a=[s,i,n];let r,o,l=a.length,c=wF;for(;l--;)r=a[l],o=c.get(r),void 0===o&&c.set(r,o=l?new Map:bF(t)),c=o;return o},SF=(_F(),{http:null,xhr:nF,fetch:{get:_F}});aR.forEach(SF,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Cw){}Object.defineProperty(e,"adapterName",{value:t})}});const kF=e=>"- ".concat(e),CF=e=>aR.isFunction(e)||null===e||!1===e,AF=(e,t)=>{e=aR.isArray(e)?e:[e];const{length:n}=e;let s,i;const a={};for(let r=0;r<n;r++){let n;if(s=e[r],i=s,!CF(s)&&(i=SF[(n=String(s)).toLowerCase()],void 0===i))throw new cR("Unknown adapter '".concat(n,"'"));if(i&&(aR.isFunction(i)||(i=i.get(t))))break;a[n||"#"+r]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(kF).join("\n"):" "+kF(e[0]):"as no adapter specified";throw new cR("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function jF(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new GR(null,e)}function TF(e){jF(e),e.headers=BR.from(e.headers),e.data=WR.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return AF(e.adapter||MR.adapter,e)(e).then(function(t){return jF(e),t.data=WR.call(e,e.transformResponse,t),t.headers=BR.from(t.headers),t},function(t){return UR(t)||(jF(e),t&&t.response&&(t.response.data=WR.call(e,e.transformResponse,t.response),t.response.headers=BR.from(t.response.headers))),Promise.reject(t)})}const EF="1.12.2",NF={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{NF[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const PF={};NF.transitional=function(e,t,n){function s(e,t){return"[Axios v"+EF+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new cR(s(i," has been removed"+(t?" in "+t:"")),cR.ERR_DEPRECATED);return t&&!PF[i]&&(PF[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},NF.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const MF={assertOptions:function(e,t,n){if("object"!==typeof e)throw new cR("options must be an object",cR.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],r=t[a];if(r){const t=e[a],n=void 0===t||r(t,a,e);if(!0!==n)throw new cR("option "+a+" must be "+n,cR.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new cR("Unknown option "+a,cR.ERR_BAD_OPTION)}},validators:NF},OF=MF.validators;class DF{constructor(e){this.defaults=e||{},this.interceptors={request:new wR,response:new wR}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Cw){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=eF(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:i}=t;void 0!==n&&MF.assertOptions(n,{silentJSONParsing:OF.transitional(OF.boolean),forcedJSONParsing:OF.transitional(OF.boolean),clarifyTimeoutError:OF.transitional(OF.boolean)},!1),null!=s&&(aR.isFunction(s)?t.paramsSerializer={serialize:s}:MF.assertOptions(s,{encode:OF.function,serialize:OF.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),MF.assertOptions(t,{baseUrl:OF.spelling("baseURL"),withXsrfToken:OF.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&aR.merge(i.common,i[t.method]);i&&aR.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=BR.concat(a,i);const r=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,h=0;if(!o){const e=[TF.bind(this),void 0];for(e.unshift(...r),e.push(...l),d=e.length,c=Promise.resolve(t);h<d;)c=c.then(e[h++],e[h++]);return c}d=r.length;let u=t;for(;h<d;){const e=r[h++],t=r[h++];try{u=e(u)}catch(p){t.call(this,p);break}}try{c=TF.call(this,u)}catch(p){return Promise.reject(p)}for(h=0,d=l.length;h<d;)c=c.then(l[h++],l[h++]);return c}getUri(e){return bR(ZR((e=eF(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}aR.forEach(["delete","get","head","options"],function(e){DF.prototype[e]=function(t,n){return this.request(eF(n||{},{method:e,url:t,data:(n||{}).data}))}}),aR.forEach(["post","put","patch"],function(e){function t(t){return function(n,s,i){return this.request(eF(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}DF.prototype[e]=t(),DF.prototype[e+"Form"]=t(!0)});const LF=DF;class RF{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{n.subscribe(e),t=e}).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e(function(e,s,i){n.reason||(n.reason=new GR(e,s,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new RF(function(t){e=t});return{token:t,cancel:e}}}const FF=RF;const IF={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IF).forEach(e=>{let[t,n]=e;IF[n]=t});const BF=IF;const WF=function e(t){const n=new LF(t),s=xL(LF.prototype.request,n);return aR.extend(s,LF.prototype,n,{allOwnKeys:!0}),aR.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(eF(t,n))},s}(MR);WF.Axios=LF,WF.CanceledError=GR,WF.CancelToken=FF,WF.isCancel=UR,WF.VERSION=EF,WF.toFormData=mR,WF.AxiosError=cR,WF.Cancel=WF.CanceledError,WF.all=function(e){return Promise.all(e)},WF.spread=function(e){return function(t){return e.apply(null,t)}},WF.isAxiosError=function(e){return aR.isObject(e)&&!0===e.isAxiosError},WF.mergeConfig=eF,WF.AxiosHeaders=BR,WF.formToJSON=e=>NR(aR.isHTMLForm(e)?new FormData(e):e),WF.getAdapter=AF,WF.HttpStatusCode=BF,WF.default=WF;const UF=WF;function zF(){const{token:e,isAuthenticated:t,user:n}=Qt(),[i,a]=(0,s.useState)("idle"),[r,o]=(0,s.useState)({totalClips:0,playersFound:0,currentPlayer:"",completedPlayers:[]}),[l,c]=(0,s.useState)(null),[h,u]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[g,f]=(0,s.useState)("idle"),[v,y]=(0,s.useState)(""),[x,b]=(0,s.useState)([]),[w,_]=(0,s.useState)(!0),[S,k]=(0,s.useState)(null),[C,A]=(0,s.useState)([]),j=(0,s.useRef)(null),T=(0,s.useRef)(null),E=(0,s.useRef)(null),N=(0,s.useCallback)(async()=>{if(t)try{_(!0),k(null);const e="admin"===(null===n||void 0===n?void 0:n.role)?"admin":null===n||void 0===n?void 0:n.team;if(!e)return void b([]);const t=await _N(e);b(t||[])}catch(e){k(e.message||"\uac8c\uc784 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}finally{_(!1)}},[t,n]);(0,s.useEffect)(()=>{N()},[N]);const P=(0,s.useCallback)(e=>{if(!e)return!1;const t="application/json"===e.type,n=/\.json$/i.test(e.name);return t||n?!(e.size>10485760)||(alert("\ud30c\uc77c \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4 (\ucd5c\ub300 10MB)"),!1):(alert("JSON \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4"),!1)},[]),M=(0,s.useCallback)(e=>{const t=Array.isArray(null===e||void 0===e?void 0:e.Clips)?e.Clips:[],n=new Set;for(const s of t)if(Array.isArray(s.players))for(const e of s.players)null!=(null===e||void 0===e?void 0:e.number)&&n.add(String(e.number));return{totalClips:t.length,playersFound:n.size,uniquePlayers:Array.from(n)}},[]),O=(0,s.useCallback)(e=>{if(T.current&&clearInterval(T.current),!e||0===e.length)return;let t=0;const n=[];T.current=setInterval(()=>{var s;if(t>0){const s=e[t-1];n.includes(s)||n.push(s)}const i=null!==(s=e[t])&&void 0!==s?s:"";o(e=>d(d({},e),{},{currentPlayer:i?"".concat(i,"\ubc88"):"",completedPlayers:[...n]})),t+=1,t>e.length&&(t=e.length)},700)},[]),D=(0,s.useCallback)(()=>{T.current&&(clearInterval(T.current),T.current=null)},[]);(0,s.useEffect)(()=>()=>{D(),E.current&&E.current.abort()},[D]);const L=(0,s.useCallback)(async t=>{try{if(!P(t))return;c(null),u(""),a("uploading");const n=await t.text(),s=JSON.parse(n),{totalClips:i,playersFound:r,uniquePlayers:l}=M(s);o({totalClips:i,playersFound:r,currentPlayer:"",completedPlayers:[]}),O(l);const d={gameKey:s.gameKey,date:s.date,type:s.type,region:s.region,homeTeam:s.homeTeam,awayTeam:s.awayTeam,location:s.location,score:s.score,Clips:Array.isArray(s.Clips)?s.Clips:[]};E.current=new AbortController,await UF.post("".concat(jt).concat(Et.JSON_EX),d,{timeout:Tt,signal:E.current.signal,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),D(),a("success"),c({game:d}),await N()}catch(i){var n,s;D(),a("error"),u((null===i||void 0===i||null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||(null===i||void 0===i?void 0:i.message)||"\uc5c5\ub85c\ub4dc \uc911 \uc624\ub958 \ubc1c\uc0dd")}},[e,P,M,O,D,N]),R=(0,s.useCallback)(async()=>{if(window.confirm("\u26a0\ufe0f \ubaa8\ub4e0 \ub370\uc774\ud130\ub97c \uc644\uc804\ud788 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!"))try{f("resetting"),y(""),await UF.post("".concat(jt,"/player/reset-all-data"),{},{headers:{Authorization:"Bearer ".concat(e)}}),f("success"),y("\ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),setTimeout(()=>f("idle"),3e3),await N()}catch(s){var t,n;f("error"),y((null===s||void 0===s||null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"\uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd"),setTimeout(()=>f("idle"),5e3)}},[e,N]),F=(0,s.useCallback)(e=>{var t,n;e.preventDefault(),e.stopPropagation(),m(!1);const s=null===(t=e.dataTransfer)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0];s&&L(s)},[L]),I=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m(!0)},[]),B=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m(!1)},[]),W=(0,s.useCallback)(e=>{A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),U=(0,s.useCallback)(e=>{A(e.target.checked?x.map(e=>e.gameKey):[])},[x]),z=(0,s.useCallback)(async()=>{if(0===C.length||!window.confirm("\uc120\ud0dd\ub41c ".concat(C.length,"\uac1c\uc758 \uac8c\uc784\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))return;_(!0),k(null);const e=await Promise.allSettled(C.map(e=>async function(e){if(!e)throw new Error("gameKey\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");const t="".concat(Et.DELETE_GAMES,"/").concat(encodeURIComponent(e)),n=await Sb(t,{method:"DELETE"}),s=await wN(n);if(!n.ok){const e="object"===typeof s&&null!==s&&void 0!==s&&s.message?s.message:"\uac8c\uc784 \uc0ad\uc81c \uc2e4\ud328 (HTTP ".concat(n.status,")"),t=new Error(e);throw t.status=n.status,t.data=s,t}return s}(e))),t=e.filter(e=>"fulfilled"===e.status).length,n=C.length-t;alert("".concat(t,"\uac1c \uc0ad\uc81c \uc131\uacf5").concat(n>0?", ".concat(n,"\uac1c \uc2e4\ud328"):"",".")),n>0&&k("".concat(n,"\uac1c \uac8c\uc784 \uc0ad\uc81c \uc2e4\ud328")),A([]),await N()},[C,N]);return t?(0,qt.jsxs)("div",{className:"json-ex-container",children:[(0,qt.jsx)("h1",{children:"JSON \ud30c\uc77c \uc5c5\ub85c\ub4dc \ubc0f \ub370\uc774\ud130 \uad00\ub9ac"}),(0,qt.jsxs)("p",{children:["\ud604\uc7ac \ub85c\uadf8\uc778\ub41c \uc0ac\uc6a9\uc790: ",(0,qt.jsx)("strong",{children:null===n||void 0===n?void 0:n.username})," (",null===n||void 0===n?void 0:n.team,") ","admin"===(null===n||void 0===n?void 0:n.role)&&(0,qt.jsx)("strong",{children:"(Admin)"})]}),(0,qt.jsxs)("div",{className:"danger-zone",children:[(0,qt.jsx)("h3",{children:"\u26a0\ufe0f \uc704\ud5d8\ud55c \uc791\uc5c5"}),(0,qt.jsx)("p",{children:"\ubaa8\ub4e0 \uac8c\uc784 \ub370\uc774\ud130, \uc120\uc218 \ub370\uc774\ud130, \ud300 \uc2a4\ud0ef\uc744 \uc644\uc804\ud788 \uc0ad\uc81c\ud569\ub2c8\ub2e4."}),(0,qt.jsx)("button",{type:"button",onClick:R,disabled:"resetting"===g,className:"danger-zone-button",children:"resetting"===g?"\ud83d\udd04 \uc0ad\uc81c \uc911...":"\ud83d\uddd1\ufe0f \ubaa8\ub4e0 \ub370\uc774\ud130 \uc0ad\uc81c"}),v&&(0,qt.jsxs)("div",{className:"status-message ".concat(g),children:["success"===g?"\u2705":"\u274c"," ",v]})]}),(0,qt.jsxs)("div",{className:"upload-zone ".concat(p?"dragover":""),onDrop:F,onDragOver:I,onDragLeave:B,onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},children:[(0,qt.jsx)("div",{children:"\ud83d\udce4 JSON \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098 \ud074\ub9ad\ud574\uc11c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694"}),(0,qt.jsx)("input",{ref:j,type:"file",accept:".json,application/json",className:"hidden",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&L(n),e.target.value=""}})]}),"uploading"===i&&(0,qt.jsx)("div",{className:"upload-progress",children:(0,qt.jsx)("h3",{children:"\ud83d\udd04 \ubd84\uc11d \uc911..."})}),"success"===i&&(0,qt.jsx)("div",{className:"success-result",children:(0,qt.jsx)("h3",{children:"\u2705 \uc5c5\ub85c\ub4dc \uc644\ub8cc!"})}),"error"===i&&(0,qt.jsxs)("div",{className:"error-result",children:[(0,qt.jsx)("h3",{children:"\u26a0\ufe0f \uc5c5\ub85c\ub4dc \uc2e4\ud328"}),(0,qt.jsx)("p",{children:h})]}),(0,qt.jsxs)("div",{className:"game-list-section",children:[(0,qt.jsx)("hr",{className:"section-divider"}),(0,qt.jsxs)("div",{className:"game-list-controls",children:[(0,qt.jsx)("h2",{children:"\uc804\uccb4 \uac8c\uc784 \ubaa9\ub85d"}),"admin"===(null===n||void 0===n?void 0:n.role)&&C.length>0&&(0,qt.jsxs)("button",{onClick:z,disabled:w,className:"delete-selected-button",children:[(0,qt.jsx)(mw,{size:12}),w?"\uc0ad\uc81c \uc911...":"\uc120\ud0dd \ud56d\ubaa9 \uc0ad\uc81c (".concat(C.length,")")]})]}),S&&(0,qt.jsx)("div",{className:"error-result",children:S}),(0,qt.jsxs)("div",{className:"game-list-wrapper",children:[(0,qt.jsxs)("div",{className:"game-list-header",children:["admin"===(null===n||void 0===n?void 0:n.role)&&(0,qt.jsx)("div",{className:"game-list-cell cell-checkbox",children:(0,qt.jsx)("input",{type:"checkbox",onChange:U,checked:x.length>0&&C.length===x.length})}),(0,qt.jsx)("div",{className:"game-list-cell cell-date",children:"\ub0a0\uc9dc"}),(0,qt.jsx)("div",{className:"game-list-cell cell-match",children:"\uacbd\uae30"}),(0,qt.jsx)("div",{className:"game-list-cell cell-location",children:"\uc7a5\uc18c"}),(0,qt.jsx)("div",{className:"game-list-cell cell-type",children:"\ud0c0\uc785"}),(0,qt.jsx)("div",{className:"game-list-cell cell-key",children:"Game Key"})]}),w?(0,qt.jsx)("div",{className:"list-placeholder",children:"\ud83d\udd04 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."}):0===x.length?(0,qt.jsx)("div",{className:"list-placeholder",children:"\ud45c\uc2dc\ud560 \uac8c\uc784\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):x.map(e=>{var t,s;const i=(null===bb||void 0===bb||null===(t=bb[e.homeId])||void 0===t?void 0:t.name)||e.homeId,a=(null===bb||void 0===bb||null===(s=bb[e.awayId])||void 0===s?void 0:s.name)||e.awayId;return(0,qt.jsxs)("div",{className:"game-list-item ".concat(C.includes(e.gameKey)?"selected":""),onClick:()=>W(e.gameKey),children:["admin"===(null===n||void 0===n?void 0:n.role)&&(0,qt.jsx)("div",{className:"game-list-cell cell-checkbox",children:(0,qt.jsx)("input",{type:"checkbox",checked:C.includes(e.gameKey),onChange:()=>W(e.gameKey),onClick:e=>e.stopPropagation()})}),(0,qt.jsx)("div",{className:"game-list-cell cell-date",children:e.date}),(0,qt.jsx)("div",{className:"game-list-cell cell-match",children:"".concat(i," vs ").concat(a)}),(0,qt.jsx)("div",{className:"game-list-cell cell-location",children:e.location}),(0,qt.jsx)("div",{className:"game-list-cell cell-type",children:e.type}),(0,qt.jsx)("div",{className:"game-list-cell cell-key",children:e.gameKey})]},e.gameKey)})]})]})]}):(0,qt.jsx)("div",{className:"json-ex-container",children:(0,qt.jsx)("h1",{children:"\ud83d\udd10 \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"})})}const GF=()=>{const{user:e}=Qt(),t=fe();return e&&"admin"===e.role?(0,qt.jsx)("div",{children:(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})})}):(alert("\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),t("/service"))},HF=["Scrimmage","Friendly match","Season"];function YF(){const{user:e}=Qt(),t=fe(),[n,i]=(0,s.useState)(!1),[a,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(!1),[v,y]=(0,s.useState)(null),x=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{const t=t=>t.current&&t.current.contains(e.target);t(x)||l(!1),t(b)||u(!1),t(w)||f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const[_,S]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&"admin"!==e.role&&t("/service")},[e,t]),(0,s.useEffect)(()=>{let e=!0;return async function(){try{i(!0),r(null);const t=await async function(){const e=await Sb("/game/pending",{method:"GET"}),t=await wN(e);if(!e.ok)throw new bN("object"===typeof t&&t.message||"\ubd84\uc11d \ub300\uae30 \uacbd\uae30 \uc870\ud68c \uc2e4\ud328",e.status,t);let n=[];return"object"===typeof t&&t.success&&Array.isArray(t.data)?n=t.data:Array.isArray(t)?n=t:t&&"object"===typeof t&&(n=[t]),n}();e&&S(t)}catch(Cw){e&&r((null===Cw||void 0===Cw?void 0:Cw.message)||"\ubd84\uc11d \ub300\uae30 \uacbd\uae30 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),console.error(Cw)}finally{e&&i(!1)}}(),()=>{e=!1}},[]);const k=(0,s.useMemo)(()=>{const e=[...new Set(_.map(e=>e.uploader))];return e.map(e=>bb[e]||{id:e,name:e})},[_]),C=(0,s.useMemo)(()=>_.filter(e=>!(c&&!Tb()(e.date).isSame(c,"day"))&&((!p||e.type===p)&&(!v||e.uploader===v.id))),[_,c,p,v]),A=e=>{t("/service/admin/analysis/".concat(e.gameKey,"/clips"),{state:{game:e}})};return e?"admin"!==e.role?(0,qt.jsx)("div",{children:"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,qt.jsxs)("div",{className:"APanalysis-page-root",children:[(0,qt.jsx)("header",{className:"APanalysis-header",children:(0,qt.jsxs)("div",{className:"APanalysis-header-container",children:[(0,qt.jsxs)("div",{className:"APanalysis-title-box",children:[(0,qt.jsx)(vw,{className:"APanalysis-icon"}),(0,qt.jsx)("h1",{className:"APanalysis-title",children:"\ubd84\uc11d\ud300 \ub300\uc2dc\ubcf4\ub4dc"}),(0,qt.jsx)("span",{className:"APanalysis-subtitle",children:"\uc601\uc0c1 \ubd84\uc11d \ub300\uae30\uc911 \uacbd\uae30"})]}),(0,qt.jsx)("div",{className:"APanalysis-filters",children:(0,qt.jsxs)("div",{className:"APfilterGroup",children:[(0,qt.jsxs)("div",{className:"APdatePickerWrap",ref:x,children:[(0,qt.jsxs)("button",{className:"APfilterButton ".concat(o||c?"active":""),onClick:()=>l(!o),children:[c?c.format("YYYY-MM-DD"):"\ub0a0\uc9dc"," ",(0,qt.jsx)(aw,{size:10})]}),o&&(0,qt.jsx)(hM,{value:c||Tb()(),onChange:e=>{d(e),l(!1)}})]}),(0,qt.jsxs)("div",{className:"APtypePickerWrap",ref:b,children:[(0,qt.jsxs)("button",{className:"APfilterButton ".concat(p?"active":""),onClick:()=>u(!h),children:[null!==p&&void 0!==p?p:"\uc720\ud615"," ",(0,qt.jsx)(aw,{size:10})]}),h&&(0,qt.jsx)("ul",{className:"APtypeDropdown",children:HF.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsx)("button",{className:"APtypeItem ".concat(p===e?"active":""),onClick:()=>{m(e),u(!1)},children:e})},e))})]}),(0,qt.jsxs)("div",{className:"APuploaderPickerWrap",ref:w,children:[(0,qt.jsxs)("button",{className:"APfilterButton ".concat(v?"active":""),onClick:()=>f(!g),children:[v?v.name:"\uc5c5\ub85c\ub354"," ",(0,qt.jsx)(aw,{size:10})]}),g&&(0,qt.jsx)("ul",{className:"APuploaderDropdown",children:k.map(e=>(0,qt.jsx)("li",{children:(0,qt.jsxs)("button",{className:"APuploaderItem ".concat((null===v||void 0===v?void 0:v.id)===e.id?"active":""),onClick:()=>{y(e),f(!1)},children:[e.logo&&(0,qt.jsx)("div",{className:"APuploader-team-logo",children:(0,qt.jsx)("img",{src:e.logo,alt:e.name,className:"APuploader-team-logo-img ".concat(e.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),e.name]})},e.id))})]}),(0,qt.jsx)("button",{className:"APresetButton",onClick:()=>{d(null),m(null),y(null),l(!1),u(!1),f(!1)},children:"\ucd08\uae30\ud654"})]})})]})}),(0,qt.jsxs)("div",{className:"APanalysis-container",style:{display:n?"none":"block"},children:[(0,qt.jsxs)("div",{className:"APanalysis-header-row",children:[(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\ub0a0\uc9dc"}),(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\uacbd\uae30"}),(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\uc7a5\uc18c"}),(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\uc5c5\ub85c\ub354"}),(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\uc601\uc0c1 \uc218"}),(0,qt.jsx)("div",{className:"APanalysis-header-cell",children:"\uc0c1\ud0dc"})]}),(0,qt.jsxs)("div",{className:"APanalysis-list",children:[n&&(0,qt.jsx)("div",{className:"APanalysis-loading",children:"\ubd88\ub7ec\uc624\ub294 \uc911\u2026"}),a&&(0,qt.jsx)("div",{className:"APanalysis-error",children:a}),!n&&!a&&0===C.length&&(0,qt.jsx)("div",{className:"APanalysis-empty",children:"\ubd84\uc11d \ub300\uae30\uc911\uc778 \uacbd\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),C.map(e=>{const t=bb[e.homeTeam],n=bb[e.awayTeam],s=bb[e.uploader],i=(e=>{if("number"===typeof e.totalVideos&&e.totalVideos>0)return"\uc601\uc0c1 ".concat(e.totalVideos,"\uac1c");if("number"===typeof e.totalClips&&e.totalClips>0)return"number"===typeof e.totalVideos&&0===e.totalVideos?"URL \uc5c6\uc74c":"\ud074\ub9bd ".concat(e.totalClips,"\uac1c");if(e.videoUrls)try{const t=Object.values(e.videoUrls).flat().length;if(t>0)return"\uc601\uc0c1 ".concat(t,"\uac1c")}catch(t){}return"\ubd84\uc11d \ub300\uae30"})(e);return(0,qt.jsxs)("div",{className:"APanalysis-card",onClick:()=>A(e),role:"button",tabIndex:0,onKeyDown:t=>"Enter"===t.key&&A(e),children:[(0,qt.jsx)("div",{className:"APanalysis-date",children:e.date}),(0,qt.jsx)("div",{className:"APanalysis-game",children:(0,qt.jsxs)("div",{className:"APanalysis-teams",children:[(0,qt.jsxs)("div",{className:"APanalysis-team",children:[(null===t||void 0===t?void 0:t.logo)&&(0,qt.jsx)("div",{className:"APanalysis-team-logo",children:(0,qt.jsx)("img",{src:t.logo,alt:"".concat(t.name," \ub85c\uace0"),className:"APanalysis-team-logo-img ".concat(t.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"APanalysis-team-name",children:(null===t||void 0===t?void 0:t.name)||e.homeTeam})]}),(0,qt.jsx)("div",{className:"APanalysis-vs",children:"VS"}),(0,qt.jsxs)("div",{className:"APanalysis-team",children:[(null===n||void 0===n?void 0:n.logo)&&(0,qt.jsx)("div",{className:"APanalysis-team-logo",children:(0,qt.jsx)("img",{src:n.logo,alt:"".concat(n.name," \ub85c\uace0"),className:"APanalysis-team-logo-img ".concat(n.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"APanalysis-team-name",children:(null===n||void 0===n?void 0:n.name)||e.awayTeam})]})]})}),(0,qt.jsx)("div",{className:"APanalysis-location",children:e.location}),(0,qt.jsxs)("div",{className:"APanalysis-uploader",children:[(null===s||void 0===s?void 0:s.logo)&&(0,qt.jsx)("div",{className:"APanalysis-uploader-logo",children:(0,qt.jsx)("img",{src:s.logo,alt:"".concat(s.name," \ub85c\uace0"),className:"APanalysis-uploader-logo-img ".concat(s.logo.endsWith(".svg")?"svg-logo":"png-logo")})}),(0,qt.jsx)("span",{className:"APanalysis-uploader-name",children:(null===s||void 0===s?void 0:s.name)||e.uploader})]}),(0,qt.jsxs)("div",{className:"APanalysis-video-count",children:[(0,qt.jsx)(vw,{className:"APvideo-icon"}),(0,qt.jsx)("span",{children:"number"===typeof i?"".concat(i,"\uac1c"):i})]}),(0,qt.jsxs)("div",{className:"APanalysis-status APpending",children:[(0,qt.jsx)(fw,{className:"APstatus-icon"}),(0,qt.jsx)("span",{children:"\ubd84\uc11d \ub300\uae30"})]})]},e.gameKey)})]})]})]}):(0,qt.jsx)("div",{children:"\ub85c\uadf8\uc778 \ud655\uc778 \uc911..."})}function VF(){var e,t;const{gameKey:n}=ye(),i=ue(),a=fe(),{user:r}=Qt(),[o,l]=(0,s.useState)(!1),[c,h]=(0,s.useState)(null),[u,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{r&&"admin"!==r.role&&a("/service")},[r,a]),(0,s.useEffect)(()=>{var e;null!==(e=i.state)&&void 0!==e&&e.game&&g(i.state.game)},[i.state]),(0,s.useEffect)(()=>{if(!n)return;let e=!0;return async function(){try{l(!0),h(null);const t=await SN(n);e&&p(t||[])}catch(Cw){e&&h((null===Cw||void 0===Cw?void 0:Cw.message)||"\ud074\ub9bd \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),console.error(Cw)}finally{e&&l(!1)}}(),()=>{e=!1}},[n]);const f=e=>bb[e]||{id:e,name:e,logo:tM},v=m?f(m.homeTeam):null,y=m?f(m.awayTeam):null,x=u.reduce((e,t,n)=>{const s=t.quarter||1;return e[s]||(e[s]=[]),e[s].push(d(d({},t),{},{originalIndex:n})),e},{});return r?"admin"!==r.role?(0,qt.jsx)("div",{children:"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,qt.jsxs)("div",{className:"APanalysis-clips-page",children:[(0,qt.jsx)("header",{className:"APanalysis-clips-header",children:(0,qt.jsxs)("div",{className:"APanalysis-clips-header-container",children:[(0,qt.jsxs)("button",{className:"APback-button",onClick:()=>{a(-1)},children:[(0,qt.jsx)(iw,{}),(0,qt.jsx)("span",{children:"\ubd84\uc11d \ub300\uc2dc\ubcf4\ub4dc\ub85c \ub3cc\uc544\uac00\uae30"})]}),m&&(0,qt.jsxs)("div",{className:"APgame-info-header",children:[(0,qt.jsxs)("div",{className:"APgame-teams",children:[(0,qt.jsxs)("div",{className:"APteam-info",children:[(null===v||void 0===v?void 0:v.logo)&&(0,qt.jsx)("img",{src:v.logo,alt:v.name,className:"APteam-logo"}),(0,qt.jsx)("span",{className:"APteam-name",children:(null===v||void 0===v?void 0:v.name)||m.homeTeam})]}),(0,qt.jsxs)("div",{className:"APvs-score",children:[(0,qt.jsxs)("span",{className:"APscore",children:[(null===(e=m.score)||void 0===e?void 0:e.home)||0," : ",(null===(t=m.score)||void 0===t?void 0:t.away)||0]}),(0,qt.jsx)("span",{className:"APvs",children:"VS"})]}),(0,qt.jsxs)("div",{className:"APteam-info",children:[(null===y||void 0===y?void 0:y.logo)&&(0,qt.jsx)("img",{src:y.logo,alt:y.name,className:"APteam-logo"}),(0,qt.jsx)("span",{className:"APteam-name",children:(null===y||void 0===y?void 0:y.name)||m.awayTeam})]})]}),(0,qt.jsxs)("div",{className:"APgame-details",children:[(0,qt.jsx)("span",{className:"APgame-date",children:m.date}),(0,qt.jsx)("span",{className:"APgame-location",children:m.location}),(0,qt.jsx)("span",{className:"APgame-type",children:m.type})]})]}),(0,qt.jsxs)("div",{className:"APclips-count",children:[(0,qt.jsx)(vw,{className:"APclips-icon"}),(0,qt.jsxs)("span",{children:["\ucd1d ",u.length,"\uac1c \ud074\ub9bd"]})]})]})}),(0,qt.jsxs)("main",{className:"APanalysis-clips-main",children:[o&&(0,qt.jsxs)("div",{className:"APanalysis-clips-loading",children:[(0,qt.jsx)("div",{className:"APspinner"}),(0,qt.jsx)("span",{children:"\ud074\ub9bd\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."})]}),c&&(0,qt.jsxs)("div",{className:"APanalysis-clips-error",children:[(0,qt.jsx)("p",{children:c}),(0,qt.jsx)("button",{onClick:()=>window.location.reload(),children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]}),!o&&!c&&0===u.length&&(0,qt.jsxs)("div",{className:"APanalysis-clips-empty",children:[(0,qt.jsx)(vw,{className:"APempty-icon"}),(0,qt.jsx)("p",{children:"\uc774 \uacbd\uae30\uc758 \ud074\ub9bd \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,qt.jsx)("p",{children:"\uc601\uc0c1 \uc5c5\ub85c\ub4dc\ub294 \uc644\ub8cc\ub418\uc5c8\uc9c0\ub9cc \ubd84\uc11d JSON\uc774 \uc544\uc9c1 \uc5c5\ub85c\ub4dc\ub418\uc9c0 \uc54a\uc558\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),!o&&!c&&u.length>0&&(0,qt.jsx)("div",{className:"APquarters-container",children:[1,2,3,4].map(e=>{const t=x[e]||[];return 0===t.length?null:(0,qt.jsxs)("div",{className:"APquarter-section",children:[(0,qt.jsxs)("div",{className:"APquarter-header",children:[(0,qt.jsxs)("h3",{children:[e,"\ucffc\ud130"]}),(0,qt.jsxs)("span",{className:"APquarter-count",children:[t.length,"\uac1c \ud074\ub9bd"]})]}),(0,qt.jsx)("div",{className:"APclips-grid",children:t.map((t,n)=>(0,qt.jsxs)("div",{className:"APclip-card",onClick:()=>(e=>{e.clipUrl?window.open(e.clipUrl,"_blank"):alert("\uc601\uc0c1 URL\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")})(t,t.originalIndex),children:[(0,qt.jsxs)("div",{className:"APclip-header",children:[(0,qt.jsxs)("div",{className:"APclip-number",children:["#",t.originalIndex+1]}),(0,qt.jsx)("div",{className:"APplay-button",children:(0,qt.jsx)(hw,{})})]}),(0,qt.jsxs)("div",{className:"APclip-info",children:[(0,qt.jsxs)("div",{className:"APclip-basic",children:[(0,qt.jsxs)("span",{className:"APclip-quarter",children:[e,"Q"]}),(0,qt.jsx)("span",{className:"APclip-down",children:t.down?"".concat(t.down,"\ub2e4\uc6b4"):"-"}),(0,qt.jsx)("span",{className:"APclip-yard",children:t.gainYard?"".concat(t.gainYard,"\uc57c\ub4dc"):"0\uc57c\ub4dc"})]}),(0,qt.jsx)("div",{className:"APclip-type",children:t.playType||"\ud50c\ub808\uc774 \ud0c0\uc785 \ubbf8\uc815"}),t.significantPlays&&t.significantPlays.some(e=>e)&&(0,qt.jsx)("div",{className:"APsignificant-plays",children:t.significantPlays.filter(e=>e).map((e,t)=>(0,qt.jsx)("span",{className:"APsignificant-play",children:e},t))}),(0,qt.jsxs)("div",{className:"APclip-players",children:[t.car&&t.car.num&&(0,qt.jsxs)("span",{className:"APplayer car",children:["CAR: #",t.car.num," (",t.car.pos||"-",")"]}),t.tkl&&t.tkl.num&&(0,qt.jsxs)("span",{className:"APplayer tkl",children:["TKL: #",t.tkl.num," (",t.tkl.pos||"-",")"]})]})]}),!t.clipUrl&&(0,qt.jsx)("div",{className:"APno-video-warning",children:"\uc601\uc0c1 URL \uc5c6\uc74c"})]},"".concat(e,"-").concat(n)))})]},e)})})]})]}):(0,qt.jsx)("div",{children:"\ub85c\uadf8\uc778 \ud655\uc778 \uc911..."})}const qF=()=>(0,qt.jsx)("div",{children:(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})})}),KF=e=>{let{onSuccess:t,showForgotPassword:n=!0,className:i=""}=e;const{login:a,error:r,loading:o}=Qt(),l=fe(),[c,h]=(0,s.useState)({username:"",password:""}),[u,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),y=e=>{const{name:t,value:n}=e.target;h(e=>d(d({},e),{},{[t]:n})),f&&v(null)},x=m||!!o,b=f||r;return(0,qt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e;const t=null===(e=c.username)||void 0===e?void 0:e.trim(),n=c.password;return t&&n?!!/^[a-zA-Z0-9]+$/.test(t)||(v("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),!1):(v("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1)})()){g(!0),v(null);try{const e=await a({username:c.username,password:c.password});e.success&&(null===t||void 0===t||t(),e.profileComplete?l("/service"):l("/auth/signupprofile"))}catch(n){v((null===n||void 0===n?void 0:n.message)||"\uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}finally{g(!1)}}},className:"loginForm ".concat(i),autoComplete:"on",children:[(0,qt.jsxs)("div",{className:"tab-container",children:[(0,qt.jsx)("button",{type:"button",className:"loginTitle",children:"\ub85c\uadf8\uc778"}),(0,qt.jsx)("a",{href:"/auth/signup",className:"loginTitleTosignup",children:"\ud68c\uc6d0\uac00\uc785"})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("label",{className:"LoginformLabel ID",htmlFor:"username",children:"\uc544\uc774\ub514"}),(0,qt.jsx)("input",{id:"username",type:"text",name:"username",value:c.username,onChange:y,className:"LoginformInput",required:!0,autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,disabled:x,inputMode:"text"})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsxs)("label",{className:"LoginformLabel PW",htmlFor:"password",children:["\ube44\ubc00\ubc88\ud638",n&&(0,qt.jsx)("a",{href:"/auth/find",tabIndex:-1,className:"forgotPasswordLink",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"})]}),(0,qt.jsxs)("div",{className:"passwordInputContainer",children:[(0,qt.jsx)("input",{id:"password",type:u?"text":"password",name:"password",value:c.password,onChange:y,className:"LoginformInput",required:!0,autoComplete:"current-password",disabled:x}),(0,qt.jsx)("button",{type:"button",className:"LoginpasswordToggleButton",onClick:()=>p(e=>!e),onMouseDown:e=>e.preventDefault(),tabIndex:-1,"aria-hidden":"true",disabled:x,children:u?(0,qt.jsx)("img",{src:aL,alt:"",className:"showPassword"}):(0,qt.jsx)("img",{src:iL,alt:"",className:"showPasswordActive"})})]})]}),b&&(0,qt.jsxs)("div",{className:"errorMessage",children:["\u26a0\ufe0f ",b]}),(0,qt.jsx)("button",{type:"submit",disabled:x,className:"LoginsubmitButton ".concat(x?"loading":""),children:x?"Loading...":"\ub85c\uadf8\uc778"})]})},XF=()=>(0,qt.jsx)("div",{className:"loginPage",children:(0,qt.jsx)(KF,{})}),QF={1211:{team:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",region:"Seoul",role:"coach"},1672:{team:"\uc5f0\uc138\ub300 \uc774\uae00\uc2a4",region:"Seoul",role:"player"},1231:{team:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",region:"Seoul",role:"coach"},1232:{team:"\uc11c\uc6b8\ub300 \uadf8\ub9b0\ud14c\ub7ec\uc2a4",region:"Seoul",role:"player"},1971:{team:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",region:"Seoul",role:"coach"},1142:{team:"\ud55c\uc591\ub300 \ub77c\uc774\uc628\uc2a4",region:"Seoul",role:"player"},1741:{team:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",region:"Seoul",role:"coach"},1092:{team:"\uad6d\ubbfc\ub300 \ub808\uc774\uc800\ubc31\uc2a4",region:"Seoul",role:"player"},1081:{team:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",region:"Seoul",role:"coach"},1982:{team:"\uc11c\uc6b8\uc2dc\ub9bd\ub300 \uc2dc\ud2f0\ud639\uc2a4",region:"Seoul",role:"player"},1511:{team:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",region:"Seoul",role:"coach"},1762:{team:"\ud55c\uad6d\uc678\ub300 \ube14\ub799\ub098\uc774\uce20",region:"Seoul",role:"player"},1871:{team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",region:"Seoul",role:"coach"},1802:{team:"\uac74\uad6d\ub300 \ub808\uc774\uc9d5\ubd88\uc2a4",region:"Seoul",role:"player"},1371:{team:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",region:"Seoul",role:"coach"},1922:{team:"\ud64d\uc775\ub300 \uce74\uc6b0\ubcf4\uc774\uc2a4",region:"Seoul",role:"player"},1271:{team:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",region:"Seoul",role:"coach"},1785:{team:"\uace0\ub824\ub300 \ud0c0\uc774\uac70\uc2a4",region:"Seoul",role:"player"},1991:{team:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",region:"Seoul",role:"coach"},1131:{team:"\ub3d9\uad6d\ub300 \ud130\uc2a4\ucee4\uc2a4",region:"Seoul",role:"player"},1611:{team:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",region:"Seoul",role:"coach"},1782:{team:"\uc22d\uc2e4\ub300 \ud06c\ub8e8\uc138\uc774\ub354\uc2a4",region:"Seoul",role:"player"},1951:{team:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",region:"Seoul",role:"coach"},1112:{team:"\uc911\uc559\ub300 \ube14\ub8e8\ub4dc\ub798\uace4\uc2a4",region:"Seoul",role:"player"},1071:{team:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",region:"Seoul",role:"coach"},1752:{team:"\uacbd\ud76c\ub300 \ucee4\ub9e8\ub354\uc2a4",region:"Seoul",role:"player"},1421:{team:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",region:"Seoul",role:"coach"},1492:{team:"\uc11c\uac15\ub300 \uc54c\ubc14\ud2b8\ub85c\uc2a4",region:"Seoul",role:"player"},2751:{team:"\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2912:{team:"\uc131\uade0\uad00\ub300 \ub85c\uc584\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2011:{team:"\uac15\uc6d0\ub300 \uce74\ud504\ub77c\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2182:{team:"\uac15\uc6d0\ub300 \uce74\ud504\ub77c\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2119:{team:"\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2662:{team:"\ub2e8\uad6d\ub300 \ucf54\ub514\uc545\ubca0\uc5b4\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2081:{team:"\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2742:{team:"\uc6a9\uc778\ub300 \ud654\uc774\ud2b8\ud0c0\uc774\uac70\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2871:{team:"\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2902:{team:"\uc778\ud558\ub300 \ud2f8 \ub4dc\ub798\uace4\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2111:{team:"\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2762:{team:"\ud55c\ub9bc\ub300 \ud53c\ub2c9\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},2521:{team:"\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4",region:"Gyeonggi-Gangwon",role:"coach"},2952:{team:"\ud55c\uc2e0\ub300 \ud0ac\ub7ec\uc6e8\uc77c\uc2a4",region:"Gyeonggi-Gangwon",role:"player"},3761:{team:"\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3092:{team:"\uacbd\ubd81\ub300 \uc624\ub80c\uc9c0\ud30c\uc774\ud130\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3011:{team:"\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3882:{team:"\uacbd\uc77c\ub300 \ube14\ub799\ubca0\uc5b4\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3911:{team:"\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3212:{team:"\uacc4\uba85\ub300 \uc288\ud37c\ub77c\uc774\uc628\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3331:{team:"\uae08\uc624\uacf5\uacfc\ub300 \ub808\uc774\ube10\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3342:{team:"\uae08\uc624\uacf5\uacfc\ub300 \ub808\uc774\ube10\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3381:{team:"\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3352:{team:"\ub300\uad6c\uac00\ud1a8\ub9ad\ub300 \uc2a4\ucee4\ub4dc\uc5d4\uc824\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3981:{team:"\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3042:{team:"\ub300\uad6c\ub300 \ud50c\ub77c\uc789\ud0c0\uc774\uac70\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3271:{team:"\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3822:{team:"\ub300\uad6c\ud55c\uc758\ub300 \ub77c\uc774\ub178\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3671:{team:"\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20",region:"Daegu-Gyeongbuk",role:"coach"},3592:{team:"\ub3d9\uad6d\ub300 \ud654\uc774\ud2b8\uc5d8\ub9ac\ud380\uce20",region:"Daegu-Gyeongbuk",role:"player"},3991:{team:"\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3612:{team:"\uc601\ub0a8\ub300 \ud398\uac00\uc218\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},3871:{team:"\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4",region:"Daegu-Gyeongbuk",role:"coach"},3522:{team:"\ud55c\ub3d9\ub300 \ud640\ub9ac\ub7a8\uc2a4",region:"Daegu-Gyeongbuk",role:"player"},4711:{team:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4972:{team:"\uacbd\uc131\ub300 \ub4dc\ub798\uace4\uc2a4",region:"Busan-Gyeongnam",role:"player"},4891:{team:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4542:{team:"\ub3d9\uc11c\ub300 \ube14\ub8e8\ub3cc\ud540\uc2a4",region:"Busan-Gyeongnam",role:"player"},4041:{team:"\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988",region:"Busan-Gyeongnam",role:"coach"},4482:{team:"\ub3d9\uc544\ub300 \ub808\uc624\ud30c\uc988",region:"Busan-Gyeongnam",role:"player"},4121:{team:"\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4782:{team:"\ub3d9\uc758\ub300 \ud130\ud2c0\ud30c\uc774\ud130\uc2a4",region:"Busan-Gyeongnam",role:"player"},4781:{team:"\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4222:{team:"\ubd80\uc0b0\ub300 \uc774\uae00\uc2a4",region:"Busan-Gyeongnam",role:"player"},4221:{team:"\ubd80\uc0b0\uc678\uad6d\uc5b4\ub300 \ud1a0\ub124\uc774\ub3c4",region:"Busan-Gyeongnam",role:"coach"},4672:{team:"\ubd80\uc0b0\uc678\uad6d\uc5b4\ub300 \ud1a0\ub124\uc774\ub3c4",region:"Busan-Gyeongnam",role:"player"},4761:{team:"\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4992:{team:"\uc2e0\ub77c\ub300 \ub370\ube4c\uc2a4",region:"Busan-Gyeongnam",role:"player"},4621:{team:"\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4822:{team:"\uc6b8\uc0b0\ub300 \uc720\ub2c8\ucf58\uc2a4",region:"Busan-Gyeongnam",role:"player"},4811:{team:"\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4",region:"Busan-Gyeongnam",role:"coach"},4052:{team:"\ud55c\uad6d\ud574\uc591\ub300 \ubc14\uc774\ud0b9\uc2a4",region:"Busan-Gyeongnam",role:"player"},5761:{team:"\uad70\uc704 \ud53c\ub2c9\uc2a4",region:"Amateur",role:"coach"},5552:{team:"\uad70\uc704 \ud53c\ub2c9\uc2a4",region:"Amateur",role:"player"},5111:{team:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",region:"Amateur",role:"coach"},5982:{team:"\ubd80\uc0b0 \uadf8\ub9ac\ud3f0\uc988",region:"Amateur",role:"player"},5731:{team:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",region:"Amateur",role:"coach"},5432:{team:"\uc0bc\uc131 \ube14\ub8e8\uc2a4\ud1b0",region:"Amateur",role:"player"},5781:{team:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",region:"Amateur",role:"coach"},5872:{team:"\uc11c\uc6b8 \uace8\ub4e0\uc774\uae00\uc2a4",region:"Amateur",role:"player"},5991:{team:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",region:"Amateur",role:"coach"},5522:{team:"\uc11c\uc6b8 \ub514\ud39c\ub354\uc2a4",region:"Amateur",role:"player"},5171:{team:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",region:"Amateur",role:"coach"},5662:{team:"\uc11c\uc6b8 \ubc14\uc774\ud0b9\uc2a4",region:"Amateur",role:"player"},5871:{team:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",region:"Amateur",role:"coach"},5422:{team:"\uc778\ucc9c \ub77c\uc774\ub178\uc2a4",region:"Amateur",role:"player"},2025:{team:"ADMIN",region:"ALL",role:"admin"}},JF=e=>{let{onSuccess:t,className:n=""}=e;const i=fe(),{setToken:a,setUser:r}=Qt(),{updateUserData:o,setAuthToken:l}=Qt(),[c,h]=(0,s.useState)({username:"",password:"",passwordConfirm:"",authCode:"",teamName:"",role:"",region:""}),[u,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[y,x]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),[_,S]=(0,s.useState)(!1),[k,C]=(0,s.useState)(null),[A,j]=(0,s.useState)(""),[T,E]=(0,s.useState)(!1),[N,P]=(0,s.useState)(null),[M,O]=(0,s.useState)(""),[D,L]=(0,s.useState)(null),R=e=>{const{name:t,value:n}=e.target,s="id"===t?"username":t;h(e=>d(d({},e),{},{[s]:n})),"username"===s&&(C(null),j("")),"authCode"===s&&(P(null),O(""),L(null)),b&&w(null)},F=y||"available"!==k||"valid"!==N||!u,I=e=>"available"===e||"valid"===e?"status-message status-success":"unavailable"===e||"invalid"===e?"status-message status-error":"status-message";return(0,qt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y)return;if(!(()=>{if(!c.username||!c.password||!c.authCode)return w("\ubaa8\ub4e0 \ud544\uc218 \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1;if(c.password.length<8)return w("\ube44\ubc00\ubc88\ud638\ub97c 8\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1;if(c.password!==c.passwordConfirm)return w("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),!1;if(!u)return w("\uc774\uc6a9 \uc57d\uad00 \ubc0f \uac1c\uc778\uc815\ubcf4 \ubcf4\ud638\uc815\ucc45\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."),!1;if("available"!==k)return w("\uc544\uc774\ub514 \uc911\ubcf5 \ud655\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),!1;if("valid"!==N)return w("\uc778\uc99d\ucf54\ub4dc \ud655\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),!1;const e=(null===D||void 0===D?void 0:D.team)||c.teamName,t=(null===D||void 0===D?void 0:D.role)||c.role,n=(null===D||void 0===D?void 0:D.region)||c.region;return!!(e&&t&&n)||(w("\ud300 \uc815\ubcf4(\ud300\uba85/\uc5ed\ud560/\uc9c0\uc5ed)\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),!1)})())return;x(!0),w(null);const n={username:c.username,password:c.password,authCode:c.authCode,teamName:(null===D||void 0===D?void 0:D.team)||c.teamName,role:(null===D||void 0===D?void 0:D.role)||c.role,region:(null===D||void 0===D?void 0:D.region)||c.region};try{const e=await Lt(n);if(console.log("\ud68c\uc6d0\uac00\uc785 \uc751\ub2f5:",e),e.data&&e.data.token){const{token:t,user:n}=e.data;localStorage.setItem("token",t),n&&o(n),console.log("\ud1a0\ud070 \uc800\uc7a5 \uc644\ub8cc:",t)}null===t||void 0===t||t(),i("../signupprofile")}catch(s){console.error("\ud68c\uc6d0\uac00\uc785 \uc624\ub958:",s),w(Mt(s))}finally{x(!1)}},className:"signupForm ".concat(n),autoComplete:"on",children:[(0,qt.jsxs)("div",{className:"tab-container",children:[(0,qt.jsx)(xt,{to:"/auth",className:"signupTitle",children:"\ub85c\uadf8\uc778"}),(0,qt.jsx)("button",{type:"button",className:"signupTitleTosignup",children:"\ud68c\uc6d0\uac00\uc785"})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("label",{className:"SignupformLabel ID",htmlFor:"username",children:"\uc544\uc774\ub514"}),(0,qt.jsxs)("div",{className:"input-with-button-group",children:[(0,qt.jsx)("input",{id:"username",type:"text",name:"username",value:c.username,onChange:R,className:"SignupformInput",placeholder:"",required:!0,autoComplete:"username",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,disabled:y||_||T}),(0,qt.jsx)("button",{type:"button",onClick:async()=>{const{username:e}=c;if(!e)return C("idle"),void j("\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!/^[a-zA-Z0-9]+$/.test(e))return C("invalid"),void j("\uc601\uc5b4 \ubc0f \uc22b\uc790 \uc870\ud569\ub9cc \uc785\ub825\ud574\uc8fc\uc138\uc694.");S(!0),C("checking"),j("");try{(await Ot(e)).available?(C("available"),j("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc544\uc774\ub514\uc785\ub2c8\ub2e4.")):(C("unavailable"),j("\uc911\ubcf5\ub41c \uc544\uc774\ub514\uc785\ub2c8\ub2e4."))}catch(t){C("invalid"),j(Mt(t))}finally{S(!1)}},disabled:y||_||!c.username,className:"valid-checking ".concat(_?"loading":""),children:_?"\ud655\uc778 \uc911...":"\uc911\ubcf5 \ud655\uc778"})]}),A&&(0,qt.jsx)("div",{className:I(k),children:A})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("label",{className:"SignupformLabel PW",htmlFor:"password",children:"\ube44\ubc00\ubc88\ud638"}),(0,qt.jsxs)("div",{className:"passwordInputContainer",children:[(0,qt.jsx)("input",{id:"password",type:m?"text":"password",name:"password",value:c.password,onChange:R,className:"SignupformInput",placeholder:"\ucd5c\uc18c 8\uc790",required:!0,autoComplete:"new-password",disabled:y||_||T}),(0,qt.jsx)("button",{type:"button",className:"SignuppasswordToggleButton",onClick:()=>g(!m),onMouseDown:e=>e.preventDefault(),tabIndex:-1,"aria-hidden":"true",disabled:y||_||T,children:m?(0,qt.jsx)("img",{src:aL,alt:"hide Password"}):(0,qt.jsx)("img",{src:iL,alt:"show Password"})})]})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("label",{className:"SignupformLabel PW",htmlFor:"passwordConfirm",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,qt.jsxs)("div",{className:"passwordInputContainer",children:[(0,qt.jsx)("input",{id:"passwordConfirm",type:f?"text":"password",name:"passwordConfirm",value:c.passwordConfirm,onChange:R,className:"SignupformInput",placeholder:"\ube44\ubc00\ubc88\ud638 \ub2e4\uc2dc \uc785\ub825",required:!0,autoComplete:"new-password",disabled:y||_||T}),(0,qt.jsx)("button",{type:"button",className:"SignuppasswordToggleButton",onClick:()=>v(!f),onMouseDown:e=>e.preventDefault(),tabIndex:-1,"aria-hidden":"true",disabled:y||_||T,children:f?(0,qt.jsx)("img",{src:aL,alt:"hide Password"}):(0,qt.jsx)("img",{src:iL,alt:"show Password"})})]})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("label",{className:"SignupformLabel ID",htmlFor:"authCode",children:"\uc778\uc99d\ucf54\ub4dc"}),(0,qt.jsxs)("div",{className:"input-with-button-group",children:[(0,qt.jsx)("input",{id:"authCode",type:"text",name:"authCode",value:c.authCode,onChange:R,className:"SignupformInput",placeholder:"\uc778\uc99d\ucf54\ub4dc \uc785\ub825",required:!0,autoComplete:"one-time-code",inputMode:"text",disabled:y||_||T}),(0,qt.jsx)("button",{type:"button",onClick:async()=>{if(!c.authCode)return P("idle"),void O("\uc778\uc99d\ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");E(!0),P("verifying"),O(""),L(null);try{if((await Dt(c.authCode)).valid){const e=QF[c.authCode]||null;if(L(e),P("valid"),e){let t;switch(e.role){case"coach":t="coach";break;case"admin":t="admin";break;default:t="player"}O("\uc778\uc99d \uc644\ub8cc: ".concat(e.team," (").concat(t,")"))}else O("\uc778\uc99d\ucf54\ub4dc \ud655\uc778 \uc644\ub8cc")}else P("invalid"),O("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc778\uc99d\ucf54\ub4dc\uc785\ub2c8\ub2e4.")}catch(e){P("invalid"),O(Mt(e))}finally{E(!1)}},disabled:y||T||!c.authCode,className:"valid-checking ".concat(T?"loading":""),children:T?"\ud655\uc778 \uc911...":"\uc778\uc99d"})]}),M&&(0,qt.jsx)("div",{className:I(N),children:M})]}),(0,qt.jsxs)("div",{className:"formGroup",children:[(0,qt.jsx)("input",{type:"checkbox",id:"agreedToTerms",checked:u,onChange:()=>p(!u),disabled:y||_||T,className:"agreewithtermsCheckbox"}),(0,qt.jsxs)("label",{htmlFor:"agreedToTerms",className:"agreewithterms",children:["Stech",(0,qt.jsxs)("a",{href:"https://calico-mass-cad.notion.site/Stech-Pro-24d7c5431d5d80eab2dfe595b3fac4eb",className:"terms-link",target:"_blank",children:[" ","\uc774\uc6a9 \uc57d\uad00"]})," ","\ubc0f",(0,qt.jsxs)("a",{href:"https://calico-mass-cad.notion.site/Stech-Pro-24d7c5431d5d8022936be7a2894849f0",className:"terms-link",target:"_blank",children:[" ","\uac1c\uc778\uc815\ubcf4 \ubcf4\ud638\uc815\ucc45"]}),"\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4."]})]}),b&&(0,qt.jsxs)("div",{className:"errorMessage",children:["\u26a0\ufe0f ",b]}),(0,qt.jsx)("button",{type:"submit",disabled:F,className:"SignupsubmitButton ".concat(y?"loading":""),children:y?"\ud68c\uc6d0\uac00\uc785 \uc911...":"\ud68c\uc6d0\uac00\uc785"})]})},ZF=()=>(0,qt.jsx)("div",{className:"signupPage",children:(0,qt.jsx)(JF,{})}),$F=()=>{const e=fe(),{token:t}=Qt(),[n,i]=(0,s.useState)({profileImage:null,realName:"",email:"",address1:"",address2:"",height:"",weight:"",age:"",grade:"",nationality:"",position:"",avatarUrl:"",phone:"",career:"",playerID:""}),[a,r]=(0,s.useState)(null),[o,l]=(0,s.useState)(""),[c,h]=(0,s.useState)(!1),u=e=>{const{name:t,value:n}=e.target;i(e=>d(d({},e),{},{[t]:n}))},p=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);(0,s.useEffect)(()=>{var e;if(null!==(e=window.daum)&&void 0!==e&&e.Postcode)return void h(!0);let t=document.querySelector("script[data-daum-postcode]");t||(t=document.createElement("script"),t.src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",t.async=!0,t.defer=!0,t.dataset.daumPostcode="true",document.head.appendChild(t));const n=()=>h(!0),s=()=>h(!1);return t.addEventListener("load",n),t.addEventListener("error",s),()=>{t.removeEventListener("load",n),t.removeEventListener("error",s)}},[]);return(0,qt.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),!n.realName.trim())return alert("\uc131\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.email.trim()||!p(n.email))return alert("\uc720\ud6a8\ud55c \uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(a&&"available"!==a)return alert(o||"\uc774\uba54\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.");if(!n.address1.trim())return alert("\uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.height.trim())return alert("\ud0a4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.weight.trim())return alert("\ubab8\ubb34\uac8c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.grade.trim())return alert("\uacbd\ub825\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.nationality.trim())return alert("\uad6d\uc801\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!n.position.trim())return alert("\ud3ec\uc9c0\uc158\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");const i=parseFloat(n.height),r=parseFloat(n.weight),l=parseFloat(n.age);if(isNaN(i)||i<=0||i>300)return alert("\uc62c\ubc14\ub978 \ud0a4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694. (\ub2e8\uc704: cm)");if(isNaN(r)||r<=0||r>500)return alert("\uc62c\ubc14\ub978 \ubab8\ubb34\uac8c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694. (\ub2e8\uc704: kg)");if(n.age&&(isNaN(l)||l<=0||l>100))return alert("\uc62c\ubc14\ub978 \ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(!t)return alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."),void e("/auth");const c={realName:n.realName.trim(),email:n.email.trim(),nationality:n.nationality.trim(),phone:n.phone.trim(),address:"".concat(n.address1," ").concat(n.address2||"").trim(),height:parseInt(n.height),weight:parseInt(n.weight),age:parseInt(n.age)||20,career:n.grade.trim(),position:n.position.trim(),playerID:n.playerID.trim()};console.log("\uc804\uc1a1\ud560 payload:",c);try{var d;const n=await(async(e,t)=>{if(!t)throw new Nt("\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",401);const n=await fetch("".concat(jt).concat(Et.CREATE_PROFILE),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),s=await Pt(n);if(n.ok)return s;throw new Nt("object"===typeof s&&s.message||"\ud504\ub85c\ud544 \uc0dd\uc131 \uc2e4\ud328",n.status,s)})(c,t);console.log("\ud504\ub85c\ud544 \uc0dd\uc131 \uc751\ub2f5:",n),null!==(d=n.data)&&void 0!==d&&d.token&&(console.log("\uc0c8 \ud1a0\ud070 \uc800\uc7a5:",n.data.token),localStorage.setItem("token",n.data.token)),alert("\ud504\ub85c\ud544\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e("/service")}catch(h){console.error("\ud504\ub85c\ud544 \uc0dd\uc131 \uc624\ub958:",h),alert("\ud504\ub85c\ud544 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+(h.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"))}},className:"profileForm",children:[(0,qt.jsx)("div",{className:"profileformtab-container",children:(0,qt.jsx)("button",{type:"button",className:"profileformTitle",children:"\ud504\ub85c\ud544 \uc0dd\uc131"})}),(0,qt.jsxs)("div",{className:"profileformSection ",children:[(0,qt.jsx)("div",{className:"profileformimagePlaceholder",children:n.profileImage?(0,qt.jsx)("img",{src:URL.createObjectURL(n.profileImage),alt:"Profile",className:"profileImage"}):(0,qt.jsx)("div",{className:"profileplaceholderText"})}),(0,qt.jsxs)("div",{className:"profileimageButtons",children:[(0,qt.jsx)("label",{htmlFor:"profileformImage",className:"profileformuploadButton",children:"\uc0ac\uc9c4 \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)("input",{type:"file",id:"profileformImage",name:"profileformImage",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&i(e=>d(d({},e),{},{profileImage:t}))},style:{display:"none"}}),(0,qt.jsx)("button",{type:"button",className:"profileformremoveButton",onClick:()=>i(e=>d(d({},e),{},{profileImage:null})),children:"\uc0ad\uc81c"})]})]}),(0,qt.jsxs)("div",{className:"profileformGrid",children:[(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\uc131\uba85(\ud45c\uc2dc\uba85)"}),(0,qt.jsx)("input",{type:"text",name:"realName",value:n.realName,onChange:u,placeholder:"\uc608: \ud64d\uae38\ub3d9"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\uc774\uba54\uc77c"}),(0,qt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:e=>{const t=e.target.value;if(i(e=>d(d({},e),{},{email:t})),!t)return r(null),void l("");(async e=>{if(!p(e))return r("unavailable"),void l("\uc720\ud6a8\ud55c \uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4.");r("available"),l("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud615\uc2dd\uc785\ub2c8\ub2e4.")})(t)},className:"checking"===a?"checking":""}),o&&(0,qt.jsx)("div",{className:"available"===a?"status-message status-success":"unavailable"===a?"status-message status-error":"status-message",children:o})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\uc5f0\ub77d\ucc98"}),(0,qt.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:u,placeholder:"010-1234-5678"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\ubcc4\uba85"}),(0,qt.jsx)("input",{type:"text",name:"playerID",value:n.playerID,onChange:u,placeholder:"\uac1c\ub625\uc774"})]}),(0,qt.jsxs)("div",{className:"profileformGroup full-width",children:[(0,qt.jsx)("label",{children:"\uc8fc\uc18c"}),(0,qt.jsxs)("div",{className:"input-with-button",children:[(0,qt.jsx)("input",{type:"text",name:"address1",value:n.address1,onChange:u,readOnly:!0}),(0,qt.jsx)("button",{type:"button",onClick:()=>{c?new window.daum.Postcode({oncomplete:function(e){let t=e.roadAddress,n="";""!==e.bname&&/[\ub3d9|\ub85c|\uac00]$/g.test(e.bname)&&(n+=e.bname),""!==e.buildingName&&"Y"===e.apartment&&(n+=""!==n?", "+e.buildingName:e.buildingName),""!==n&&(t+=" ("+n+")"),i(e=>d(d({},e),{},{address1:t,address2:""}))}}).open():alert("\uc8fc\uc18c \uac80\uc0c9 \uc2a4\ud06c\ub9bd\ud2b8\uac00 \uc544\uc9c1 \ub85c\ub4dc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},children:"\ucc3e\uae30"})]})]}),(0,qt.jsx)("div",{className:"profileformGroup full-width",children:(0,qt.jsx)("input",{type:"text",name:"address2",value:n.address2,onChange:u,placeholder:"\uc0c1\uc138 \uc8fc\uc18c"})}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\ud0a4"}),(0,qt.jsx)("input",{type:"text",name:"height",value:n.height,onChange:u,placeholder:"180"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\ubab8\ubb34\uac8c"}),(0,qt.jsx)("input",{type:"text",name:"weight",value:n.weight,onChange:u,placeholder:"76"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\ub098\uc774"}),(0,qt.jsx)("input",{type:"text",name:"age",value:n.age,onChange:u,placeholder:"\uc608: 25"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\uacbd\ub825"}),(0,qt.jsx)("input",{type:"text",name:"grade",value:n.grade,onChange:u,placeholder:"\uc608: 2\ub144"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\uad6d\uc801"}),(0,qt.jsx)("input",{type:"text",name:"nationality",value:n.nationality,onChange:u,placeholder:"\uc608: KOR"})]}),(0,qt.jsxs)("div",{className:"profileformGroup",children:[(0,qt.jsx)("label",{children:"\ud3ec\uc9c0\uc158 (\uc8fc\ud3ec\uc9c0\uc158)"}),(0,qt.jsxs)("select",{name:"position",value:n.position,onChange:u,children:[(0,qt.jsx)("option",{value:"",children:"\ud3ec\uc9c0\uc158 \uc120\ud0dd"}),(0,qt.jsx)("option",{value:"QB",children:"QB"}),(0,qt.jsx)("option",{value:"RB",children:"RB"}),(0,qt.jsx)("option",{value:"WR",children:"WR"}),(0,qt.jsx)("option",{value:"TE",children:"TE"}),(0,qt.jsx)("option",{value:"OL",children:"OL"}),(0,qt.jsx)("option",{value:"DL",children:"DL"}),(0,qt.jsx)("option",{value:"LB",children:"LB"}),(0,qt.jsx)("option",{value:"DB",children:"DB"}),(0,qt.jsx)("option",{value:"K",children:"K"}),(0,qt.jsx)("option",{value:"P",children:"P"})]})]})]}),(0,qt.jsx)("button",{type:"submit",className:"profileformsubmitButton",children:"\ud504\ub85c\ud544 \uc0dd\uc131"})]})},eI=()=>(0,qt.jsx)("div",{className:"signupprofilePage",children:(0,qt.jsx)($F,{})}),tI="\uc544\uc774\ub514 \ub610\ub294 \uc774\uba54\uc77c\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",nI=()=>{const e=fe(),[t,n]=(0,s.useState)({id:"",email:""}),[i,a]=(0,s.useState)({}),[r,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(!1),h=e=>{const{id:t,value:s}=e.target;n(e=>d(d({},e),{},{[t]:s})),i[t]&&a(e=>d(d({},e),{},{[t]:null})),r&&o("")};return(0,qt.jsx)("div",{className:"find-page-container",children:(0,qt.jsxs)("div",{className:"find-page-card",children:[(0,qt.jsx)("h2",{className:"find-title",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"}),(0,qt.jsx)("p",{className:"find-description",children:"\uc544\uc774\ub514\uc640 \uc774\uba54\uc77c\uc744 \ud655\uc778\ud55c \ub4a4, \uc778\uc99d\ucf54\ub4dc\ub97c \uc804\uc1a1\ud569\ub2c8\ub2e4."}),r&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",r]}),(0,qt.jsxs)("div",{className:"find-input-group",children:[(0,qt.jsx)("label",{htmlFor:"id",children:"\uc544\uc774\ub514"}),(0,qt.jsx)("input",{id:"id",type:"text",value:t.id,onChange:h,disabled:l}),i.id&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",i.id]})]}),(0,qt.jsxs)("div",{className:"find-input-group",children:[(0,qt.jsx)("label",{htmlFor:"email",children:"\uc774\uba54\uc77c"}),(0,qt.jsx)("input",{id:"email",type:"email",value:t.email,onChange:h,placeholder:"user@example.com",autoComplete:"email",disabled:l}),i.email&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",i.email]})]}),(0,qt.jsx)("button",{className:"find-code-button",onClick:async()=>{if(!(()=>{const e={};return t.id.trim()?/^[a-zA-Z0-9_.-]+$/.test(t.id.trim())||(e.id="\uc544\uc774\ub514\ub294 \uc601\ubb38/\uc22b\uc790/._- \ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):e.id="\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(e.email="\uc720\ud6a8\ud55c \uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."):e.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",a(e),0===Object.keys(e).length})())return;const n=t.id.trim(),s=t.email.trim();c(!0),o("");try{await async function(e){const t=await fetch("".concat(jt).concat(Et.CHECK_USER_EXISTS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),n=await Pt(t);if(t.ok)return n;throw new Nt("object"===typeof n&&n.message||"\uc544\uc774\ub514 \uc874\uc7ac \ud655\uc778 \uc2e4\ud328",t.status,n)}(n)}catch(r){return o(tI),void c(!1)}try{var i;const e=await async function(e){const t=await fetch("".concat(jt).concat(Et.FIND_EMAIL),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),n=await Pt(t);if(t.ok)return n;throw new Nt("object"===typeof n&&n.message||"\uc774\uba54\uc77c \ud655\uc778 \uc2e4\ud328",t.status,n)}(s);if(((null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.username)||"").toLowerCase()!==n.toLowerCase())return o(tI),void c(!1)}catch(l){return o(tI),void c(!1)}try{await Ft(s),alert("\uc778\uc99d\ucf54\ub4dc\ub97c \uc774\uba54\uc77c\ub85c \uc804\uc1a1\ud588\uc2b5\ub2c8\ub2e4. (\uc720\ud6a8\uc2dc\uac04 10\ubd84)"),e("../findcode",{state:{email:s}})}catch(d){o(Mt(d))}finally{c(!1)}},disabled:l,children:l?"\uc694\uccad \uc911\u2026":"\ucf54\ub4dc \ubc1b\uae30 \u2192"}),(0,qt.jsxs)("div",{className:"find-links-group",children:[(0,qt.jsxs)("p",{children:["\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc2b5\ub2c8\ub2e4. ",(0,qt.jsx)("a",{href:"/auth",className:"find-link",children:"\ub85c\uadf8\uc778\ud558\uae30"})]}),(0,qt.jsxs)("p",{children:["\uacc4\uc815\uc774 \uc5c6\ub2e4\uba74? ",(0,qt.jsx)("a",{href:"/auth/signup",className:"find-link",children:"\ud68c\uc6d0\uac00\uc785"})]})]}),(0,qt.jsx)("hr",{className:"find-divider"}),(0,qt.jsx)("div",{className:"find-help-section",children:(0,qt.jsxs)("p",{children:["\uba54\uc77c\uc774 \uc624\uc9c0 \uc54a\uc73c\uba74 \uc2a4\ud338\ud568\uc744 \ud655\uc778\ud558\uac70\ub098, ",(0,qt.jsx)("a",{href:"/contact",className:"link",children:"\uace0\uac1d \uc11c\ube44\uc2a4"}),"\uc5d0 \ubb38\uc758\ud574 \uc8fc\uc138\uc694."]})})]})})},sI=()=>(0,qt.jsx)("div",{className:"findPage",children:(0,qt.jsx)(nI,{})}),iI=()=>{const e=fe(),{state:t}=ue(),n=(0,s.useMemo)(()=>(null===t||void 0===t?void 0:t.email)||"",[null===t||void 0===t?void 0:t.email]),[i,a]=(0,s.useState)(""),[r,o]=(0,s.useState)({}),[l,c]=(0,s.useState)(""),[h,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(0);return(0,qt.jsx)("div",{className:"find-page-container",children:(0,qt.jsxs)("div",{className:"find-page-card",children:[(0,qt.jsx)("h2",{className:"find-title",children:"\uc774\uba54\uc77c\ub85c \ubc1b\uc740 \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,qt.jsx)("p",{className:"find-description",children:n||"\uc774\uba54\uc77c \uc815\ubcf4 \uc5c6\uc74c"}),r.email&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",r.email]}),l&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",l]}),(0,qt.jsxs)("div",{className:"find-input-group",children:[(0,qt.jsx)("label",{htmlFor:"code",children:"\uc778\uc99d\ubc88\ud638"}),(0,qt.jsx)("input",{id:"code",type:"text",value:i,onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"").substring(0,6);a(t),r.code&&o(e=>d(d({},e),{},{code:null})),l&&c("")},maxLength:6}),(0,qt.jsx)("a",{href:"#",className:"resend-link",onClick:async e=>{if(e.preventDefault(),!(!n||h||p>0)){u(!0);try{await Ft(n),m(60);const e=setInterval(()=>{m(t=>t<=1?(clearInterval(e),0):t-1)},1e3);alert("\uc778\uc99d\ucf54\ub4dc\ub97c \ub2e4\uc2dc \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4.")}catch(t){c(Mt(t))}finally{u(!1)}}},children:p>0?"\ub2e4\uc2dc \ubcf4\ub0b4\uae30 (".concat(p,"s)"):h?"\ubcf4\ub0b4\ub294 \uc911\u2026":"\ub2e4\uc2dc \ubcf4\ub0b4\uae30"}),r.code&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",r.code]})]}),(0,qt.jsx)("button",{className:"find-code-button",onClick:()=>{(()=>{const e={};return n||(e.email="\uc774\uba54\uc77c \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ucc98\uc74c\ubd80\ud130 \uc9c4\ud589\ud574\uc8fc\uc138\uc694."),i?/^\d{6}$/.test(i)||(e.code="\uc720\ud6a8\ud55c 6\uc790\ub9ac \uc778\uc99d\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."):e.code="\uc778\uc99d\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",o(e),0===Object.keys(e).length})()&&e("../changepassword",{state:{email:n,resetCode:i}})},children:"\uc778\uc99d \ud655\uc778 \u2192"})]})})},aI=()=>(0,qt.jsx)("div",{className:"findPage",children:(0,qt.jsx)(iI,{})}),rI=()=>{const e=fe(),{state:t}=ue(),{email:n,resetCode:i}=t||{},[a,r]=(0,s.useState)({password:"",passwordConfirm:""}),[o,l]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)({}),[m,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(!1),y=(0,s.useMemo)(()=>n||"",[n]),x=(0,s.useMemo)(()=>i||"",[i]),b=e=>{const{id:t,value:n}=e.target;r(e=>d(d({},e),{},{[t]:n})),u[t]&&p(e=>d(d({},e),{},{[t]:null})),m&&g("")};return(0,qt.jsx)("div",{className:"find-page-container",children:(0,qt.jsxs)("div",{className:"find-page-card",children:[(0,qt.jsx)("h2",{className:"find-title",children:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815"}),(0,qt.jsx)("p",{className:"find-description",children:"\uc0c8\ub85c\uc6b4 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),u.token&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",u.token]}),m&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",m]}),(0,qt.jsxs)("div",{className:"find-input-group",children:[(0,qt.jsx)("label",{htmlFor:"password",children:"\ube44\ubc00\ubc88\ud638"}),(0,qt.jsx)("input",{type:o?"text":"password",id:"password",value:a.password,onChange:b,placeholder:"\ucd5c\uc18c 8\uc790",autoComplete:"new-password",disabled:f}),u.password&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",u.password]}),(0,qt.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>l(e=>!e),"aria-pressed":o,disabled:f,children:o?(0,qt.jsx)("img",{src:aL,alt:"",className:"showPassword"}):(0,qt.jsx)("img",{src:iL,alt:"",className:"showPasswordActive"})})]}),(0,qt.jsxs)("div",{className:"find-input-group",children:[(0,qt.jsx)("label",{htmlFor:"passwordConfirm",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,qt.jsx)("input",{type:c?"text":"password",id:"passwordConfirm",value:a.passwordConfirm,onChange:b,placeholder:"\ube44\ubc00\ubc88\ud638 \ub2e4\uc2dc \uc785\ub825",autoComplete:"new-password",disabled:f}),u.passwordConfirm&&(0,qt.jsxs)("p",{className:"errorMessage",children:["\u26a0\ufe0f ",u.passwordConfirm]}),(0,qt.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>h(e=>!e),"aria-pressed":c,disabled:f,children:c?(0,qt.jsx)("img",{src:aL,alt:"",className:"showPassword"}):(0,qt.jsx)("img",{src:iL,alt:"",className:"showPasswordActive"})})]}),(0,qt.jsx)("button",{className:"find-code-button",onClick:async()=>{if((()=>{const e={},{password:t,passwordConfirm:n}=a;return y&&x||(e.token="\uc778\uc99d \ub2e8\uacc4\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ucc98\uc74c\ubd80\ud130 \uc9c4\ud589\ud574\uc8fc\uc138\uc694."),t?t.length<8&&(e.password="\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."):e.password="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",n?t!==n&&(e.passwordConfirm="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):e.passwordConfirm="\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",p(e),0===Object.keys(e).length})()){v(!0);try{await async function(e,t,n){const s=await fetch("".concat(jt).concat(Et.RESET_PASSWORD),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,resetCode:t,newPassword:n})}),i=await Pt(s);if(s.ok)return i;throw new Nt("object"===typeof i&&i.message||"\ube44\ubc00\ubc88\ud638 \uc7ac\uc124\uc815 \uc2e4\ud328",s.status,i)}(y,x,a.password),alert("\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e("../findsuccess")}catch(t){g(Mt(t))}finally{v(!1)}}},disabled:f,children:f?"\ubcc0\uacbd \uc911\u2026":"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \u2192"})]})})},oI=()=>(0,qt.jsx)("div",{className:"findPage",children:(0,qt.jsx)(rI,{})}),lI=()=>{const e=fe();return(0,qt.jsx)("div",{className:"find-page-container",children:(0,qt.jsxs)("div",{className:"find-page-card",children:[(0,qt.jsxs)("h2",{className:"find-title",children:["\uc815\uc0c1\uc801\uc73c\ub85c \ube44\ubc00\ubc88\ud638\uac00",(0,qt.jsx)("br",{}),"\ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]}),(0,qt.jsx)("p",{className:"find-description",children:"\ub2e4\uc2dc \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694."}),(0,qt.jsx)("button",{className:"find-code-button",onClick:()=>{e("../")},children:"\ub85c\uadf8\uc778 \u2192"})]})})},cI=()=>(0,qt.jsx)("div",{className:"findPage",children:(0,qt.jsx)(lI,{})}),dI=()=>(0,qt.jsx)("div",{className:"authLayoutContainer",children:(0,qt.jsx)("div",{children:(0,qt.jsx)(Le,{})})}),hI=n.p+"static/media/404Error.78ba7011f5629b39b096.png",uI=()=>(0,qt.jsxs)("div",{className:"notfound",children:[(0,qt.jsx)("img",{src:hI,alt:"404 Error Page",className:"Error-Page"}),(0,qt.jsx)("q1",{children:" 404, \ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. "}),(0,qt.jsxs)("q2",{children:[" ","\ud398\uc774\uc9c0\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098, \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4. ",(0,qt.jsx)("br",{}),"\uc785\ub825\ud558\uc2e0 \uc8fc\uc18c\uac00 \uc815\ud655\ud55c\uc9c0 \ub2e4\uc2dc \ud55c \ubc88 \ud655\uc778\ud574\uc8fc\uc138\uc694."]}),(0,qt.jsxs)("div",{className:"device-warning-buttons",children:[(0,qt.jsx)("button",{onClick:()=>window.history.back(),className:"back-button",children:"\u2190 \uc774\uc804 \ud398\uc774\uc9c0"}),(0,qt.jsx)("button",{onClick:()=>window.location.href="/",className:"home-button",children:"\u2302 \ud648\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})]})]});function pI(){const[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)([]),[a,r]=(0,s.useState)("idle"),[o,l]=(0,s.useState)({}),[c,h]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1),b=(0,s.useRef)(null),w=(0,s.useCallback)(e=>{const t=[];for(const n of e)n.type.startsWith("video/")?n.size>524288e3?alert("".concat(n.name,"\uc758 \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4 (\ucd5c\ub300 500MB)")):t.push(n):alert("".concat(n.name,"\uc740(\ub294) \ube44\ub514\uc624 \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4."));return t},[]),_=(0,s.useCallback)(async e=>{if(e&&/^[A-Z]{4}[0-9]{8}$/.test(e))try{const t=await fetch("".concat(jt,"/videoupload/check/").concat(e),{headers:{Authorization:"Bearer ".concat(Ut())}});if(t.ok){const e=await t.json();v(e)}else v(null)}catch(t){console.error("\uae30\uc874 \ube44\ub514\uc624 \ud655\uc778 \uc2e4\ud328:",t),v(null)}else v(null)},[]),S=(0,s.useCallback)(e=>{const n=e.target.value.toUpperCase();t(n),h("");const s=setTimeout(()=>_(n),500);return()=>clearTimeout(s)},[_]),k=(0,s.useCallback)(e=>{e.preventDefault(),g(!0)},[]),C=(0,s.useCallback)(e=>{e.preventDefault(),g(!1)},[]),A=(0,s.useCallback)(e=>{e.preventDefault(),g(!1);const t=Array.from(e.dataTransfer.files),n=w(t);i(n)},[w]),j=(0,s.useCallback)(e=>{const t=Array.from(e.target.files),n=w(t);i(n)},[w]),T=(0,s.useCallback)(e=>{const t=(new Date).toISOString().replace(/[-:T]/g,"").substring(0,14);return"clip_".concat(e,"_").concat(t,".mp4")},[]),E=(0,s.useCallback)(async(t,n)=>{const s=T(n);try{const i=await fetch("".concat(jt,"/videoupload/presigned-url"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Ut())},body:JSON.stringify({gameKey:e,fileName:s})}),a=await i.json();if(!a.success)throw new Error(a.message||"URL \uc0dd\uc131 \uc2e4\ud328");l(e=>d(d({},e),{},{[n]:{status:"uploading",fileName:s}}));const r=await fetch(a.uploadUrl,{method:"PUT",body:t,headers:{"Content-Type":"video/mp4"}});if(!r.ok)throw new Error("\uc5c5\ub85c\ub4dc \uc2e4\ud328: ".concat(r.status));return l(e=>d(d({},e),{},{[n]:{status:"completed",fileName:s}})),!0}catch(i){return l(e=>d(d({},e),{},{[n]:{status:"error",fileName:s,error:i.message}})),!1}},[e,T]),N=(0,s.useCallback)(async()=>{if(!e||!/^[A-Z]{4}[0-9]{8}$/.test(e))return void h("\uc62c\ubc14\ub978 GameKey\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694 (\uc608: HFHY20240907)");if(0===n.length)return void h("\uc5c5\ub85c\ub4dc\ud560 \ube44\ub514\uc624 \ud30c\uc77c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694");r("uploading"),h(""),p("");const s={};n.forEach((e,t)=>{s[t]={status:"waiting",fileName:T(t)}}),l(s);let a=0;for(let e=0;e<n.length;e++){await E(n[e],e)&&a++}a===n.length?(r("success"),p("".concat(a,"\uac1c \ud30c\uc77c\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")),setTimeout(()=>{i([]),l({}),t(""),v(null),b.current&&(b.current.value="")},3e3)):(r("error"),h("".concat(n.length,"\uac1c \uc911 ").concat(a,"\uac1c\ub9cc \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4")))},[e,n,E,T]),P=(0,s.useCallback)(async()=>{if(!e||!/^[A-Z]{4}[0-9]{8}$/.test(e))return void h("\uc62c\ubc14\ub978 GameKey\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694");if(null===f||void 0===f||!f.hasVideos)return void h("\uc0ad\uc81c\ud560 \ube44\ub514\uc624\uac00 \uc5c6\uc2b5\ub2c8\ub2e4");if(window.confirm("\uc815\ub9d0\ub85c ".concat(e," \uacbd\uae30\uc758 \ubaa8\ub4e0 \ube44\ub514\uc624 ").concat(f.fileCount,"\uac1c\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\n\uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")))try{x(!0),h(""),p("");const t=await fetch("".concat(jt,"/videoupload/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(Ut())}});if(!t.ok){const e=await t.text();throw new Error(e||"\ube44\ub514\uc624 \uc0ad\uc81c \uc2e4\ud328")}const n=await t.json();if(!n.success)throw new Error(n.message||"\ube44\ub514\uc624 \uc0ad\uc81c \uc2e4\ud328");p("\uc131\uacf5\uc801\uc73c\ub85c ".concat(n.deletedCount,"\uac1c\uc758 \ube44\ub514\uc624 \ud30c\uc77c\uc744 \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!")),setTimeout(()=>_(e),1e3)}catch(t){console.error("\ube44\ub514\uc624 \uc0ad\uc81c \uc624\ub958:",t),h((null===t||void 0===t?void 0:t.message)||"\ube44\ub514\uc624 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{x(!1)}},[e,f,_]),M=(0,s.useCallback)(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},[]);return(0,qt.jsx)("div",{className:"video-upload-page",children:(0,qt.jsxs)("div",{className:"container",children:[(0,qt.jsxs)("div",{className:"header",children:[(0,qt.jsx)("h1",{children:"\ud074\ub9bd \ube44\ub514\uc624 \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)("p",{children:"\uacbd\uae30\ubcc4 \ud074\ub9bd \ube44\ub514\uc624\ub97c S3\uc5d0 \uc5c5\ub85c\ub4dc\ud569\ub2c8\ub2e4"})]}),(0,qt.jsxs)("div",{className:"section",children:[(0,qt.jsxs)("label",{className:"section-label",children:["\uacbd\uae30 \ucf54\ub4dc ",(0,qt.jsx)("span",{className:"required",children:"*"})]}),(0,qt.jsx)("input",{type:"text",value:e,onChange:S,placeholder:"\uc608: HFHY20240907",className:"gamekey-input",maxLength:12,disabled:"uploading"===a}),(0,qt.jsx)("small",{className:"input-help",children:"\ud615\uc2dd: 4\uae00\uc790(\ud300\ucf54\ub4dc) + 8\uc790\ub9ac \uc22b\uc790(\ub0a0\uc9dc)"}),f&&(0,qt.jsx)("div",{className:"existing-info ".concat(f.hasVideos?"warning":"success"),children:f.hasVideos?(0,qt.jsxs)("div",{children:[(0,qt.jsxs)("strong",{children:["\u26a0\ufe0f \uae30\uc874 \ube44\ub514\uc624 ",f.fileCount,"\uac1c \ubc1c\uacac!"]}),(0,qt.jsx)("p",{children:"\uac19\uc740 \uc778\ub371\uc2a4 \ud30c\uc77c\uc740 \ub36e\uc5b4\uc4f0\uae30\ub429\ub2c8\ub2e4"}),(0,qt.jsx)("div",{style:{marginTop:"10px"},children:(0,qt.jsx)("button",{type:"button",onClick:P,disabled:y||"uploading"===a,style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:y?"not-allowed":"pointer",fontSize:"14px"},children:y?"\uc0ad\uc81c \uc911...":"\uae30\uc874 \ube44\ub514\uc624 ".concat(f.fileCount,"\uac1c \uc0ad\uc81c")})})]}):(0,qt.jsxs)("div",{children:[(0,qt.jsx)("strong",{children:"\u2705 \uc0c8\ub85c\uc6b4 \uacbd\uae30"}),(0,qt.jsx)("p",{children:"\ube44\ub514\uc624\ub97c \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]})})]}),e&&/^[A-Z]{4}[0-9]{8}$/.test(e)&&(0,qt.jsxs)("div",{className:"section",children:[(0,qt.jsxs)("label",{className:"section-label",children:["\ube44\ub514\uc624 \ud30c\uc77c\ub4e4 ",(0,qt.jsx)("span",{className:"required",children:"*"})]}),(0,qt.jsx)("div",{className:"upload-zone ".concat(m?"dragover":""),onDragOver:k,onDragLeave:C,onDrop:A,onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},children:(0,qt.jsxs)("div",{className:"upload-zone-content",children:[(0,qt.jsx)("div",{className:"upload-icon",children:"\ud83d\udcf9"}),(0,qt.jsx)("p",{children:"\ud074\ub9ad\ud558\uac70\ub098 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud574\uc11c \uc5c5\ub85c\ub4dc"}),(0,qt.jsx)("small",{children:"\uc5ec\ub7ec \ube44\ub514\uc624 \ud30c\uc77c \uc120\ud0dd \uac00\ub2a5 (\ucd5c\ub300 500MB/\uac1c)"})]})}),(0,qt.jsx)("input",{ref:b,type:"file",multiple:!0,accept:"video/*",onChange:j,style:{display:"none"},disabled:"uploading"===a})]}),n.length>0&&(0,qt.jsxs)("div",{className:"section",children:[(0,qt.jsxs)("h3",{children:["\uc120\ud0dd\ub41c \ud30c\uc77c (",n.length,"\uac1c)"]}),(0,qt.jsx)("div",{className:"file-list",children:n.map((e,t)=>(0,qt.jsxs)("div",{className:"file-item",children:[(0,qt.jsxs)("span",{className:"file-index",children:["clip_",t]}),(0,qt.jsx)("span",{className:"file-name",children:e.name}),(0,qt.jsx)("span",{className:"file-size",children:M(e.size)})]},t))})]}),"uploading"===a&&(0,qt.jsxs)("div",{className:"section",children:[(0,qt.jsx)("h3",{children:"\uc5c5\ub85c\ub4dc \uc9c4\ud589\ub960"}),(0,qt.jsx)("div",{className:"progress-list",children:Object.entries(o).map(e=>{let[t,n]=e;return(0,qt.jsxs)("div",{className:"progress-item ".concat(n.status),children:[(0,qt.jsxs)("span",{className:"progress-label",children:["clip_",t,": ",n.fileName]}),(0,qt.jsxs)("span",{className:"progress-status ".concat(n.status),children:["waiting"===n.status&&"\ub300\uae30\uc911","uploading"===n.status&&"\uc5c5\ub85c\ub4dc\uc911...","completed"===n.status&&"\u2705 \uc644\ub8cc","error"===n.status&&"\u274c \uc2e4\ud328"]})]},t)})})]}),u&&(0,qt.jsx)("div",{className:"section",children:(0,qt.jsx)("div",{className:"success-message",children:u})}),c&&(0,qt.jsx)("div",{className:"section",children:(0,qt.jsx)("div",{className:"error-message",children:c})}),(0,qt.jsx)("div",{className:"section",children:(0,qt.jsx)("button",{className:"upload-button ".concat(a),onClick:N,disabled:!e||!/^[A-Z]{4}[0-9]{8}$/.test(e)||0===n.length||"uploading"===a,children:"uploading"===a?"\uc5c5\ub85c\ub4dc \uc911... (".concat(Object.values(o).filter(e=>"completed"===e.status).length,"/").concat(n.length,")"):"\uc5c5\ub85c\ub4dc \uc2dc\uc791 (".concat(n.length,"\uac1c \ud30c\uc77c)")})})]})})}function mI(){return(0,qt.jsxs)(Ie,{children:[(0,qt.jsx)(Re,{path:"/",element:(0,qt.jsx)(Jt,{})}),(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(as,{})}),(0,qt.jsx)(Re,{path:"Team",element:(0,qt.jsx)(us,{})}),(0,qt.jsx)(Re,{path:"Deck",element:(0,qt.jsx)(Dx,{})}),(0,qt.jsx)(Re,{path:"Contact",element:(0,qt.jsx)(Lx,{})}),(0,qt.jsxs)(Re,{path:"/service",element:(0,qt.jsx)(Zb,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)($b,{})}),(0,qt.jsxs)(Re,{path:"game",element:(0,qt.jsx)(aD,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(yD,{})}),(0,qt.jsx)(Re,{path:":gameKey/clip",element:(0,qt.jsx)(kD,{})})]}),(0,qt.jsxs)(Re,{path:"stat",element:(0,qt.jsx)(eD,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(iD,{})}),(0,qt.jsx)(Re,{path:"league",element:(0,qt.jsx)(iD,{})}),(0,qt.jsx)(Re,{path:"team",element:(0,qt.jsx)(tD,{})}),(0,qt.jsx)(Re,{path:"position",element:(0,qt.jsx)(nD,{})})]}),(0,qt.jsx)(Re,{path:"suggestion",element:(0,qt.jsx)(ZO,{})}),(0,qt.jsx)(Re,{path:"support",element:(0,qt.jsx)(ew,{})}),(0,qt.jsx)(Re,{path:"faq",element:(0,qt.jsx)(QO,{})}),(0,qt.jsxs)(Re,{path:"profile",element:(0,qt.jsx)(AD,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(YD,{})}),(0,qt.jsx)(Re,{path:"teamstats",element:(0,qt.jsx)(sL,{})}),(0,qt.jsx)(Re,{path:"modify",element:(0,qt.jsx)(rL,{})}),(0,qt.jsxs)(Re,{path:"clip",element:(0,qt.jsx)(hL,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(uL,{})}),(0,qt.jsx)(Re,{path:":gameKey",element:(0,qt.jsx)(yL,{})})]}),(0,qt.jsx)(Re,{path:"manage",element:(0,qt.jsx)(oL,{})})]}),(0,qt.jsx)(Re,{path:"settings",element:(0,qt.jsx)($O,{})}),(0,qt.jsx)(Re,{path:"video",element:(0,qt.jsx)(JP,{})}),(0,qt.jsxs)(Re,{path:"guest",element:(0,qt.jsx)(ZP,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(yM,{})}),(0,qt.jsx)(Re,{path:"game",element:(0,qt.jsx)(vM,{})}),(0,qt.jsx)(Re,{path:"clip",element:(0,qt.jsx)(dM,{})}),(0,qt.jsxs)(Re,{path:"stat",element:(0,qt.jsx)(TM,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(YO,{})}),(0,qt.jsx)(Re,{path:"league",element:(0,qt.jsx)(YO,{})}),(0,qt.jsx)(Re,{path:"team",element:(0,qt.jsx)(AO,{})}),(0,qt.jsx)(Re,{path:"position",element:(0,qt.jsx)(pO,{})})]}),(0,qt.jsx)(Re,{path:"video",element:(0,qt.jsx)(jM,{})})]}),(0,qt.jsxs)(Re,{path:"admin",element:(0,qt.jsx)(GF,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(zF,{})}),(0,qt.jsxs)(Re,{path:"analysis",element:(0,qt.jsx)(qF,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(YF,{})}),(0,qt.jsx)(Re,{path:":gameKey/clips",element:(0,qt.jsx)(VF,{})})]})]})]}),(0,qt.jsxs)(Re,{path:"auth",element:(0,qt.jsx)(dI,{}),children:[(0,qt.jsx)(Re,{index:!0,element:(0,qt.jsx)(XF,{})}),(0,qt.jsx)(Re,{path:"signup",element:(0,qt.jsx)(ZF,{})}),(0,qt.jsx)(Re,{path:"signupprofile",element:(0,qt.jsx)(eI,{})}),(0,qt.jsx)(Re,{path:"find",element:(0,qt.jsx)(sI,{})}),(0,qt.jsx)(Re,{path:"findcode",element:(0,qt.jsx)(aI,{})}),(0,qt.jsx)(Re,{path:"changepassword",element:(0,qt.jsx)(oI,{})}),(0,qt.jsx)(Re,{path:"findsuccess",element:(0,qt.jsx)(cI,{})})]}),(0,qt.jsx)(Re,{path:"videoupload",element:(0,qt.jsx)(pI,{})}),(0,qt.jsx)(Re,{path:"*",element:(0,qt.jsx)(uI,{})})]})}const gI=()=>(0,qt.jsx)(vt,{children:(0,qt.jsxs)(Xt,{children:[(0,qt.jsx)(mI,{}),(0,qt.jsx)(FP,{position:"bottom-center"})]})});i.createRoot(document.getElementById("root")).render((0,qt.jsx)(Xt,{children:(0,qt.jsx)(gI,{})}))})()})();
//# sourceMappingURL=main.328638dc.js.map